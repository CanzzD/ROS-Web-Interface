{"ast":null,"code":"/*!\n* TweenJS\n* Visit http://createjs.com/ for documentation, updates and examples.\n*\n* Copyright (c) 2010 gskinner.com, inc.\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n//##############################################################################\n// extend.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Sets up the prototype chain and constructor property for a new class.\n *\n * This should be called right after creating the class constructor.\n *\n * \tfunction MySubClass() {}\n * \tcreatejs.extend(MySubClass, MySuperClass);\n * \tMySubClass.prototype.doSomething = function() { }\n *\n * \tvar foo = new MySubClass();\n * \tconsole.log(foo instanceof MySuperClass); // true\n * \tconsole.log(foo.prototype.constructor === MySubClass); // true\n *\n * @method extend\n * @param {Function} subclass The subclass.\n * @param {Function} superclass The superclass to extend.\n * @return {Function} Returns the subclass's new prototype.\n */\ncreatejs.extend = function (subclass, superclass) {\n  \"use strict\";\n\n  function o() {\n    this.constructor = subclass;\n  }\n  o.prototype = superclass.prototype;\n  return subclass.prototype = new o();\n};\n\n//##############################################################################\n// promote.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Promotes any methods on the super class that were overridden, by creating an alias in the format `prefix_methodName`.\n * It is recommended to use the super class's name as the prefix.\n * An alias to the super class's constructor is always added in the format `prefix_constructor`.\n * This allows the subclass to call super class methods without using `function.call`, providing better performance.\n *\n * For example, if `MySubClass` extends `MySuperClass`, and both define a `draw` method, then calling `promote(MySubClass, \"MySuperClass\")`\n * would add a `MySuperClass_constructor` method to MySubClass and promote the `draw` method on `MySuperClass` to the\n * prototype of `MySubClass` as `MySuperClass_draw`.\n *\n * This should be called after the class's prototype is fully defined.\n *\n * \tfunction ClassA(name) {\n * \t\tthis.name = name;\n * \t}\n * \tClassA.prototype.greet = function() {\n * \t\treturn \"Hello \"+this.name;\n * \t}\n *\n * \tfunction ClassB(name, punctuation) {\n * \t\tthis.ClassA_constructor(name);\n * \t\tthis.punctuation = punctuation;\n * \t}\n * \tcreatejs.extend(ClassB, ClassA);\n * \tClassB.prototype.greet = function() {\n * \t\treturn this.ClassA_greet()+this.punctuation;\n * \t}\n * \tcreatejs.promote(ClassB, \"ClassA\");\n *\n * \tvar foo = new ClassB(\"World\", \"!?!\");\n * \tconsole.log(foo.greet()); // Hello World!?!\n *\n * @method promote\n * @param {Function} subclass The class to promote super class methods on.\n * @param {String} prefix The prefix to add to the promoted method names. Usually the name of the superclass.\n * @return {Function} Returns the subclass.\n */\ncreatejs.promote = function (subclass, prefix) {\n  \"use strict\";\n\n  var subP = subclass.prototype,\n    supP = Object.getPrototypeOf && Object.getPrototypeOf(subP) || subP.__proto__;\n  if (supP) {\n    subP[(prefix += \"_\") + \"constructor\"] = supP.constructor; // constructor is not always innumerable\n    for (var n in supP) {\n      if (subP.hasOwnProperty(n) && typeof supP[n] == \"function\") {\n        subP[prefix + n] = supP[n];\n      }\n    }\n  }\n  return subclass;\n};\n\n//##############################################################################\n// deprecate.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Wraps deprecated methods so they still be used, but throw warnings to developers.\n *\n *\tobj.deprecatedMethod = createjs.deprecate(\"Old Method Name\", obj._fallbackMethod);\n *\n * The recommended approach for deprecated properties is:\n *\n *\ttry {\n *\t\tObj\tect.defineProperties(object, {\n *\t\t\treadyOnlyProp: { get: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }) },\n *\t\t\treadWriteProp: {\n *\t\t\t\tget: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }),\n *\t\t\t\tset: createjs.deprecate(\"readOnlyProp\", function(val) { this.alternateProp = val; })\n *\t\t});\n *\t} catch (e) {}\n *\n * @method deprecate\n * @param {Function} [fallbackMethod=null] A method to call when the deprecated method is used. See the example for how\n * @param {String} [name=null] The name of the method or property to display in the console warning.\n * to deprecate properties.\n * @return {Function} If a fallbackMethod is supplied, returns a closure that will call the fallback method after\n * logging the warning in the console.\n */\ncreatejs.deprecate = function (fallbackMethod, name) {\n  \"use strict\";\n\n  return function () {\n    var msg = \"Deprecated property or method '\" + name + \"'. See docs for info.\";\n    console && (console.warn ? console.warn(msg) : console.log(msg));\n    return fallbackMethod && fallbackMethod.apply(this, arguments);\n  };\n};\n\n//##############################################################################\n// Event.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  // constructor:\n  /**\n   * Contains properties and methods shared by all events for use with\n   * {{#crossLink \"EventDispatcher\"}}{{/crossLink}}.\n   * \n   * Note that Event objects are often reused, so you should never\n   * rely on an event object's state outside of the call stack it was received in.\n   * @class Event\n   * @param {String} type The event type.\n   * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\n   * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\n   * @constructor\n   **/\n  function Event(type, bubbles, cancelable) {\n    // public properties:\n    /**\n     * The type of event.\n     * @property type\n     * @type String\n     **/\n    this.type = type;\n\n    /**\n     * The object that generated an event.\n     * @property target\n     * @type Object\n     * @default null\n     * @readonly\n    */\n    this.target = null;\n\n    /**\n     * The current target that a bubbling event is being dispatched from. For non-bubbling events, this will\n     * always be the same as target. For example, if childObj.parent = parentObj, and a bubbling event\n     * is generated from childObj, then a listener on parentObj would receive the event with\n     * target=childObj (the original target) and currentTarget=parentObj (where the listener was added).\n     * @property currentTarget\n     * @type Object\n     * @default null\n     * @readonly\n    */\n    this.currentTarget = null;\n\n    /**\n     * For bubbling events, this indicates the current event phase:<OL>\n     * \t<LI> capture phase: starting from the top parent to the target</LI>\n     * \t<LI> at target phase: currently being dispatched from the target</LI>\n     * \t<LI> bubbling phase: from the target to the top parent</LI>\n     * </OL>\n     * @property eventPhase\n     * @type Number\n     * @default 0\n     * @readonly\n    */\n    this.eventPhase = 0;\n\n    /**\n     * Indicates whether the event will bubble through the display list.\n     * @property bubbles\n     * @type Boolean\n     * @default false\n     * @readonly\n    */\n    this.bubbles = !!bubbles;\n\n    /**\n     * Indicates whether the default behaviour of this event can be cancelled via\n     * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}}. This is set via the Event constructor.\n     * @property cancelable\n     * @type Boolean\n     * @default false\n     * @readonly\n    */\n    this.cancelable = !!cancelable;\n\n    /**\n     * The epoch time at which this event was created.\n     * @property timeStamp\n     * @type Number\n     * @default 0\n     * @readonly\n    */\n    this.timeStamp = new Date().getTime();\n\n    /**\n     * Indicates if {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} has been called\n     * on this event.\n     * @property defaultPrevented\n     * @type Boolean\n     * @default false\n     * @readonly\n    */\n    this.defaultPrevented = false;\n\n    /**\n     * Indicates if {{#crossLink \"Event/stopPropagation\"}}{{/crossLink}} or\n     * {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called on this event.\n     * @property propagationStopped\n     * @type Boolean\n     * @default false\n     * @readonly\n    */\n    this.propagationStopped = false;\n\n    /**\n     * Indicates if {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called\n     * on this event.\n     * @property immediatePropagationStopped\n     * @type Boolean\n     * @default false\n     * @readonly\n    */\n    this.immediatePropagationStopped = false;\n\n    /**\n     * Indicates if {{#crossLink \"Event/remove\"}}{{/crossLink}} has been called on this event.\n     * @property removed\n     * @type Boolean\n     * @default false\n     * @readonly\n    */\n    this.removed = false;\n  }\n  var p = Event.prototype;\n\n  // public methods:\n  /**\n   * Sets {{#crossLink \"Event/defaultPrevented\"}}{{/crossLink}} to true if the event is cancelable.\n   * Mirrors the DOM level 2 event standard. In general, cancelable events that have `preventDefault()` called will\n   * cancel the default behaviour associated with the event.\n   * @method preventDefault\n   **/\n  p.preventDefault = function () {\n    this.defaultPrevented = this.cancelable && true;\n  };\n\n  /**\n   * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} to true.\n   * Mirrors the DOM event standard.\n   * @method stopPropagation\n   **/\n  p.stopPropagation = function () {\n    this.propagationStopped = true;\n  };\n\n  /**\n   * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} and\n   * {{#crossLink \"Event/immediatePropagationStopped\"}}{{/crossLink}} to true.\n   * Mirrors the DOM event standard.\n   * @method stopImmediatePropagation\n   **/\n  p.stopImmediatePropagation = function () {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n  };\n\n  /**\n   * Causes the active listener to be removed via removeEventListener();\n   * \n   * \t\tmyBtn.addEventListener(\"click\", function(evt) {\n   * \t\t\t// do stuff...\n   * \t\t\tevt.remove(); // removes this listener.\n   * \t\t});\n   * \n   * @method remove\n   **/\n  p.remove = function () {\n    this.removed = true;\n  };\n\n  /**\n   * Returns a clone of the Event instance.\n   * @method clone\n   * @return {Event} a clone of the Event instance.\n   **/\n  p.clone = function () {\n    return new Event(this.type, this.bubbles, this.cancelable);\n  };\n\n  /**\n   * Provides a chainable shortcut method for setting a number of properties on the instance.\n   *\n   * @method set\n   * @param {Object} props A generic object containing properties to copy to the instance.\n   * @return {Event} Returns the instance the method is called on (useful for chaining calls.)\n   * @chainable\n  */\n  p.set = function (props) {\n    for (var n in props) {\n      this[n] = props[n];\n    }\n    return this;\n  };\n\n  /**\n   * Returns a string representation of this object.\n   * @method toString\n   * @return {String} a string representation of the instance.\n   **/\n  p.toString = function () {\n    return \"[Event (type=\" + this.type + \")]\";\n  };\n  createjs.Event = Event;\n})();\n\n//##############################################################################\n// EventDispatcher.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  // constructor:\n  /**\r\n   * EventDispatcher provides methods for managing queues of event listeners and dispatching events.\r\n   *\r\n   * You can either extend EventDispatcher or mix its methods into an existing prototype or instance by using the\r\n   * EventDispatcher {{#crossLink \"EventDispatcher/initialize\"}}{{/crossLink}} method.\r\n   * \r\n   * Together with the CreateJS Event class, EventDispatcher provides an extended event model that is based on the\r\n   * DOM Level 2 event model, including addEventListener, removeEventListener, and dispatchEvent. It supports\r\n   * bubbling / capture, preventDefault, stopPropagation, stopImmediatePropagation, and handleEvent.\r\n   * \r\n   * EventDispatcher also exposes a {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} method, which makes it easier\r\n   * to create scoped listeners, listeners that only run once, and listeners with associated arbitrary data. The \r\n   * {{#crossLink \"EventDispatcher/off\"}}{{/crossLink}} method is merely an alias to\r\n   * {{#crossLink \"EventDispatcher/removeEventListener\"}}{{/crossLink}}.\r\n   * \r\n   * Another addition to the DOM Level 2 model is the {{#crossLink \"EventDispatcher/removeAllEventListeners\"}}{{/crossLink}}\r\n   * method, which can be used to listeners for all events, or listeners for a specific event. The Event object also \r\n   * includes a {{#crossLink \"Event/remove\"}}{{/crossLink}} method which removes the active listener.\r\n   *\r\n   * <h4>Example</h4>\r\n   * Add EventDispatcher capabilities to the \"MyClass\" class.\r\n   *\r\n   *      EventDispatcher.initialize(MyClass.prototype);\r\n   *\r\n   * Add an event (see {{#crossLink \"EventDispatcher/addEventListener\"}}{{/crossLink}}).\r\n   *\r\n   *      instance.addEventListener(\"eventName\", handlerMethod);\r\n   *      function handlerMethod(event) {\r\n   *          console.log(event.target + \" Was Clicked\");\r\n   *      }\r\n   *\r\n   * <b>Maintaining proper scope</b><br />\r\n   * Scope (ie. \"this\") can be be a challenge with events. Using the {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}}\r\n   * method to subscribe to events simplifies this.\r\n   *\r\n   *      instance.addEventListener(\"click\", function(event) {\r\n   *          console.log(instance == this); // false, scope is ambiguous.\r\n   *      });\r\n   *      \r\n   *      instance.on(\"click\", function(event) {\r\n   *          console.log(instance == this); // true, \"on\" uses dispatcher scope by default.\r\n   *      });\r\n   * \r\n   * If you want to use addEventListener instead, you may want to use function.bind() or a similar proxy to manage\r\n   * scope.\r\n   *\r\n   * <b>Browser support</b>\r\n   * The event model in CreateJS can be used separately from the suite in any project, however the inheritance model\r\n   * requires modern browsers (IE9+).\r\n   *      \r\n   *\r\n   * @class EventDispatcher\r\n   * @constructor\r\n   **/\n  function EventDispatcher() {\n    // private properties:\n    /**\r\n     * @protected\r\n     * @property _listeners\r\n     * @type Object\r\n     **/\n    this._listeners = null;\n\n    /**\r\n     * @protected\r\n     * @property _captureListeners\r\n     * @type Object\r\n     **/\n    this._captureListeners = null;\n  }\n  var p = EventDispatcher.prototype;\n\n  // static public methods:\n  /**\r\n   * Static initializer to mix EventDispatcher methods into a target object or prototype.\r\n   * \r\n   * \t\tEventDispatcher.initialize(MyClass.prototype); // add to the prototype of the class\r\n   * \t\tEventDispatcher.initialize(myObject); // add to a specific instance\r\n   * \r\n   * @method initialize\r\n   * @static\r\n   * @param {Object} target The target object to inject EventDispatcher methods into. This can be an instance or a\r\n   * prototype.\r\n   **/\n  EventDispatcher.initialize = function (target) {\n    target.addEventListener = p.addEventListener;\n    target.on = p.on;\n    target.removeEventListener = target.off = p.removeEventListener;\n    target.removeAllEventListeners = p.removeAllEventListeners;\n    target.hasEventListener = p.hasEventListener;\n    target.dispatchEvent = p.dispatchEvent;\n    target._dispatchEvent = p._dispatchEvent;\n    target.willTrigger = p.willTrigger;\n  };\n\n  // public methods:\n  /**\r\n   * Adds the specified event listener. Note that adding multiple listeners to the same function will result in\r\n   * multiple callbacks getting fired.\r\n   *\r\n   * <h4>Example</h4>\r\n   *\r\n   *      displayObject.addEventListener(\"click\", handleClick);\r\n   *      function handleClick(event) {\r\n   *         // Click happened.\r\n   *      }\r\n   *\r\n   * @method addEventListener\r\n   * @param {String} type The string type of the event.\r\n   * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\r\n   * the event is dispatched.\r\n   * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n   * @return {Function | Object} Returns the listener for chaining or assignment.\r\n   **/\n  p.addEventListener = function (type, listener, useCapture) {\n    var listeners;\n    if (useCapture) {\n      listeners = this._captureListeners = this._captureListeners || {};\n    } else {\n      listeners = this._listeners = this._listeners || {};\n    }\n    var arr = listeners[type];\n    if (arr) {\n      this.removeEventListener(type, listener, useCapture);\n    }\n    arr = listeners[type]; // remove may have deleted the array\n    if (!arr) {\n      listeners[type] = [listener];\n    } else {\n      arr.push(listener);\n    }\n    return listener;\n  };\n\n  /**\r\n   * A shortcut method for using addEventListener that makes it easier to specify an execution scope, have a listener\r\n   * only run once, associate arbitrary data with the listener, and remove the listener.\r\n   * \r\n   * This method works by creating an anonymous wrapper function and subscribing it with addEventListener.\r\n   * The wrapper function is returned for use with `removeEventListener` (or `off`).\r\n   * \r\n   * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener, or use\r\n   * {{#crossLink \"Event/remove\"}}{{/crossLink}}. Likewise, each time you call `on` a NEW wrapper function is subscribed, so multiple calls\r\n   * to `on` with the same params will create multiple listeners.\r\n   * \r\n   * <h4>Example</h4>\r\n   * \r\n   * \t\tvar listener = myBtn.on(\"click\", handleClick, null, false, {count:3});\r\n   * \t\tfunction handleClick(evt, data) {\r\n   * \t\t\tdata.count -= 1;\r\n   * \t\t\tconsole.log(this == myBtn); // true - scope defaults to the dispatcher\r\n   * \t\t\tif (data.count == 0) {\r\n   * \t\t\t\talert(\"clicked 3 times!\");\r\n   * \t\t\t\tmyBtn.off(\"click\", listener);\r\n   * \t\t\t\t// alternately: evt.remove();\r\n   * \t\t\t}\r\n   * \t\t}\r\n   * \r\n   * @method on\r\n   * @param {String} type The string type of the event.\r\n   * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\r\n   * the event is dispatched.\r\n   * @param {Object} [scope] The scope to execute the listener in. Defaults to the dispatcher/currentTarget for function listeners, and to the listener itself for object listeners (ie. using handleEvent).\r\n   * @param {Boolean} [once=false] If true, the listener will remove itself after the first time it is triggered.\r\n   * @param {*} [data] Arbitrary data that will be included as the second parameter when the listener is called.\r\n   * @param {Boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n   * @return {Function} Returns the anonymous function that was created and assigned as the listener. This is needed to remove the listener later using .removeEventListener.\r\n   **/\n  p.on = function (type, listener, scope, once, data, useCapture) {\n    if (listener.handleEvent) {\n      scope = scope || listener;\n      listener = listener.handleEvent;\n    }\n    scope = scope || this;\n    return this.addEventListener(type, function (evt) {\n      listener.call(scope, evt, data);\n      once && evt.remove();\n    }, useCapture);\n  };\n\n  /**\r\n   * Removes the specified event listener.\r\n   *\r\n   * <b>Important Note:</b> that you must pass the exact function reference used when the event was added. If a proxy\r\n   * function, or function closure is used as the callback, the proxy/closure reference must be used - a new proxy or\r\n   * closure will not work.\r\n   *\r\n   * <h4>Example</h4>\r\n   *\r\n   *      displayObject.removeEventListener(\"click\", handleClick);\r\n   *\r\n   * @method removeEventListener\r\n   * @param {String} type The string type of the event.\r\n   * @param {Function | Object} listener The listener function or object.\r\n   * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n   **/\n  p.removeEventListener = function (type, listener, useCapture) {\n    var listeners = useCapture ? this._captureListeners : this._listeners;\n    if (!listeners) {\n      return;\n    }\n    var arr = listeners[type];\n    if (!arr) {\n      return;\n    }\n    for (var i = 0, l = arr.length; i < l; i++) {\n      if (arr[i] == listener) {\n        if (l == 1) {\n          delete listeners[type];\n        } // allows for faster checks.\n        else {\n          arr.splice(i, 1);\n        }\n        break;\n      }\n    }\n  };\n\n  /**\r\n   * A shortcut to the removeEventListener method, with the same parameters and return value. This is a companion to the\r\n   * .on method.\r\n   * \r\n   * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener. See \r\n   * {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} for an example.\r\n   *\r\n   * @method off\r\n   * @param {String} type The string type of the event.\r\n   * @param {Function | Object} listener The listener function or object.\r\n   * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n   **/\n  p.off = p.removeEventListener;\n\n  /**\r\n   * Removes all listeners for the specified type, or all listeners of all types.\r\n   *\r\n   * <h4>Example</h4>\r\n   *\r\n   *      // Remove all listeners\r\n   *      displayObject.removeAllEventListeners();\r\n   *\r\n   *      // Remove all click listeners\r\n   *      displayObject.removeAllEventListeners(\"click\");\r\n   *\r\n   * @method removeAllEventListeners\r\n   * @param {String} [type] The string type of the event. If omitted, all listeners for all types will be removed.\r\n   **/\n  p.removeAllEventListeners = function (type) {\n    if (!type) {\n      this._listeners = this._captureListeners = null;\n    } else {\n      if (this._listeners) {\n        delete this._listeners[type];\n      }\n      if (this._captureListeners) {\n        delete this._captureListeners[type];\n      }\n    }\n  };\n\n  /**\r\n   * Dispatches the specified event to all listeners.\r\n   *\r\n   * <h4>Example</h4>\r\n   *\r\n   *      // Use a string event\r\n   *      this.dispatchEvent(\"complete\");\r\n   *\r\n   *      // Use an Event instance\r\n   *      var event = new createjs.Event(\"progress\");\r\n   *      this.dispatchEvent(event);\r\n   *\r\n   * @method dispatchEvent\r\n   * @param {Object | String | Event} eventObj An object with a \"type\" property, or a string type.\r\n   * While a generic object will work, it is recommended to use a CreateJS Event instance. If a string is used,\r\n   * dispatchEvent will construct an Event instance if necessary with the specified type. This latter approach can\r\n   * be used to avoid event object instantiation for non-bubbling events that may not have any listeners.\r\n   * @param {Boolean} [bubbles] Specifies the `bubbles` value when a string was passed to eventObj.\r\n   * @param {Boolean} [cancelable] Specifies the `cancelable` value when a string was passed to eventObj.\r\n   * @return {Boolean} Returns false if `preventDefault()` was called on a cancelable event, true otherwise.\r\n   **/\n  p.dispatchEvent = function (eventObj, bubbles, cancelable) {\n    if (typeof eventObj == \"string\") {\n      // skip everything if there's no listeners and it doesn't bubble:\n      var listeners = this._listeners;\n      if (!bubbles && (!listeners || !listeners[eventObj])) {\n        return true;\n      }\n      eventObj = new createjs.Event(eventObj, bubbles, cancelable);\n    } else if (eventObj.target && eventObj.clone) {\n      // redispatching an active event object, so clone it:\n      eventObj = eventObj.clone();\n    }\n\n    // TODO: it would be nice to eliminate this. Maybe in favour of evtObj instanceof Event? Or !!evtObj.createEvent\n    try {\n      eventObj.target = this;\n    } catch (e) {} // try/catch allows redispatching of native events\n\n    if (!eventObj.bubbles || !this.parent) {\n      this._dispatchEvent(eventObj, 2);\n    } else {\n      var top = this,\n        list = [top];\n      while (top.parent) {\n        list.push(top = top.parent);\n      }\n      var i,\n        l = list.length;\n\n      // capture & atTarget\n      for (i = l - 1; i >= 0 && !eventObj.propagationStopped; i--) {\n        list[i]._dispatchEvent(eventObj, 1 + (i == 0));\n      }\n      // bubbling\n      for (i = 1; i < l && !eventObj.propagationStopped; i++) {\n        list[i]._dispatchEvent(eventObj, 3);\n      }\n    }\n    return !eventObj.defaultPrevented;\n  };\n\n  /**\r\n   * Indicates whether there is at least one listener for the specified event type.\r\n   * @method hasEventListener\r\n   * @param {String} type The string type of the event.\r\n   * @return {Boolean} Returns true if there is at least one listener for the specified event.\r\n   **/\n  p.hasEventListener = function (type) {\n    var listeners = this._listeners,\n      captureListeners = this._captureListeners;\n    return !!(listeners && listeners[type] || captureListeners && captureListeners[type]);\n  };\n\n  /**\r\n   * Indicates whether there is at least one listener for the specified event type on this object or any of its\r\n   * ancestors (parent, parent's parent, etc). A return value of true indicates that if a bubbling event of the\r\n   * specified type is dispatched from this object, it will trigger at least one listener.\r\n   * \r\n   * This is similar to {{#crossLink \"EventDispatcher/hasEventListener\"}}{{/crossLink}}, but it searches the entire\r\n   * event flow for a listener, not just this object.\r\n   * @method willTrigger\r\n   * @param {String} type The string type of the event.\r\n   * @return {Boolean} Returns `true` if there is at least one listener for the specified event.\r\n   **/\n  p.willTrigger = function (type) {\n    var o = this;\n    while (o) {\n      if (o.hasEventListener(type)) {\n        return true;\n      }\n      o = o.parent;\n    }\n    return false;\n  };\n\n  /**\r\n   * @method toString\r\n   * @return {String} a string representation of the instance.\r\n   **/\n  p.toString = function () {\n    return \"[EventDispatcher]\";\n  };\n\n  // private methods:\n  /**\r\n   * @method _dispatchEvent\r\n   * @param {Object | Event} eventObj\r\n   * @param {Object} eventPhase\r\n   * @protected\r\n   **/\n  p._dispatchEvent = function (eventObj, eventPhase) {\n    var l,\n      arr,\n      listeners = eventPhase <= 2 ? this._captureListeners : this._listeners;\n    if (eventObj && listeners && (arr = listeners[eventObj.type]) && (l = arr.length)) {\n      try {\n        eventObj.currentTarget = this;\n      } catch (e) {}\n      try {\n        eventObj.eventPhase = eventPhase | 0;\n      } catch (e) {}\n      eventObj.removed = false;\n      arr = arr.slice(); // to avoid issues with items being removed or added during the dispatch\n      for (var i = 0; i < l && !eventObj.immediatePropagationStopped; i++) {\n        var o = arr[i];\n        if (o.handleEvent) {\n          o.handleEvent(eventObj);\n        } else {\n          o(eventObj);\n        }\n        if (eventObj.removed) {\n          this.off(eventObj.type, o, eventPhase == 1);\n          eventObj.removed = false;\n        }\n      }\n    }\n    if (eventPhase === 2) {\n      this._dispatchEvent(eventObj, 2.1);\n    }\n  };\n  createjs.EventDispatcher = EventDispatcher;\n})();\n\n//##############################################################################\n// Ticker.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  // constructor:\n  /**\n   * The Ticker provides a centralized tick or heartbeat broadcast at a set interval. Listeners can subscribe to the tick\n   * event to be notified when a set time interval has elapsed.\n   *\n   * Note that the interval that the tick event is called is a target interval, and may be broadcast at a slower interval\n   * when under high CPU load. The Ticker class uses a static interface (ex. `Ticker.framerate = 30;`) and\n   * can not be instantiated.\n   *\n   * <h4>Example</h4>\n   *\n   *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n   *      function handleTick(event) {\n   *          // Actions carried out each tick (aka frame)\n   *          if (!event.paused) {\n   *              // Actions carried out when the Ticker is not paused.\n   *          }\n   *      }\n   *\n   * @class Ticker\n   * @uses EventDispatcher\n   * @static\n   **/\n  function Ticker() {\n    throw \"Ticker cannot be instantiated.\";\n  }\n\n  // constants:\n  /**\n   * In this mode, Ticker uses the requestAnimationFrame API, but attempts to synch the ticks to target framerate. It\n   * uses a simple heuristic that compares the time of the RAF return to the target time for the current frame and\n   * dispatches the tick when the time is within a certain threshold.\n   *\n   * This mode has a higher variance for time between frames than {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}},\n   * but does not require that content be time based as with {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}} while\n   * gaining the benefits of that API (screen synch, background throttling).\n   *\n   * Variance is usually lowest for framerates that are a divisor of the RAF frequency. This is usually 60, so\n   * framerates of 10, 12, 15, 20, and 30 work well.\n   *\n   * Falls back to {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\n   * supported.\n   * @property RAF_SYNCHED\n   * @static\n   * @type {String}\n   * @default \"synched\"\n   * @readonly\n   **/\n  Ticker.RAF_SYNCHED = \"synched\";\n\n  /**\n   * In this mode, Ticker passes through the requestAnimationFrame heartbeat, ignoring the target framerate completely.\n   * Because requestAnimationFrame frequency is not deterministic, any content using this mode should be time based.\n   * You can leverage {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} and the {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\n   * event object's \"delta\" properties to make this easier.\n   *\n   * Falls back on {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\n   * supported.\n   * @property RAF\n   * @static\n   * @type {String}\n   * @default \"raf\"\n   * @readonly\n   **/\n  Ticker.RAF = \"raf\";\n\n  /**\n   * In this mode, Ticker uses the setTimeout API. This provides predictable, adaptive frame timing, but does not\n   * provide the benefits of requestAnimationFrame (screen synch, background throttling).\n   * @property TIMEOUT\n   * @static\n   * @type {String}\n   * @default \"timeout\"\n   * @readonly\n   **/\n  Ticker.TIMEOUT = \"timeout\";\n\n  // static events:\n  /**\n   * Dispatched each tick. The event will be dispatched to each listener even when the Ticker has been paused using\n   * {{#crossLink \"Ticker/paused:property\"}}{{/crossLink}}.\n   *\n   * <h4>Example</h4>\n   *\n   *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n   *      function handleTick(event) {\n   *          console.log(\"Paused:\", event.paused, event.delta);\n   *      }\n   *\n   * @event tick\n   * @param {Object} target The object that dispatched the event.\n   * @param {String} type The event type.\n   * @param {Boolean} paused Indicates whether the ticker is currently paused.\n   * @param {Number} delta The time elapsed in ms since the last tick.\n   * @param {Number} time The total time in ms since Ticker was initialized.\n   * @param {Number} runTime The total time in ms that Ticker was not paused since it was initialized. For example,\n   * \tyou could determine the amount of time that the Ticker has been paused since initialization with `time-runTime`.\n   * @since 0.6.0\n   */\n\n  // public static properties:\n  /**\n   * Specifies the timing api (setTimeout or requestAnimationFrame) and mode to use. See\n   * {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}}, {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}}, and\n   * {{#crossLink \"Ticker/RAF_SYNCHED:property\"}}{{/crossLink}} for mode details.\n   * @property timingMode\n   * @static\n   * @type {String}\n   * @default Ticker.TIMEOUT\n   **/\n  Ticker.timingMode = null;\n\n  /**\n   * Specifies a maximum value for the delta property in the tick event object. This is useful when building time\n   * based animations and systems to prevent issues caused by large time gaps caused by background tabs, system sleep,\n   * alert dialogs, or other blocking routines. Double the expected frame duration is often an effective value\n   * (ex. maxDelta=50 when running at 40fps).\n   * \n   * This does not impact any other values (ex. time, runTime, etc), so you may experience issues if you enable maxDelta\n   * when using both delta and other values.\n   * \n   * If 0, there is no maximum.\n   * @property maxDelta\n   * @static\n   * @type {number}\n   * @default 0\n   */\n  Ticker.maxDelta = 0;\n\n  /**\n   * When the ticker is paused, all listeners will still receive a tick event, but the <code>paused</code> property\n   * of the event will be `true`. Also, while paused the `runTime` will not increase. See {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}},\n   * {{#crossLink \"Ticker/getTime\"}}{{/crossLink}}, and {{#crossLink \"Ticker/getEventTime\"}}{{/crossLink}} for more\n   * info.\n   *\n   * <h4>Example</h4>\n   *\n   *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n   *      createjs.Ticker.paused = true;\n   *      function handleTick(event) {\n   *          console.log(event.paused,\n   *          \tcreatejs.Ticker.getTime(false),\n   *          \tcreatejs.Ticker.getTime(true));\n   *      }\n   *\n   * @property paused\n   * @static\n   * @type {Boolean}\n   * @default false\n   **/\n  Ticker.paused = false;\n\n  // mix-ins:\n  // EventDispatcher methods:\n  Ticker.removeEventListener = null;\n  Ticker.removeAllEventListeners = null;\n  Ticker.dispatchEvent = null;\n  Ticker.hasEventListener = null;\n  Ticker._listeners = null;\n  createjs.EventDispatcher.initialize(Ticker); // inject EventDispatcher methods.\n  Ticker._addEventListener = Ticker.addEventListener;\n  Ticker.addEventListener = function () {\n    !Ticker._inited && Ticker.init();\n    return Ticker._addEventListener.apply(Ticker, arguments);\n  };\n\n  // private static properties:\n  /**\n   * @property _inited\n   * @static\n   * @type {Boolean}\n   * @private\n   **/\n  Ticker._inited = false;\n\n  /**\n   * @property _startTime\n   * @static\n   * @type {Number}\n   * @private\n   **/\n  Ticker._startTime = 0;\n\n  /**\n   * @property _pausedTime\n   * @static\n   * @type {Number}\n   * @private\n   **/\n  Ticker._pausedTime = 0;\n\n  /**\n   * The number of ticks that have passed\n   * @property _ticks\n   * @static\n   * @type {Number}\n   * @private\n   **/\n  Ticker._ticks = 0;\n\n  /**\n   * The number of ticks that have passed while Ticker has been paused\n   * @property _pausedTicks\n   * @static\n   * @type {Number}\n   * @private\n   **/\n  Ticker._pausedTicks = 0;\n\n  /**\n   * @property _interval\n   * @static\n   * @type {Number}\n   * @private\n   **/\n  Ticker._interval = 50;\n\n  /**\n   * @property _lastTime\n   * @static\n   * @type {Number}\n   * @private\n   **/\n  Ticker._lastTime = 0;\n\n  /**\n   * @property _times\n   * @static\n   * @type {Array}\n   * @private\n   **/\n  Ticker._times = null;\n\n  /**\n   * @property _tickTimes\n   * @static\n   * @type {Array}\n   * @private\n   **/\n  Ticker._tickTimes = null;\n\n  /**\n   * Stores the timeout or requestAnimationFrame id.\n   * @property _timerId\n   * @static\n   * @type {Number}\n   * @private\n   **/\n  Ticker._timerId = null;\n\n  /**\n   * True if currently using requestAnimationFrame, false if using setTimeout. This may be different than timingMode\n   * if that property changed and a tick hasn't fired.\n   * @property _raf\n   * @static\n   * @type {Boolean}\n   * @private\n   **/\n  Ticker._raf = true;\n\n  // static getter / setters:\n  /**\n   * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\n   * @method _setInterval\n   * @private\n   * @static\n   * @param {Number} interval\n   **/\n  Ticker._setInterval = function (interval) {\n    Ticker._interval = interval;\n    if (!Ticker._inited) {\n      return;\n    }\n    Ticker._setupTick();\n  };\n  // Ticker.setInterval is @deprecated. Remove for 1.1+\n  Ticker.setInterval = createjs.deprecate(Ticker._setInterval, \"Ticker.setInterval\");\n\n  /**\n   * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\n   * @method _getInterval\n   * @private\n   * @static\n   * @return {Number}\n   **/\n  Ticker._getInterval = function () {\n    return Ticker._interval;\n  };\n  // Ticker.getInterval is @deprecated. Remove for 1.1+\n  Ticker.getInterval = createjs.deprecate(Ticker._getInterval, \"Ticker.getInterval\");\n\n  /**\n   * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\n   * @method _setFPS\n   * @private\n   * @static\n   * @param {Number} value\n   **/\n  Ticker._setFPS = function (value) {\n    Ticker._setInterval(1000 / value);\n  };\n  // Ticker.setFPS is @deprecated. Remove for 1.1+\n  Ticker.setFPS = createjs.deprecate(Ticker._setFPS, \"Ticker.setFPS\");\n\n  /**\n   * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\n   * @method _getFPS\n   * @static\n   * @private\n   * @return {Number}\n   **/\n  Ticker._getFPS = function () {\n    return 1000 / Ticker._interval;\n  };\n  // Ticker.getFPS is @deprecated. Remove for 1.1+\n  Ticker.getFPS = createjs.deprecate(Ticker._getFPS, \"Ticker.getFPS\");\n\n  /**\n   * Indicates the target time (in milliseconds) between ticks. Default is 50 (20 FPS).\n   * Note that actual time between ticks may be more than specified depending on CPU load.\n   * This property is ignored if the ticker is using the `RAF` timing mode.\n   * @property interval\n   * @static\n   * @type {Number}\n   **/\n\n  /**\n   * Indicates the target frame rate in frames per second (FPS). Effectively just a shortcut to `interval`, where\n   * `framerate == 1000/interval`.\n   * @property framerate\n   * @static\n   * @type {Number}\n   **/\n  try {\n    Object.defineProperties(Ticker, {\n      interval: {\n        get: Ticker._getInterval,\n        set: Ticker._setInterval\n      },\n      framerate: {\n        get: Ticker._getFPS,\n        set: Ticker._setFPS\n      }\n    });\n  } catch (e) {\n    console.log(e);\n  }\n\n  // public static methods:\n  /**\n   * Starts the tick. This is called automatically when the first listener is added.\n   * @method init\n   * @static\n   **/\n  Ticker.init = function () {\n    if (Ticker._inited) {\n      return;\n    }\n    Ticker._inited = true;\n    Ticker._times = [];\n    Ticker._tickTimes = [];\n    Ticker._startTime = Ticker._getTime();\n    Ticker._times.push(Ticker._lastTime = 0);\n    Ticker.interval = Ticker._interval;\n  };\n\n  /**\n   * Stops the Ticker and removes all listeners. Use init() to restart the Ticker.\n   * @method reset\n   * @static\n   **/\n  Ticker.reset = function () {\n    if (Ticker._raf) {\n      var f = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame;\n      f && f(Ticker._timerId);\n    } else {\n      clearTimeout(Ticker._timerId);\n    }\n    Ticker.removeAllEventListeners(\"tick\");\n    Ticker._timerId = Ticker._times = Ticker._tickTimes = null;\n    Ticker._startTime = Ticker._lastTime = Ticker._ticks = Ticker._pausedTime = 0;\n    Ticker._inited = false;\n  };\n\n  /**\n   * Returns the average time spent within a tick. This can vary significantly from the value provided by getMeasuredFPS\n   * because it only measures the time spent within the tick execution stack. \n   * \n   * Example 1: With a target FPS of 20, getMeasuredFPS() returns 20fps, which indicates an average of 50ms between \n   * the end of one tick and the end of the next. However, getMeasuredTickTime() returns 15ms. This indicates that \n   * there may be up to 35ms of \"idle\" time between the end of one tick and the start of the next.\n   *\n   * Example 2: With a target FPS of 30, {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} returns 10fps, which\n   * indicates an average of 100ms between the end of one tick and the end of the next. However, {{#crossLink \"Ticker/getMeasuredTickTime\"}}{{/crossLink}}\n   * returns 20ms. This would indicate that something other than the tick is using ~80ms (another script, DOM\n   * rendering, etc).\n   * @method getMeasuredTickTime\n   * @static\n   * @param {Number} [ticks] The number of previous ticks over which to measure the average time spent in a tick.\n   * Defaults to the number of ticks per second. To get only the last tick's time, pass in 1.\n   * @return {Number} The average time spent in a tick in milliseconds.\n   **/\n  Ticker.getMeasuredTickTime = function (ticks) {\n    var ttl = 0,\n      times = Ticker._tickTimes;\n    if (!times || times.length < 1) {\n      return -1;\n    }\n\n    // by default, calculate average for the past ~1 second:\n    ticks = Math.min(times.length, ticks || Ticker._getFPS() | 0);\n    for (var i = 0; i < ticks; i++) {\n      ttl += times[i];\n    }\n    return ttl / ticks;\n  };\n\n  /**\n   * Returns the actual frames / ticks per second.\n   * @method getMeasuredFPS\n   * @static\n   * @param {Number} [ticks] The number of previous ticks over which to measure the actual frames / ticks per second.\n   * Defaults to the number of ticks per second.\n   * @return {Number} The actual frames / ticks per second. Depending on performance, this may differ\n   * from the target frames per second.\n   **/\n  Ticker.getMeasuredFPS = function (ticks) {\n    var times = Ticker._times;\n    if (!times || times.length < 2) {\n      return -1;\n    }\n\n    // by default, calculate fps for the past ~1 second:\n    ticks = Math.min(times.length - 1, ticks || Ticker._getFPS() | 0);\n    return 1000 / ((times[0] - times[ticks]) / ticks);\n  };\n\n  /**\n   * Returns the number of milliseconds that have elapsed since Ticker was initialized via {{#crossLink \"Ticker/init\"}}.\n   * Returns -1 if Ticker has not been initialized. For example, you could use\n   * this in a time synchronized animation to determine the exact amount of time that has elapsed.\n   * @method getTime\n   * @static\n   * @param {Boolean} [runTime=false] If true only time elapsed while Ticker was not paused will be returned.\n   * If false, the value returned will be total time elapsed since the first tick event listener was added.\n   * @return {Number} Number of milliseconds that have elapsed since Ticker was initialized or -1.\n   **/\n  Ticker.getTime = function (runTime) {\n    return Ticker._startTime ? Ticker._getTime() - (runTime ? Ticker._pausedTime : 0) : -1;\n  };\n\n  /**\n   * Similar to the {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} method, but returns the time on the most recent {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\n   * event object.\n   * @method getEventTime\n   * @static\n   * @param runTime {Boolean} [runTime=false] If true, the runTime property will be returned instead of time.\n   * @returns {number} The time or runTime property from the most recent tick event or -1.\n   */\n  Ticker.getEventTime = function (runTime) {\n    return Ticker._startTime ? (Ticker._lastTime || Ticker._startTime) - (runTime ? Ticker._pausedTime : 0) : -1;\n  };\n\n  /**\n   * Returns the number of ticks that have been broadcast by Ticker.\n   * @method getTicks\n   * @static\n   * @param {Boolean} pauseable Indicates whether to include ticks that would have been broadcast\n   * while Ticker was paused. If true only tick events broadcast while Ticker is not paused will be returned.\n   * If false, tick events that would have been broadcast while Ticker was paused will be included in the return\n   * value. The default value is false.\n   * @return {Number} of ticks that have been broadcast.\n   **/\n  Ticker.getTicks = function (pauseable) {\n    return Ticker._ticks - (pauseable ? Ticker._pausedTicks : 0);\n  };\n\n  // private static methods:\n  /**\n   * @method _handleSynch\n   * @static\n   * @private\n   **/\n  Ticker._handleSynch = function () {\n    Ticker._timerId = null;\n    Ticker._setupTick();\n\n    // run if enough time has elapsed, with a little bit of flexibility to be early:\n    if (Ticker._getTime() - Ticker._lastTime >= (Ticker._interval - 1) * 0.97) {\n      Ticker._tick();\n    }\n  };\n\n  /**\n   * @method _handleRAF\n   * @static\n   * @private\n   **/\n  Ticker._handleRAF = function () {\n    Ticker._timerId = null;\n    Ticker._setupTick();\n    Ticker._tick();\n  };\n\n  /**\n   * @method _handleTimeout\n   * @static\n   * @private\n   **/\n  Ticker._handleTimeout = function () {\n    Ticker._timerId = null;\n    Ticker._setupTick();\n    Ticker._tick();\n  };\n\n  /**\n   * @method _setupTick\n   * @static\n   * @private\n   **/\n  Ticker._setupTick = function () {\n    if (Ticker._timerId != null) {\n      return;\n    } // avoid duplicates\n\n    var mode = Ticker.timingMode;\n    if (mode == Ticker.RAF_SYNCHED || mode == Ticker.RAF) {\n      var f = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n      if (f) {\n        Ticker._timerId = f(mode == Ticker.RAF ? Ticker._handleRAF : Ticker._handleSynch);\n        Ticker._raf = true;\n        return;\n      }\n    }\n    Ticker._raf = false;\n    Ticker._timerId = setTimeout(Ticker._handleTimeout, Ticker._interval);\n  };\n\n  /**\n   * @method _tick\n   * @static\n   * @private\n   **/\n  Ticker._tick = function () {\n    var paused = Ticker.paused;\n    var time = Ticker._getTime();\n    var elapsedTime = time - Ticker._lastTime;\n    Ticker._lastTime = time;\n    Ticker._ticks++;\n    if (paused) {\n      Ticker._pausedTicks++;\n      Ticker._pausedTime += elapsedTime;\n    }\n    if (Ticker.hasEventListener(\"tick\")) {\n      var event = new createjs.Event(\"tick\");\n      var maxDelta = Ticker.maxDelta;\n      event.delta = maxDelta && elapsedTime > maxDelta ? maxDelta : elapsedTime;\n      event.paused = paused;\n      event.time = time;\n      event.runTime = time - Ticker._pausedTime;\n      Ticker.dispatchEvent(event);\n    }\n    Ticker._tickTimes.unshift(Ticker._getTime() - time);\n    while (Ticker._tickTimes.length > 100) {\n      Ticker._tickTimes.pop();\n    }\n    Ticker._times.unshift(time);\n    while (Ticker._times.length > 100) {\n      Ticker._times.pop();\n    }\n  };\n\n  /**\n   * @method _getTime\n   * @static\n   * @private\n   **/\n  var w = window,\n    now = w.performance.now || w.performance.mozNow || w.performance.msNow || w.performance.oNow || w.performance.webkitNow;\n  Ticker._getTime = function () {\n    return (now && now.call(w.performance) || new Date().getTime()) - Ticker._startTime;\n  };\n  createjs.Ticker = Ticker;\n})();\n\n//##############################################################################\n// AbstractTween.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  // constructor\n  /**\n   * Base class that both {{#crossLink \"Tween\"}}{{/crossLink}} and {{#crossLink \"Timeline\"}}{{/crossLink}} extend. Should not be instantiated directly.\n   * @class AbstractTween\n   * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n   * Supported props are listed below. These props are set on the corresponding instance properties except where\n   * specified.\n   * @param {boolean} [props.useTicks=false]  See the {{#crossLink \"AbstractTween/useTicks:property\"}}{{/crossLink}} property for more information.\n   * @param {boolean} [props.ignoreGlobalPause=false] See the {{#crossLink \"AbstractTween/ignoreGlobalPause:property\"}}{{/crossLink}} for more information.\n   * @param {number|boolean} [props.loop=0] See the {{#crossLink \"AbstractTween/loop:property\"}}{{/crossLink}} for more information.\n   * @param {boolean} [props.reversed=false] See the {{#crossLink \"AbstractTween/reversed:property\"}}{{/crossLink}} for more information.\n   * @param {boolean} [props.bounce=false] See the {{#crossLink \"AbstractTween/bounce:property\"}}{{/crossLink}} for more information.\n   * @param {number} [props.timeScale=1] See the {{#crossLink \"AbstractTween/timeScale:property\"}}{{/crossLink}} for more information.\n   * @param {Function} [props.onChange] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/change:event\"}}{{/crossLink}} event\n   * @param {Function} [props.onComplete] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/complete:event\"}}{{/crossLink}} event\n   * @extends EventDispatcher\n   * @constructor\n   */\n  function AbstractTween(props) {\n    this.EventDispatcher_constructor();\n\n    // public properties:\n    /**\n     * Causes this tween to continue playing when a global pause is active. For example, if TweenJS is using {{#crossLink \"Ticker\"}}{{/crossLink}},\n     * then setting this to false (the default) will cause this tween to be paused when `Ticker.paused` is set to\n     * `true`. See the {{#crossLink \"Tween/tick\"}}{{/crossLink}} method for more info. Can be set via the `props`\n     * parameter.\n     * @property ignoreGlobalPause\n     * @type Boolean\n     * @default false\n     */\n    this.ignoreGlobalPause = false;\n\n    /**\n     * Indicates the number of times to loop. If set to -1, the tween will loop continuously.\n     *\n     * Note that a tween must loop at _least_ once to see it play in both directions when `{{#crossLink \"AbstractTween/bounce:property\"}}{{/crossLink}}`\n     * is set to `true`.\n     * @property loop\n     * @type {Number}\n     * @default 0\n     */\n    this.loop = 0;\n\n    /**\n     * Uses ticks for all durations instead of milliseconds. This also changes the behaviour of some actions (such as `call`).\n     * Changing this value on a running tween could have unexpected results.\n     * @property useTicks\n     * @type {Boolean}\n     * @default false\n     * @readonly\n     */\n    this.useTicks = false;\n\n    /**\n     * Causes the tween to play in reverse.\n     * @property reversed\n     * @type {Boolean}\n     * @default false\n     */\n    this.reversed = false;\n\n    /**\n     * Causes the tween to reverse direction at the end of each loop. Each single-direction play-through of the\n     * tween counts as a single bounce. For example, to play a tween once forward, and once back, set the\n     * `{{#crossLink \"AbstractTween/loop:property\"}}{{/crossLink}}` to `1`.\n     * @property bounce\n     * @type {Boolean}\n     * @default false\n     */\n    this.bounce = false;\n\n    /**\n     * Changes the rate at which the tween advances. For example, a `timeScale` value of `2` will double the\n     * playback speed, a value of `0.5` would halve it.\n     * @property timeScale\n     * @type {Number}\n     * @default 1\n     */\n    this.timeScale = 1;\n\n    /**\n     * Indicates the duration of this tween in milliseconds (or ticks if `useTicks` is true), irrespective of `loops`.\n     * This value is automatically updated as you modify the tween. Changing it directly could result in unexpected\n     * behaviour.\n     * @property duration\n     * @type {Number}\n     * @default 0\n     * @readonly\n     */\n    this.duration = 0;\n\n    /**\n     * The current normalized position of the tween. This will always be a value between 0 and `duration`.\n     * Changing this property directly will have unexpected results, use {{#crossLink \"Tween/setPosition\"}}{{/crossLink}}.\n     * @property position\n     * @type {Object}\n     * @default 0\n     * @readonly\n     */\n    this.position = 0;\n\n    /**\n     * The raw tween position. This value will be between `0` and `loops * duration` while the tween is active, or -1 before it activates.\n     * @property rawPosition\n     * @type {Number}\n     * @default -1\n     * @readonly\n     */\n    this.rawPosition = -1;\n\n    // private properties:\n    /**\n     * @property _paused\n     * @type {Boolean}\n     * @default false\n     * @protected\n     */\n    this._paused = true;\n\n    /**\n     * @property _next\n     * @type {Tween}\n     * @default null\n     * @protected\n     */\n    this._next = null;\n\n    /**\n     * @property _prev\n     * @type {Tween}\n     * @default null\n     * @protected\n     */\n    this._prev = null;\n\n    /**\n     * @property _parent\n     * @type {Object}\n     * @default null\n     * @protected\n     */\n    this._parent = null;\n\n    /**\n     * @property _labels\n     * @type Object\n     * @protected\n     **/\n    this._labels = null;\n\n    /**\n     * @property _labelList\n     * @type Array[Object]\n     * @protected\n     **/\n    this._labelList = null;\n    if (props) {\n      this.useTicks = !!props.useTicks;\n      this.ignoreGlobalPause = !!props.ignoreGlobalPause;\n      this.loop = props.loop === true ? -1 : props.loop || 0;\n      this.reversed = !!props.reversed;\n      this.bounce = !!props.bounce;\n      this.timeScale = props.timeScale || 1;\n      props.onChange && this.addEventListener(\"change\", props.onChange);\n      props.onComplete && this.addEventListener(\"complete\", props.onComplete);\n    }\n\n    // while `position` is shared, it needs to happen after ALL props are set, so it's handled in _init()\n  }\n  ;\n  var p = createjs.extend(AbstractTween, createjs.EventDispatcher);\n\n  // events:\n  /**\n   * Dispatched whenever the tween's position changes. It occurs after all tweened properties are updated and actions\n   * are executed.\n   * @event change\n   **/\n\n  /**\n   * Dispatched when the tween reaches its end and has paused itself. This does not fire until all loops are complete;\n   * tweens that loop continuously will never fire a complete event.\n   * @event complete\n   **/\n\n  // getter / setters:\n\n  /**\n   * Use the {{#crossLink \"AbstractTween/paused:property\"}}{{/crossLink}} property instead.\n   * @method _setPaused\n   * @param {Boolean} [value=true] Indicates whether the tween should be paused (`true`) or played (`false`).\n   * @return {AbstractTween} This tween instance (for chaining calls)\n   * @protected\n   * @chainable\n   */\n  p._setPaused = function (value) {\n    createjs.Tween._register(this, value);\n    return this;\n  };\n  p.setPaused = createjs.deprecate(p._setPaused, \"AbstractTween.setPaused\");\n\n  /**\n   * Use the {{#crossLink \"AbstractTween/paused:property\"}}{{/crossLink}} property instead.\n   * @method _getPaused\n   * @protected\n   */\n  p._getPaused = function () {\n    return this._paused;\n  };\n  p.getPaused = createjs.deprecate(p._getPaused, \"AbstactTween.getPaused\");\n\n  /**\n   * Use the {{#crossLink \"AbstractTween/currentLabel:property\"}}{{/crossLink}} property instead.\n   * @method _getCurrentLabel\n   * @protected\n   * @return {String} The name of the current label or null if there is no label\n   **/\n  p._getCurrentLabel = function (pos) {\n    var labels = this.getLabels();\n    if (pos == null) {\n      pos = this.position;\n    }\n    for (var i = 0, l = labels.length; i < l; i++) {\n      if (pos < labels[i].position) {\n        break;\n      }\n    }\n    return i === 0 ? null : labels[i - 1].label;\n  };\n  p.getCurrentLabel = createjs.deprecate(p._getCurrentLabel, \"AbstractTween.getCurrentLabel\");\n\n  /**\n   * Pauses or unpauses the tween. A paused tween is removed from the global registry and is eligible for garbage\n   * collection if no other references to it exist.\n   * @property paused\n   * @type Boolean\n   * @readonly\n   **/\n\n  /**\n   * Returns the name of the label on or immediately before the current position. For example, given a tween with\n   * two labels, \"first\" on frame index 4, and \"second\" on frame 8, `currentLabel` would return:\n   * <UL>\n   * \t\t<LI>null if the current position is 2.</LI>\n   * \t\t<LI>\"first\" if the current position is 4.</LI>\n   * \t\t<LI>\"first\" if the current position is 7.</LI>\n   * \t\t<LI>\"second\" if the current position is 15.</LI>\n   * </UL>\n   * @property currentLabel\n   * @type String\n   * @readonly\n   **/\n\n  try {\n    Object.defineProperties(p, {\n      paused: {\n        set: p._setPaused,\n        get: p._getPaused\n      },\n      currentLabel: {\n        get: p._getCurrentLabel\n      }\n    });\n  } catch (e) {}\n\n  // public methods:\n  /**\n   * Advances the tween by a specified amount.\n   * @method advance\n   * @param {Number} delta The amount to advance in milliseconds (or ticks if useTicks is true). Negative values are supported.\n   * @param {Number} [ignoreActions=false] If true, actions will not be executed due to this change in position.\n   */\n  p.advance = function (delta, ignoreActions) {\n    this.setPosition(this.rawPosition + delta * this.timeScale, ignoreActions);\n  };\n\n  /**\n   * Advances the tween to a specified position.\n   * @method setPosition\n   * @param {Number} rawPosition The raw position to seek to in milliseconds (or ticks if useTicks is true).\n   * @param {Boolean} [ignoreActions=false] If true, do not run any actions that would be triggered by this operation.\n   * @param {Boolean} [jump=false] If true, only actions at the new position will be run. If false, actions between the old and new position are run.\n   * @param {Function} [callback] Primarily for use with MovieClip, this callback is called after properties are updated, but before actions are run.\n   */\n  p.setPosition = function (rawPosition, ignoreActions, jump, callback) {\n    var d = this.duration,\n      loopCount = this.loop,\n      prevRawPos = this.rawPosition;\n    var loop = 0,\n      t = 0,\n      end = false;\n\n    // normalize position:\n    if (rawPosition < 0) {\n      rawPosition = 0;\n    }\n    if (d === 0) {\n      // deal with 0 length tweens.\n      end = true;\n      if (prevRawPos !== -1) {\n        return end;\n      } // we can avoid doing anything else if we're already at 0.\n    } else {\n      loop = rawPosition / d | 0;\n      t = rawPosition - loop * d;\n      end = loopCount !== -1 && rawPosition >= loopCount * d + d;\n      if (end) {\n        rawPosition = (t = d) * (loop = loopCount) + d;\n      }\n      if (rawPosition === prevRawPos) {\n        return end;\n      } // no need to update\n\n      var rev = !this.reversed !== !(this.bounce && loop % 2); // current loop is reversed\n      if (rev) {\n        t = d - t;\n      }\n    }\n\n    // set this in advance in case an action modifies position:\n    this.position = t;\n    this.rawPosition = rawPosition;\n    this._updatePosition(jump, end);\n    if (end) {\n      this.paused = true;\n    }\n    callback && callback(this);\n    if (!ignoreActions) {\n      this._runActions(prevRawPos, rawPosition, jump, !jump && prevRawPos === -1);\n    }\n    this.dispatchEvent(\"change\");\n    if (end) {\n      this.dispatchEvent(\"complete\");\n    }\n  };\n\n  /**\n   * Calculates a normalized position based on a raw position. For example, given a tween with a duration of 3000ms set to loop:\n   * \tconsole.log(myTween.calculatePosition(3700); // 700\n   * @method calculatePosition\n   * @param {Number} rawPosition A raw position.\n   */\n  p.calculatePosition = function (rawPosition) {\n    // largely duplicated from setPosition, but necessary to avoid having to instantiate generic objects to pass values (end, loop, position) back.\n    var d = this.duration,\n      loopCount = this.loop,\n      loop = 0,\n      t = 0;\n    if (d === 0) {\n      return 0;\n    }\n    if (loopCount !== -1 && rawPosition >= loopCount * d + d) {\n      t = d;\n      loop = loopCount;\n    } // end\n    else if (rawPosition < 0) {\n      t = 0;\n    } else {\n      loop = rawPosition / d | 0;\n      t = rawPosition - loop * d;\n    }\n    var rev = !this.reversed !== !(this.bounce && loop % 2); // current loop is reversed\n    return rev ? d - t : t;\n  };\n\n  /**\n   * Returns a list of the labels defined on this tween sorted by position.\n   * @method getLabels\n   * @return {Array[Object]} A sorted array of objects with label and position properties.\n   **/\n  p.getLabels = function () {\n    var list = this._labelList;\n    if (!list) {\n      list = this._labelList = [];\n      var labels = this._labels;\n      for (var n in labels) {\n        list.push({\n          label: n,\n          position: labels[n]\n        });\n      }\n      list.sort(function (a, b) {\n        return a.position - b.position;\n      });\n    }\n    return list;\n  };\n\n  /**\n   * Defines labels for use with gotoAndPlay/Stop. Overwrites any previously set labels.\n   * @method setLabels\n   * @param {Object} labels An object defining labels for using {{#crossLink \"Timeline/gotoAndPlay\"}}{{/crossLink}}/{{#crossLink \"Timeline/gotoAndStop\"}}{{/crossLink}}\n   * in the form `{myLabelName:time}` where time is in milliseconds (or ticks if `useTicks` is `true`).\n   **/\n  p.setLabels = function (labels) {\n    this._labels = labels;\n    this._labelList = null;\n  };\n\n  /**\n   * Adds a label that can be used with {{#crossLink \"Timeline/gotoAndPlay\"}}{{/crossLink}}/{{#crossLink \"Timeline/gotoAndStop\"}}{{/crossLink}}.\n   * @method addLabel\n   * @param {String} label The label name.\n   * @param {Number} position The position this label represents.\n   **/\n  p.addLabel = function (label, position) {\n    if (!this._labels) {\n      this._labels = {};\n    }\n    this._labels[label] = position;\n    var list = this._labelList;\n    if (list) {\n      for (var i = 0, l = list.length; i < l; i++) {\n        if (position < list[i].position) {\n          break;\n        }\n      }\n      list.splice(i, 0, {\n        label: label,\n        position: position\n      });\n    }\n  };\n\n  /**\n   * Unpauses this timeline and jumps to the specified position or label.\n   * @method gotoAndPlay\n   * @param {String|Number} positionOrLabel The position in milliseconds (or ticks if `useTicks` is `true`)\n   * or label to jump to.\n   **/\n  p.gotoAndPlay = function (positionOrLabel) {\n    this.paused = false;\n    this._goto(positionOrLabel);\n  };\n\n  /**\n   * Pauses this timeline and jumps to the specified position or label.\n   * @method gotoAndStop\n   * @param {String|Number} positionOrLabel The position in milliseconds (or ticks if `useTicks` is `true`) or label\n   * to jump to.\n   **/\n  p.gotoAndStop = function (positionOrLabel) {\n    this.paused = true;\n    this._goto(positionOrLabel);\n  };\n\n  /**\n   * If a numeric position is passed, it is returned unchanged. If a string is passed, the position of the\n   * corresponding frame label will be returned, or `null` if a matching label is not defined.\n   * @method resolve\n   * @param {String|Number} positionOrLabel A numeric position value or label string.\n   **/\n  p.resolve = function (positionOrLabel) {\n    var pos = Number(positionOrLabel);\n    if (isNaN(pos)) {\n      pos = this._labels && this._labels[positionOrLabel];\n    }\n    return pos;\n  };\n\n  /**\n   * Returns a string representation of this object.\n   * @method toString\n   * @return {String} a string representation of the instance.\n   */\n  p.toString = function () {\n    return \"[AbstractTween]\";\n  };\n\n  /**\n   * @method clone\n   * @protected\n   */\n  p.clone = function () {\n    throw \"AbstractTween can not be cloned.\";\n  };\n\n  // private methods:\n  /**\n   * Shared logic that executes at the end of the subclass constructor.\n   * @method _init\n   * @protected\n   */\n  p._init = function (props) {\n    if (!props || !props.paused) {\n      this.paused = false;\n    }\n    if (props && props.position != null) {\n      this.setPosition(props.position);\n    }\n  };\n\n  /**\n   * @method _updatePosition\n   * @protected\n   */\n  p._updatePosition = function (jump, end) {\n    // abstract.\n  };\n\n  /**\n   * @method _goto\n   * @protected\n   **/\n  p._goto = function (positionOrLabel) {\n    var pos = this.resolve(positionOrLabel);\n    if (pos != null) {\n      this.setPosition(pos, false, true);\n    }\n  };\n\n  /**\n   * @method _runActions\n   * @protected\n   */\n  p._runActions = function (startRawPos, endRawPos, jump, includeStart) {\n    // runs actions between startPos & endPos. Separated to support action deferral.\n\n    //console.log(this.passive === false ? \" > Tween\" : \"Timeline\", \"run\", startRawPos, endRawPos, jump, includeStart);\n\n    // if we don't have any actions, and we're not a Timeline, then return:\n    // TODO: a cleaner way to handle this would be to override this method in Tween, but I'm not sure it's worth the overhead.\n    if (!this._actionHead && !this.tweens) {\n      return;\n    }\n    var d = this.duration,\n      reversed = this.reversed,\n      bounce = this.bounce,\n      loopCount = this.loop;\n    var loop0, loop1, t0, t1;\n    if (d === 0) {\n      // deal with 0 length tweens:\n      loop0 = loop1 = t0 = t1 = 0;\n      reversed = bounce = false;\n    } else {\n      loop0 = startRawPos / d | 0;\n      loop1 = endRawPos / d | 0;\n      t0 = startRawPos - loop0 * d;\n      t1 = endRawPos - loop1 * d;\n    }\n\n    // catch positions that are past the end:\n    if (loopCount !== -1) {\n      if (loop1 > loopCount) {\n        t1 = d;\n        loop1 = loopCount;\n      }\n      if (loop0 > loopCount) {\n        t0 = d;\n        loop0 = loopCount;\n      }\n    }\n\n    // special cases:\n    if (jump) {\n      return this._runActionsRange(t1, t1, jump, includeStart);\n    } // jump.\n    else if (loop0 === loop1 && t0 === t1 && !jump && !includeStart) {\n      return;\n    } // no actions if the position is identical and we aren't including the start\n    else if (loop0 === -1) {\n      loop0 = t0 = 0;\n    } // correct the -1 value for first advance, important with useTicks.\n\n    var dir = startRawPos <= endRawPos,\n      loop = loop0;\n    do {\n      var rev = !reversed !== !(bounce && loop % 2);\n      var start = loop === loop0 ? t0 : dir ? 0 : d;\n      var end = loop === loop1 ? t1 : dir ? d : 0;\n      if (rev) {\n        start = d - start;\n        end = d - end;\n      }\n      if (bounce && loop !== loop0 && start === end) {/* bounced onto the same time/frame, don't re-execute end actions */} else if (this._runActionsRange(start, end, jump, includeStart || loop !== loop0 && !bounce)) {\n        return true;\n      }\n      includeStart = false;\n    } while (dir && ++loop <= loop1 || !dir && --loop >= loop1);\n  };\n  p._runActionsRange = function (startPos, endPos, jump, includeStart) {\n    // abstract\n  };\n  createjs.AbstractTween = createjs.promote(AbstractTween, \"EventDispatcher\");\n})();\n\n//##############################################################################\n// Tween.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  // constructor\n  /**\n   * Tweens properties for a single target. Methods can be chained to create complex animation sequences:\n   *\n   * <h4>Example</h4>\n   *\n   *\tcreatejs.Tween.get(target)\n   *\t\t.wait(500)\n   *\t\t.to({alpha:0, visible:false}, 1000)\n   *\t\t.call(handleComplete);\n   *\n   * Multiple tweens can share a target, however if they affect the same properties there could be unexpected\n   * behaviour. To stop all tweens on an object, use {{#crossLink \"Tween/removeTweens\"}}{{/crossLink}} or pass `override:true`\n   * in the props argument.\n   *\n   * \tcreatejs.Tween.get(target, {override:true}).to({x:100});\n   *\n   * Subscribe to the {{#crossLink \"Tween/change:event\"}}{{/crossLink}} event to be notified when the tween position changes.\n   *\n   * \tcreatejs.Tween.get(target, {override:true}).to({x:100}).addEventListener(\"change\", handleChange);\n   * \tfunction handleChange(event) {\n   * \t\t// The tween changed.\n   * \t}\n   *\n   * See the {{#crossLink \"Tween/get\"}}{{/crossLink}} method also.\n   * @class Tween\n   * @param {Object} target The target object that will have its properties tweened.\n   * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n   * Supported props are listed below. These props are set on the corresponding instance properties except where\n   * specified.\n   * @param {boolean} [props.useTicks=false]  See the {{#crossLink \"AbstractTween/useTicks:property\"}}{{/crossLink}} property for more information.\n   * @param {boolean} [props.ignoreGlobalPause=false] See the {{#crossLink \"AbstractTween/ignoreGlobalPause:property\"}}{{/crossLink}} for more information.\n   * @param {number|boolean} [props.loop=0] See the {{#crossLink \"AbstractTween/loop:property\"}}{{/crossLink}} for more information.\n   * @param {boolean} [props.reversed=false] See the {{#crossLink \"AbstractTween/reversed:property\"}}{{/crossLink}} for more information.\n   * @param {boolean} [props.bounce=false] See the {{#crossLink \"AbstractTween/bounce:property\"}}{{/crossLink}} for more information.\n   * @param {number} [props.timeScale=1] See the {{#crossLink \"AbstractTween/timeScale:property\"}}{{/crossLink}} for more information.\n   * @param {object} [props.pluginData] See the {{#crossLink \"Tween/pluginData:property\"}}{{/crossLink}} for more information.\n   * @param {boolean} [props.paused=false] See the {{#crossLink \"AbstractTween/paused:property\"}}{{/crossLink}} for more information.\n   * @param {number} [props.position=0] The initial position for this tween. See {{#crossLink \"AbstractTween/position:property\"}}{{/crossLink}}\n   * @param {Function} [props.onChange] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/change:event\"}}{{/crossLink}} event\n   * @param {Function} [props.onComplete] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/complete:event\"}}{{/crossLink}} event\n   * @param {boolean} [props.override=false] Removes all existing tweens for the target when set to `true`.\n   * </UL>\n   * @extends AbstractTween\n   * @constructor\n   */\n  function Tween(target, props) {\n    this.AbstractTween_constructor(props);\n\n    // public properties:\n\n    /**\n     * Allows you to specify data that will be used by installed plugins. Each plugin uses this differently, but in general\n     * you specify data by assigning it to a property of `pluginData` with the same name as the plugin.\n     * Note that in many cases, this data is used as soon as the plugin initializes itself for the tween.\n     * As such, this data should be set before the first `to` call in most cases.\n     * @example\n     *\tmyTween.pluginData.SmartRotation = data;\n     * \n     * Most plugins also support a property to disable them for a specific tween. This is typically the plugin name followed by \"_disabled\".\n     * @example\n     *\tmyTween.pluginData.SmartRotation_disabled = true;\n     * \n     * Some plugins also store working data in this object, usually in a property named `_PluginClassName`.\n     * See the documentation for individual plugins for more details.\n     * @property pluginData\n     * @type {Object}\n     */\n    this.pluginData = null;\n\n    /**\n     * The target of this tween. This is the object on which the tweened properties will be changed.\n     * @property target\n     * @type {Object}\n     * @readonly\n     */\n    this.target = target;\n\n    /**\n     * Indicates the tween's current position is within a passive wait.\n     * @property passive\n     * @type {Boolean}\n     * @default false\n     * @readonly\n     **/\n    this.passive = false;\n\n    // private properties:\n\n    /**\n     * @property _stepHead\n     * @type {TweenStep}\n     * @protected\n     */\n    this._stepHead = new TweenStep(null, 0, 0, {}, null, true);\n\n    /**\n     * @property _stepTail\n     * @type {TweenStep}\n     * @protected\n     */\n    this._stepTail = this._stepHead;\n\n    /**\n     * The position within the current step. Used by MovieClip.\n     * @property _stepPosition\n     * @type {Number}\n     * @default 0\n     * @protected\n     */\n    this._stepPosition = 0;\n\n    /**\n     * @property _actionHead\n     * @type {TweenAction}\n     * @protected\n     */\n    this._actionHead = null;\n\n    /**\n     * @property _actionTail\n     * @type {TweenAction}\n     * @protected\n     */\n    this._actionTail = null;\n\n    /**\n     * Plugins added to this tween instance.\n     * @property _plugins\n     * @type Array[Object]\n     * @default null\n     * @protected\n     */\n    this._plugins = null;\n\n    /**\n     * Hash for quickly looking up added plugins. Null until a plugin is added.\n     * @property _plugins\n     * @type Object\n     * @default null\n     * @protected\n     */\n    this._pluginIds = null;\n\n    /**\n     * Used by plugins to inject new properties.\n     * @property _injected\n     * @type {Object}\n     * @default null\n     * @protected\n     */\n    this._injected = null;\n    if (props) {\n      this.pluginData = props.pluginData;\n      if (props.override) {\n        Tween.removeTweens(target);\n      }\n    }\n    if (!this.pluginData) {\n      this.pluginData = {};\n    }\n    this._init(props);\n  }\n  ;\n  var p = createjs.extend(Tween, createjs.AbstractTween);\n\n  // static properties\n\n  /**\n   * Constant returned by plugins to tell the tween not to use default assignment.\n   * @property IGNORE\n   * @type Object\n   * @static\n   */\n  Tween.IGNORE = {};\n\n  /**\n   * @property _listeners\n   * @type Array[Tween]\n   * @static\n   * @protected\n   */\n  Tween._tweens = [];\n\n  /**\n   * @property _plugins\n   * @type Object\n   * @static\n   * @protected\n   */\n  Tween._plugins = null;\n\n  /**\n   * @property _tweenHead\n   * @type Tween\n   * @static\n   * @protected\n   */\n  Tween._tweenHead = null;\n\n  /**\n   * @property _tweenTail\n   * @type Tween\n   * @static\n   * @protected\n   */\n  Tween._tweenTail = null;\n\n  // static methods\t\n  /**\n   * Returns a new tween instance. This is functionally identical to using `new Tween(...)`, but may look cleaner\n   * with the chained syntax of TweenJS.\n   * <h4>Example</h4>\n   *\n   *\tvar tween = createjs.Tween.get(target).to({x:100}, 500);\n   *\t// equivalent to:\n   *\tvar tween = new createjs.Tween(target).to({x:100}, 500);\n   *\n   * @method get\n   * @param {Object} target The target object that will have its properties tweened.\n   * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n   * Supported props are listed below. These props are set on the corresponding instance properties except where\n   * specified.\n   * @param {boolean} [props.useTicks=false]  See the {{#crossLink \"AbstractTween/useTicks:property\"}}{{/crossLink}} property for more information.\n   * @param {boolean} [props.ignoreGlobalPause=false] See the {{#crossLink \"AbstractTween/ignoreGlobalPause:property\"}}{{/crossLink}} for more information.\n   * @param {number|boolean} [props.loop=0] See the {{#crossLink \"AbstractTween/loop:property\"}}{{/crossLink}} for more information.\n   * @param {boolean} [props.reversed=false] See the {{#crossLink \"AbstractTween/reversed:property\"}}{{/crossLink}} for more information.\n   * @param {boolean} [props.bounce=false] See the {{#crossLink \"AbstractTween/bounce:property\"}}{{/crossLink}} for more information.\n   * @param {number} [props.timeScale=1] See the {{#crossLink \"AbstractTween/timeScale:property\"}}{{/crossLink}} for more information.\n   * @param {object} [props.pluginData] See the {{#crossLink \"Tween/pluginData:property\"}}{{/crossLink}} for more information.\n   * @param {boolean} [props.paused=false] See the {{#crossLink \"AbstractTween/paused:property\"}}{{/crossLink}} for more information.\n   * @param {number} [props.position=0] The initial position for this tween. See {{#crossLink \"AbstractTween/position:property\"}}{{/crossLink}}\n   * @param {Function} [props.onChange] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/change:event\"}}{{/crossLink}} event\n   * @param {Function} [props.onComplete] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/complete:event\"}}{{/crossLink}} event\n   * @param {boolean} [props.override=false] Removes all existing tweens for the target when set to `true`.\n   * @return {Tween} A reference to the created tween.\n   * @static\n   */\n  Tween.get = function (target, props) {\n    return new Tween(target, props);\n  };\n\n  /**\n   * Advances all tweens. This typically uses the {{#crossLink \"Ticker\"}}{{/crossLink}} class, but you can call it\n   * manually if you prefer to use your own \"heartbeat\" implementation.\n   * @method tick\n   * @param {Number} delta The change in time in milliseconds since the last tick. Required unless all tweens have\n   * `useTicks` set to true.\n   * @param {Boolean} paused Indicates whether a global pause is in effect. Tweens with {{#crossLink \"Tween/ignoreGlobalPause:property\"}}{{/crossLink}}\n   * will ignore this, but all others will pause if this is `true`.\n   * @static\n   */\n  Tween.tick = function (delta, paused) {\n    var tween = Tween._tweenHead;\n    while (tween) {\n      var next = tween._next; // in case it completes and wipes its _next property\n      if (paused && !tween.ignoreGlobalPause || tween._paused) {/* paused */} else {\n        tween.advance(tween.useTicks ? 1 : delta);\n      }\n      tween = next;\n    }\n  };\n\n  /**\n   * Handle events that result from Tween being used as an event handler. This is included to allow Tween to handle\n   * {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}} events from the createjs {{#crossLink \"Ticker\"}}{{/crossLink}}.\n   * No other events are handled in Tween.\n   * @method handleEvent\n   * @param {Object} event An event object passed in by the {{#crossLink \"EventDispatcher\"}}{{/crossLink}}. Will\n   * usually be of type \"tick\".\n   * @private\n   * @static\n   * @since 0.4.2\n   */\n  Tween.handleEvent = function (event) {\n    if (event.type === \"tick\") {\n      this.tick(event.delta, event.paused);\n    }\n  };\n\n  /**\n   * Removes all existing tweens for a target. This is called automatically by new tweens if the `override`\n   * property is `true`.\n   * @method removeTweens\n   * @param {Object} target The target object to remove existing tweens from.\n   * @static\n   */\n  Tween.removeTweens = function (target) {\n    if (!target.tweenjs_count) {\n      return;\n    }\n    var tween = Tween._tweenHead;\n    while (tween) {\n      var next = tween._next;\n      if (tween.target === target) {\n        Tween._register(tween, true);\n      }\n      tween = next;\n    }\n    target.tweenjs_count = 0;\n  };\n\n  /**\n   * Stop and remove all existing tweens.\n   * @method removeAllTweens\n   * @static\n   * @since 0.4.1\n   */\n  Tween.removeAllTweens = function () {\n    var tween = Tween._tweenHead;\n    while (tween) {\n      var next = tween._next;\n      tween._paused = true;\n      tween.target && (tween.target.tweenjs_count = 0);\n      tween._next = tween._prev = null;\n      tween = next;\n    }\n    Tween._tweenHead = Tween._tweenTail = null;\n  };\n\n  /**\n   * Indicates whether there are any active tweens on the target object (if specified) or in general.\n   * @method hasActiveTweens\n   * @param {Object} [target] The target to check for active tweens. If not specified, the return value will indicate\n   * if there are any active tweens on any target.\n   * @return {Boolean} Indicates if there are active tweens.\n   * @static\n   */\n  Tween.hasActiveTweens = function (target) {\n    if (target) {\n      return !!target.tweenjs_count;\n    }\n    return !!Tween._tweenHead;\n  };\n\n  /**\n   * Installs a plugin, which can modify how certain properties are handled when tweened. See the {{#crossLink \"SamplePlugin\"}}{{/crossLink}}\n   * for an example of how to write TweenJS plugins. Plugins should generally be installed via their own `install` method, in order to provide\n   * the plugin with an opportunity to configure itself.\n   * @method _installPlugin\n   * @param {Object} plugin The plugin to install\n   * @static\n   * @protected\n   */\n  Tween._installPlugin = function (plugin) {\n    var priority = plugin.priority = plugin.priority || 0,\n      arr = Tween._plugins = Tween._plugins || [];\n    for (var i = 0, l = arr.length; i < l; i++) {\n      if (priority < arr[i].priority) {\n        break;\n      }\n    }\n    arr.splice(i, 0, plugin);\n  };\n\n  /**\n   * Registers or unregisters a tween with the ticking system.\n   * @method _register\n   * @param {Tween} tween The tween instance to register or unregister.\n   * @param {Boolean} paused If `false`, the tween is registered. If `true` the tween is unregistered.\n   * @static\n   * @protected\n   */\n  Tween._register = function (tween, paused) {\n    var target = tween.target;\n    if (!paused && tween._paused) {\n      // TODO: this approach might fail if a dev is using sealed objects\n      if (target) {\n        target.tweenjs_count = target.tweenjs_count ? target.tweenjs_count + 1 : 1;\n      }\n      var tail = Tween._tweenTail;\n      if (!tail) {\n        Tween._tweenHead = Tween._tweenTail = tween;\n      } else {\n        Tween._tweenTail = tail._next = tween;\n        tween._prev = tail;\n      }\n      if (!Tween._inited && createjs.Ticker) {\n        createjs.Ticker.addEventListener(\"tick\", Tween);\n        Tween._inited = true;\n      }\n    } else if (paused && !tween._paused) {\n      if (target) {\n        target.tweenjs_count--;\n      }\n      var next = tween._next,\n        prev = tween._prev;\n      if (next) {\n        next._prev = prev;\n      } else {\n        Tween._tweenTail = prev;\n      } // was tail\n      if (prev) {\n        prev._next = next;\n      } else {\n        Tween._tweenHead = next;\n      } // was head.\n\n      tween._next = tween._prev = null;\n    }\n    tween._paused = paused;\n  };\n\n  // events:\n\n  // public methods:\n  /**\n   * Adds a wait (essentially an empty tween).\n   * <h4>Example</h4>\n   *\n   *\t//This tween will wait 1s before alpha is faded to 0.\n   *\tcreatejs.Tween.get(target).wait(1000).to({alpha:0}, 1000);\n   *\n   * @method wait\n   * @param {Number} duration The duration of the wait in milliseconds (or in ticks if `useTicks` is true).\n   * @param {Boolean} [passive=false] Tween properties will not be updated during a passive wait. This\n   * is mostly useful for use with {{#crossLink \"Timeline\"}}{{/crossLink}} instances that contain multiple tweens\n   * affecting the same target at different times.\n   * @return {Tween} This tween instance (for chaining calls).\n   * @chainable\n   **/\n  p.wait = function (duration, passive) {\n    if (duration > 0) {\n      this._addStep(+duration, this._stepTail.props, null, passive);\n    }\n    return this;\n  };\n\n  /**\n   * Adds a tween from the current values to the specified properties. Set duration to 0 to jump to these value.\n   * Numeric properties will be tweened from their current value in the tween to the target value. Non-numeric\n   * properties will be set at the end of the specified duration.\n   * <h4>Example</h4>\n   *\n   *\tcreatejs.Tween.get(target).to({alpha:0, visible:false}, 1000);\n   *\n   * @method to\n   * @param {Object} props An object specifying property target values for this tween (Ex. `{x:300}` would tween the x\n   * property of the target to 300).\n   * @param {Number} [duration=0] The duration of the tween in milliseconds (or in ticks if `useTicks` is true).\n   * @param {Function} [ease=\"linear\"] The easing function to use for this tween. See the {{#crossLink \"Ease\"}}{{/crossLink}}\n   * class for a list of built-in ease functions.\n   * @return {Tween} This tween instance (for chaining calls).\n   * @chainable\n   */\n  p.to = function (props, duration, ease) {\n    if (duration == null || duration < 0) {\n      duration = 0;\n    }\n    var step = this._addStep(+duration, null, ease);\n    this._appendProps(props, step);\n    return this;\n  };\n\n  /**\n   * Adds a label that can be used with {{#crossLink \"Tween/gotoAndPlay\"}}{{/crossLink}}/{{#crossLink \"Tween/gotoAndStop\"}}{{/crossLink}}\n   * at the current point in the tween. For example:\n   * \n   * \tvar tween = createjs.Tween.get(foo)\n   * \t\t\t\t\t.to({x:100}, 1000)\n   * \t\t\t\t\t.label(\"myLabel\")\n   * \t\t\t\t\t.to({x:200}, 1000);\n   * // ...\n   * tween.gotoAndPlay(\"myLabel\"); // would play from 1000ms in.\n   * \n   * @method addLabel\n   * @param {String} label The label name.\n   * @return {Tween} This tween instance (for chaining calls).\n   * @chainable\n   **/\n  p.label = function (name) {\n    this.addLabel(name, this.duration);\n    return this;\n  };\n\n  /**\n   * Adds an action to call the specified function.\n   * <h4>Example</h4>\n   *\n   * \t//would call myFunction() after 1 second.\n   * \tcreatejs.Tween.get().wait(1000).call(myFunction);\n   *\n   * @method call\n   * @param {Function} callback The function to call.\n   * @param {Array} [params]. The parameters to call the function with. If this is omitted, then the function\n   * will be called with a single param pointing to this tween.\n   * @param {Object} [scope]. The scope to call the function in. If omitted, it will be called in the target's scope.\n   * @return {Tween} This tween instance (for chaining calls).\n   * @chainable\n   */\n  p.call = function (callback, params, scope) {\n    return this._addAction(scope || this.target, callback, params || [this]);\n  };\n\n  /**\n   * Adds an action to set the specified props on the specified target. If `target` is null, it will use this tween's\n   * target. Note that for properties on the target object, you should consider using a zero duration {{#crossLink \"Tween/to\"}}{{/crossLink}}\n   * operation instead so the values are registered as tweened props.\n   * <h4>Example</h4>\n   *\n   *\tmyTween.wait(1000).set({visible:false}, foo);\n   *\n   * @method set\n   * @param {Object} props The properties to set (ex. `{visible:false}`).\n   * @param {Object} [target] The target to set the properties on. If omitted, they will be set on the tween's target.\n   * @return {Tween} This tween instance (for chaining calls).\n   * @chainable\n   */\n  p.set = function (props, target) {\n    return this._addAction(target || this.target, this._set, [props]);\n  };\n\n  /**\n   * Adds an action to play (unpause) the specified tween. This enables you to sequence multiple tweens.\n   * <h4>Example</h4>\n   *\n   *\tmyTween.to({x:100}, 500).play(otherTween);\n   *\n   * @method play\n   * @param {Tween} [tween] The tween to play. Defaults to this tween.\n   * @return {Tween} This tween instance (for chaining calls).\n   * @chainable\n   */\n  p.play = function (tween) {\n    return this._addAction(tween || this, this._set, [{\n      paused: false\n    }]);\n  };\n\n  /**\n   * Adds an action to pause the specified tween.\n   * \n   * \tmyTween.pause(otherTween).to({alpha:1}, 1000).play(otherTween);\n   * \n   * Note that this executes at the end of a tween update, so the tween may advance beyond the time the pause\n   * action was inserted at. For example:\n   * \n   * myTween.to({foo:0}, 1000).pause().to({foo:1}, 1000);\n   * \n   * At 60fps the tween will advance by ~16ms per tick, if the tween above was at 999ms prior to the current tick, it\n   * will advance to 1015ms (15ms into the second \"step\") and then pause.\n   * \n   * @method pause\n   * @param {Tween} [tween] The tween to pause. Defaults to this tween.\n   * @return {Tween} This tween instance (for chaining calls)\n   * @chainable\n   */\n  p.pause = function (tween) {\n    return this._addAction(tween || this, this._set, [{\n      paused: true\n    }]);\n  };\n\n  // tiny api (primarily for tool output):\n  p.w = p.wait;\n  p.t = p.to;\n  p.c = p.call;\n  p.s = p.set;\n\n  /**\n   * Returns a string representation of this object.\n   * @method toString\n   * @return {String} a string representation of the instance.\n   */\n  p.toString = function () {\n    return \"[Tween]\";\n  };\n\n  /**\n   * @method clone\n   * @protected\n   */\n  p.clone = function () {\n    throw \"Tween can not be cloned.\";\n  };\n\n  // private methods:\n  /**\n   * Adds a plugin to this tween.\n   * @method _addPlugin\n   * @param {Object} plugin\n   * @protected\n   */\n  p._addPlugin = function (plugin) {\n    var ids = this._pluginIds || (this._pluginIds = {}),\n      id = plugin.ID;\n    if (!id || ids[id]) {\n      return;\n    } // already added\n\n    ids[id] = true;\n    var plugins = this._plugins || (this._plugins = []),\n      priority = plugin.priority || 0;\n    for (var i = 0, l = plugins.length; i < l; i++) {\n      if (priority < plugins[i].priority) {\n        plugins.splice(i, 0, plugin);\n        return;\n      }\n    }\n    plugins.push(plugin);\n  };\n\n  // Docced in AbstractTween\n  p._updatePosition = function (jump, end) {\n    var step = this._stepHead.next,\n      t = this.position,\n      d = this.duration;\n    if (this.target && step) {\n      // find our new step index:\n      var stepNext = step.next;\n      while (stepNext && stepNext.t <= t) {\n        step = step.next;\n        stepNext = step.next;\n      }\n      var ratio = end ? d === 0 ? 1 : t / d : (t - step.t) / step.d; // TODO: revisit this.\n      this._updateTargetProps(step, ratio, end);\n    }\n    this._stepPosition = step ? t - step.t : 0;\n  };\n\n  /**\n   * @method _updateTargetProps\n   * @param {Object} step\n   * @param {Number} ratio\n   * @param {Boolean} end Indicates to plugins that the full tween has ended.\n   * @protected\n   */\n  p._updateTargetProps = function (step, ratio, end) {\n    if (this.passive = !!step.passive) {\n      return;\n    } // don't update props.\n\n    var v, v0, v1, ease;\n    var p0 = step.prev.props;\n    var p1 = step.props;\n    if (ease = step.ease) {\n      ratio = ease(ratio, 0, 1, 1);\n    }\n    var plugins = this._plugins;\n    proploop: for (var n in p0) {\n      v0 = p0[n];\n      v1 = p1[n];\n\n      // values are different & it is numeric then interpolate:\n      if (v0 !== v1 && typeof v0 === \"number\") {\n        v = v0 + (v1 - v0) * ratio;\n      } else {\n        v = ratio >= 1 ? v1 : v0;\n      }\n      if (plugins) {\n        for (var i = 0, l = plugins.length; i < l; i++) {\n          var value = plugins[i].change(this, step, n, v, ratio, end);\n          if (value === Tween.IGNORE) {\n            continue proploop;\n          }\n          if (value !== undefined) {\n            v = value;\n          }\n        }\n      }\n      this.target[n] = v;\n    }\n  };\n\n  /**\n   * @method _runActionsRange\n   * @param {Number} startPos\n   * @param {Number} endPos\n   * @param {Boolean} includeStart\n   * @protected\n   */\n  p._runActionsRange = function (startPos, endPos, jump, includeStart) {\n    var rev = startPos > endPos;\n    var action = rev ? this._actionTail : this._actionHead;\n    var ePos = endPos,\n      sPos = startPos;\n    if (rev) {\n      ePos = startPos;\n      sPos = endPos;\n    }\n    var t = this.position;\n    while (action) {\n      var pos = action.t;\n      if (pos === endPos || pos > sPos && pos < ePos || includeStart && pos === startPos) {\n        action.funct.apply(action.scope, action.params);\n        if (t !== this.position) {\n          return true;\n        }\n      }\n      action = rev ? action.prev : action.next;\n    }\n  };\n\n  /**\n   * @method _appendProps\n   * @param {Object} props\n   * @protected\n   */\n  p._appendProps = function (props, step, stepPlugins) {\n    var initProps = this._stepHead.props,\n      target = this.target,\n      plugins = Tween._plugins;\n    var n, i, value, initValue, inject;\n    var oldStep = step.prev,\n      oldProps = oldStep.props;\n    var stepProps = step.props || (step.props = this._cloneProps(oldProps));\n    var cleanProps = {}; // TODO: is there some way to avoid this additional object?\n\n    for (n in props) {\n      if (!props.hasOwnProperty(n)) {\n        continue;\n      }\n      cleanProps[n] = stepProps[n] = props[n];\n      if (initProps[n] !== undefined) {\n        continue;\n      }\n      initValue = undefined; // accessing missing properties on DOMElements when using CSSPlugin is INSANELY expensive, so we let the plugin take a first swing at it.\n      if (plugins) {\n        for (i = plugins.length - 1; i >= 0; i--) {\n          value = plugins[i].init(this, n, initValue);\n          if (value !== undefined) {\n            initValue = value;\n          }\n          if (initValue === Tween.IGNORE) {\n            delete stepProps[n];\n            delete cleanProps[n];\n            break;\n          }\n        }\n      }\n      if (initValue !== Tween.IGNORE) {\n        if (initValue === undefined) {\n          initValue = target[n];\n        }\n        oldProps[n] = initValue === undefined ? null : initValue;\n      }\n    }\n    for (n in cleanProps) {\n      value = props[n];\n\n      // propagate old value to previous steps:\n      var o,\n        prev = oldStep;\n      while ((o = prev) && (prev = o.prev)) {\n        if (prev.props === o.props) {\n          continue;\n        } // wait step\n        if (prev.props[n] !== undefined) {\n          break;\n        } // already has a value, we're done.\n        prev.props[n] = oldProps[n];\n      }\n    }\n    if (stepPlugins !== false && (plugins = this._plugins)) {\n      for (i = plugins.length - 1; i >= 0; i--) {\n        plugins[i].step(this, step, cleanProps);\n      }\n    }\n    if (inject = this._injected) {\n      this._injected = null;\n      this._appendProps(inject, step, false);\n    }\n  };\n\n  /**\n   * Used by plugins to inject properties onto the current step. Called from within `Plugin.step` calls.\n   * For example, a plugin dealing with color, could read a hex color, and inject red, green, and blue props into the tween.\n   * See the SamplePlugin for more info.\n   * @method _injectProp\n   * @param {String} name\n   * @param {Object} value\n   * @protected\n   */\n  p._injectProp = function (name, value) {\n    var o = this._injected || (this._injected = {});\n    o[name] = value;\n  };\n\n  /**\n   * @method _addStep\n   * @param {Number} duration\n   * @param {Object} props\n   * @param {Function} ease\n   * @param {Boolean} passive\n   * @protected\n   */\n  p._addStep = function (duration, props, ease, passive) {\n    var step = new TweenStep(this._stepTail, this.duration, duration, props, ease, passive || false);\n    this.duration += duration;\n    return this._stepTail = this._stepTail.next = step;\n  };\n\n  /**\n   * @method _addAction\n   * @param {Object} scope\n   * @param {Function} funct\n   * @param {Array} params\n   * @protected\n   */\n  p._addAction = function (scope, funct, params) {\n    var action = new TweenAction(this._actionTail, this.duration, scope, funct, params);\n    if (this._actionTail) {\n      this._actionTail.next = action;\n    } else {\n      this._actionHead = action;\n    }\n    this._actionTail = action;\n    return this;\n  };\n\n  /**\n   * @method _set\n   * @param {Object} props\n   * @protected\n   */\n  p._set = function (props) {\n    for (var n in props) {\n      this[n] = props[n];\n    }\n  };\n\n  /**\n   * @method _cloneProps\n   * @param {Object} props\n   * @protected\n   */\n  p._cloneProps = function (props) {\n    var o = {};\n    for (var n in props) {\n      o[n] = props[n];\n    }\n    return o;\n  };\n  createjs.Tween = createjs.promote(Tween, \"AbstractTween\");\n  function TweenStep(prev, t, d, props, ease, passive) {\n    this.next = null;\n    this.prev = prev;\n    this.t = t;\n    this.d = d;\n    this.props = props;\n    this.ease = ease;\n    this.passive = passive;\n    this.index = prev ? prev.index + 1 : 0;\n  }\n  ;\n  function TweenAction(prev, t, scope, funct, params) {\n    this.next = null;\n    this.prev = prev;\n    this.t = t;\n    this.d = 0;\n    this.scope = scope;\n    this.funct = funct;\n    this.params = params;\n  }\n  ;\n})();\n\n//##############################################################################\n// Timeline.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  // constructor\t\n  /**\n   * The Timeline class synchronizes multiple tweens and allows them to be controlled as a group. Please note that if a\n   * timeline is looping, the tweens on it may appear to loop even if the \"loop\" property of the tween is false.\n   * \n   * NOTE: Timeline currently also accepts a param list in the form: `tweens, labels, props`. This is for backwards\n   * compatibility only and will be removed in the future. Include tweens and labels as properties on the props object.\n   * @class Timeline\n   * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n   * Supported props are listed below. These props are set on the corresponding instance properties except where\n   * specified.<UL>\n   *    <LI> `useTicks`</LI>\n   *    <LI> `ignoreGlobalPause`</LI>\n   *    <LI> `loop`</LI>\n   *    <LI> `reversed`</LI>\n   *    <LI> `bounce`</LI>\n   *    <LI> `timeScale`</LI>\n   *    <LI> `paused`</LI>\n   *    <LI> `position`: indicates the initial position for this tween.</LI>\n   *    <LI> `onChange`: adds the specified function as a listener to the `change` event</LI>\n   *    <LI> `onComplete`: adds the specified function as a listener to the `complete` event</LI>\n   * </UL>\n   * @extends AbstractTween\n   * @constructor\n   **/\n  function Timeline(props) {\n    var tweens, labels;\n    // handle old params (tweens, labels, props):\n    // TODO: deprecated.\n    if (props instanceof Array || props == null && arguments.length > 1) {\n      tweens = props;\n      labels = arguments[1];\n      props = arguments[2];\n    } else if (props) {\n      tweens = props.tweens;\n      labels = props.labels;\n    }\n    this.AbstractTween_constructor(props);\n\n    // private properties:\n    /**\n     * The array of tweens in the timeline. It is *strongly* recommended that you use\n     * {{#crossLink \"Tween/addTween\"}}{{/crossLink}} and {{#crossLink \"Tween/removeTween\"}}{{/crossLink}},\n     * rather than accessing this directly, but it is included for advanced uses.\n     * @property tweens\n     * @type Array\n     **/\n    this.tweens = [];\n    if (tweens) {\n      this.addTween.apply(this, tweens);\n    }\n    this.setLabels(labels);\n    this._init(props);\n  }\n  ;\n  var p = createjs.extend(Timeline, createjs.AbstractTween);\n\n  // events:\n  // docced in AbstractTween.\n\n  // public methods:\n  /**\n   * Adds one or more tweens (or timelines) to this timeline. The tweens will be paused (to remove them from the\n   * normal ticking system) and managed by this timeline. Adding a tween to multiple timelines will result in\n   * unexpected behaviour.\n   * @method addTween\n   * @param {Tween} ...tween The tween(s) to add. Accepts multiple arguments.\n   * @return {Tween} The first tween that was passed in.\n   **/\n  p.addTween = function (tween) {\n    if (tween._parent) {\n      tween._parent.removeTween(tween);\n    }\n    var l = arguments.length;\n    if (l > 1) {\n      for (var i = 0; i < l; i++) {\n        this.addTween(arguments[i]);\n      }\n      return arguments[l - 1];\n    } else if (l === 0) {\n      return null;\n    }\n    this.tweens.push(tween);\n    tween._parent = this;\n    tween.paused = true;\n    var d = tween.duration;\n    if (tween.loop > 0) {\n      d *= tween.loop + 1;\n    }\n    if (d > this.duration) {\n      this.duration = d;\n    }\n    if (this.rawPosition >= 0) {\n      tween.setPosition(this.rawPosition);\n    }\n    return tween;\n  };\n\n  /**\n   * Removes one or more tweens from this timeline.\n   * @method removeTween\n   * @param {Tween} ...tween The tween(s) to remove. Accepts multiple arguments.\n   * @return Boolean Returns `true` if all of the tweens were successfully removed.\n   **/\n  p.removeTween = function (tween) {\n    var l = arguments.length;\n    if (l > 1) {\n      var good = true;\n      for (var i = 0; i < l; i++) {\n        good = good && this.removeTween(arguments[i]);\n      }\n      return good;\n    } else if (l === 0) {\n      return true;\n    }\n    var tweens = this.tweens;\n    var i = tweens.length;\n    while (i--) {\n      if (tweens[i] === tween) {\n        tweens.splice(i, 1);\n        tween._parent = null;\n        if (tween.duration >= this.duration) {\n          this.updateDuration();\n        }\n        return true;\n      }\n    }\n    return false;\n  };\n\n  /**\n   * Recalculates the duration of the timeline. The duration is automatically updated when tweens are added or removed,\n   * but this method is useful if you modify a tween after it was added to the timeline.\n   * @method updateDuration\n   **/\n  p.updateDuration = function () {\n    this.duration = 0;\n    for (var i = 0, l = this.tweens.length; i < l; i++) {\n      var tween = this.tweens[i];\n      var d = tween.duration;\n      if (tween.loop > 0) {\n        d *= tween.loop + 1;\n      }\n      if (d > this.duration) {\n        this.duration = d;\n      }\n    }\n  };\n\n  /**\n  * Returns a string representation of this object.\n  * @method toString\n  * @return {String} a string representation of the instance.\n  **/\n  p.toString = function () {\n    return \"[Timeline]\";\n  };\n\n  /**\n   * @method clone\n   * @protected\n   **/\n  p.clone = function () {\n    throw \"Timeline can not be cloned.\";\n  };\n\n  // private methods:\n\n  // Docced in AbstractTween\n  p._updatePosition = function (jump, end) {\n    var t = this.position;\n    for (var i = 0, l = this.tweens.length; i < l; i++) {\n      this.tweens[i].setPosition(t, true, jump); // actions will run after all the tweens update.\n    }\n  };\n\n  // Docced in AbstractTween\n  p._runActionsRange = function (startPos, endPos, jump, includeStart) {\n    //console.log(\"\trange\", startPos, endPos, jump, includeStart);\n    var t = this.position;\n    for (var i = 0, l = this.tweens.length; i < l; i++) {\n      this.tweens[i]._runActions(startPos, endPos, jump, includeStart);\n      if (t !== this.position) {\n        return true;\n      } // an action changed this timeline's position.\n    }\n  };\n\n  createjs.Timeline = createjs.promote(Timeline, \"AbstractTween\");\n})();\n\n//##############################################################################\n// Ease.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  /**\n   * The Ease class provides a collection of easing functions for use with TweenJS. It does not use the standard 4 param\n   * easing signature. Instead it uses a single param which indicates the current linear ratio (0 to 1) of the tween.\n   *\n   * Most methods on Ease can be passed directly as easing functions:\n   *\n   *      Tween.get(target).to({x:100}, 500, Ease.linear);\n   *\n   * However, methods beginning with \"get\" will return an easing function based on parameter values:\n   *\n   *      Tween.get(target).to({y:200}, 500, Ease.getPowIn(2.2));\n   *\n   * Please see the <a href=\"http://www.createjs.com/Demos/TweenJS/Tween_SparkTable\">spark table demo</a> for an\n   * overview of the different ease types on <a href=\"http://tweenjs.com\">TweenJS.com</a>.\n   *\n   * <em>Equations derived from work by Robert Penner.</em>\n   * @class Ease\n   * @static\n   **/\n  function Ease() {\n    throw \"Ease cannot be instantiated.\";\n  }\n\n  // static methods and properties\n  /**\n   * @method linear\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.linear = function (t) {\n    return t;\n  };\n\n  /**\n   * Identical to linear.\n   * @method none\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.none = Ease.linear;\n\n  /**\n   * Mimics the simple -100 to 100 easing in Adobe Flash/Animate.\n   * @method get\n   * @param {Number} amount A value from -1 (ease in) to 1 (ease out) indicating the strength and direction of the ease.\n   * @static\n   * @return {Function}\n   **/\n  Ease.get = function (amount) {\n    if (amount < -1) {\n      amount = -1;\n    } else if (amount > 1) {\n      amount = 1;\n    }\n    return function (t) {\n      if (amount == 0) {\n        return t;\n      }\n      if (amount < 0) {\n        return t * (t * -amount + 1 + amount);\n      }\n      return t * ((2 - t) * amount + (1 - amount));\n    };\n  };\n\n  /**\n   * Configurable exponential ease.\n   * @method getPowIn\n   * @param {Number} pow The exponent to use (ex. 3 would return a cubic ease).\n   * @static\n   * @return {Function}\n   **/\n  Ease.getPowIn = function (pow) {\n    return function (t) {\n      return Math.pow(t, pow);\n    };\n  };\n\n  /**\n   * Configurable exponential ease.\n   * @method getPowOut\n   * @param {Number} pow The exponent to use (ex. 3 would return a cubic ease).\n   * @static\n   * @return {Function}\n   **/\n  Ease.getPowOut = function (pow) {\n    return function (t) {\n      return 1 - Math.pow(1 - t, pow);\n    };\n  };\n\n  /**\n   * Configurable exponential ease.\n   * @method getPowInOut\n   * @param {Number} pow The exponent to use (ex. 3 would return a cubic ease).\n   * @static\n   * @return {Function}\n   **/\n  Ease.getPowInOut = function (pow) {\n    return function (t) {\n      if ((t *= 2) < 1) return 0.5 * Math.pow(t, pow);\n      return 1 - 0.5 * Math.abs(Math.pow(2 - t, pow));\n    };\n  };\n\n  /**\n   * @method quadIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quadIn = Ease.getPowIn(2);\n  /**\n   * @method quadOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quadOut = Ease.getPowOut(2);\n  /**\n   * @method quadInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quadInOut = Ease.getPowInOut(2);\n\n  /**\n   * @method cubicIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.cubicIn = Ease.getPowIn(3);\n  /**\n   * @method cubicOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.cubicOut = Ease.getPowOut(3);\n  /**\n   * @method cubicInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.cubicInOut = Ease.getPowInOut(3);\n\n  /**\n   * @method quartIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quartIn = Ease.getPowIn(4);\n  /**\n   * @method quartOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quartOut = Ease.getPowOut(4);\n  /**\n   * @method quartInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quartInOut = Ease.getPowInOut(4);\n\n  /**\n   * @method quintIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quintIn = Ease.getPowIn(5);\n  /**\n   * @method quintOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quintOut = Ease.getPowOut(5);\n  /**\n   * @method quintInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.quintInOut = Ease.getPowInOut(5);\n\n  /**\n   * @method sineIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.sineIn = function (t) {\n    return 1 - Math.cos(t * Math.PI / 2);\n  };\n\n  /**\n   * @method sineOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.sineOut = function (t) {\n    return Math.sin(t * Math.PI / 2);\n  };\n\n  /**\n   * @method sineInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.sineInOut = function (t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n  };\n\n  /**\n   * Configurable \"back in\" ease.\n   * @method getBackIn\n   * @param {Number} amount The strength of the ease.\n   * @static\n   * @return {Function}\n   **/\n  Ease.getBackIn = function (amount) {\n    return function (t) {\n      return t * t * ((amount + 1) * t - amount);\n    };\n  };\n  /**\n   * @method backIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.backIn = Ease.getBackIn(1.7);\n\n  /**\n   * Configurable \"back out\" ease.\n   * @method getBackOut\n   * @param {Number} amount The strength of the ease.\n   * @static\n   * @return {Function}\n   **/\n  Ease.getBackOut = function (amount) {\n    return function (t) {\n      return --t * t * ((amount + 1) * t + amount) + 1;\n    };\n  };\n  /**\n   * @method backOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.backOut = Ease.getBackOut(1.7);\n\n  /**\n   * Configurable \"back in out\" ease.\n   * @method getBackInOut\n   * @param {Number} amount The strength of the ease.\n   * @static\n   * @return {Function}\n   **/\n  Ease.getBackInOut = function (amount) {\n    amount *= 1.525;\n    return function (t) {\n      if ((t *= 2) < 1) return 0.5 * (t * t * ((amount + 1) * t - amount));\n      return 0.5 * ((t -= 2) * t * ((amount + 1) * t + amount) + 2);\n    };\n  };\n  /**\n   * @method backInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.backInOut = Ease.getBackInOut(1.7);\n\n  /**\n   * @method circIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.circIn = function (t) {\n    return -(Math.sqrt(1 - t * t) - 1);\n  };\n\n  /**\n   * @method circOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.circOut = function (t) {\n    return Math.sqrt(1 - --t * t);\n  };\n\n  /**\n   * @method circInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.circInOut = function (t) {\n    if ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n  };\n\n  /**\n   * @method bounceIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.bounceIn = function (t) {\n    return 1 - Ease.bounceOut(1 - t);\n  };\n\n  /**\n   * @method bounceOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.bounceOut = function (t) {\n    if (t < 1 / 2.75) {\n      return 7.5625 * t * t;\n    } else if (t < 2 / 2.75) {\n      return 7.5625 * (t -= 1.5 / 2.75) * t + 0.75;\n    } else if (t < 2.5 / 2.75) {\n      return 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375;\n    } else {\n      return 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;\n    }\n  };\n\n  /**\n   * @method bounceInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.bounceInOut = function (t) {\n    if (t < 0.5) return Ease.bounceIn(t * 2) * .5;\n    return Ease.bounceOut(t * 2 - 1) * 0.5 + 0.5;\n  };\n\n  /**\n   * Configurable elastic ease.\n   * @method getElasticIn\n   * @param {Number} amplitude\n   * @param {Number} period\n   * @static\n   * @return {Function}\n   **/\n  Ease.getElasticIn = function (amplitude, period) {\n    var pi2 = Math.PI * 2;\n    return function (t) {\n      if (t == 0 || t == 1) return t;\n      var s = period / pi2 * Math.asin(1 / amplitude);\n      return -(amplitude * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * pi2 / period));\n    };\n  };\n  /**\n   * @method elasticIn\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.elasticIn = Ease.getElasticIn(1, 0.3);\n\n  /**\n   * Configurable elastic ease.\n   * @method getElasticOut\n   * @param {Number} amplitude\n   * @param {Number} period\n   * @static\n   * @return {Function}\n   **/\n  Ease.getElasticOut = function (amplitude, period) {\n    var pi2 = Math.PI * 2;\n    return function (t) {\n      if (t == 0 || t == 1) return t;\n      var s = period / pi2 * Math.asin(1 / amplitude);\n      return amplitude * Math.pow(2, -10 * t) * Math.sin((t - s) * pi2 / period) + 1;\n    };\n  };\n  /**\n   * @method elasticOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.elasticOut = Ease.getElasticOut(1, 0.3);\n\n  /**\n   * Configurable elastic ease.\n   * @method getElasticInOut\n   * @param {Number} amplitude\n   * @param {Number} period\n   * @static\n   * @return {Function}\n   **/\n  Ease.getElasticInOut = function (amplitude, period) {\n    var pi2 = Math.PI * 2;\n    return function (t) {\n      var s = period / pi2 * Math.asin(1 / amplitude);\n      if ((t *= 2) < 1) return -0.5 * (amplitude * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * pi2 / period));\n      return amplitude * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * pi2 / period) * 0.5 + 1;\n    };\n  };\n  /**\n   * @method elasticInOut\n   * @param {Number} t\n   * @static\n   * @return {Number}\n   **/\n  Ease.elasticInOut = Ease.getElasticInOut(1, 0.3 * 1.5);\n  createjs.Ease = Ease;\n})();\n\n//##############################################################################\n// MotionGuidePlugin.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  /**\n   * A TweenJS plugin for working with motion guides. Defined paths which objects can follow or orient along.\n   *\n   * To use the plugin, install the plugin after TweenJS has loaded. To define a path, add\n   *\n   * \t\tcreatejs.MotionGuidePlugin.install();\n   *\n   * <h4>Example</h4>\n   *\n   * \t\t// Using a Motion Guide\n   * \t\tcreatejs.Tween.get(target).to({guide:{ path:[0,0, 0,200,200,200, 200,0,0,0] }},7000);\n   * \t\t// Visualizing the line\n   * \t\tgraphics.moveTo(0,0).curveTo(0,200,200,200).curveTo(200,0,0,0);\n   *\n   * Each path needs pre-computation to ensure there's fast performance. Because of the pre-computation there's no\n   * built in support for path changes mid tween. These are the Guide Object's properties:<UL>\n   * \t\t<LI> path: Required, Array : The x/y points used to draw the path with a moveTo and 1 to n curveTo calls.</LI>\n   * \t\t<LI> start: Optional, 0-1 : Initial position, default 0 except for when continuing along the same path.</LI>\n   * \t\t<LI> end: Optional, 0-1 : Final position, default 1 if not specified.</LI>\n   * \t\t<LI> orient: Optional, string : \"fixed\"/\"auto\"/\"cw\"/\"ccw\"<UL>\n   *\t\t\t\t<LI>\"fixed\" forces the object to face down the path all movement (relative to start rotation),</LI>\n   * \t\t\t\t<LI>\"auto\" rotates the object along the path relative to the line.</LI>\n   * \t\t\t\t<LI>\"cw\"/\"ccw\" force clockwise or counter clockwise rotations including Adobe Flash/Animate-like\n   * \t\t\t\tbehaviour. This may override your end rotation value.</LI>\n   * \t\t</UL></LI>\n   * </UL>\n   * Guide objects should not be shared between tweens even if all properties are identical, the library stores\n   * information on these objects in the background and sharing them can cause unexpected behaviour. Values\n   * outside 0-1 range of tweens will be a \"best guess\" from the appropriate part of the defined curve.\n   *\n   * @class MotionGuidePlugin\n   * @constructor\n   */\n  function MotionGuidePlugin() {\n    throw \"MotionGuidePlugin cannot be instantiated.\";\n  }\n  var s = MotionGuidePlugin;\n\n  // static properties:\n  /**\n   * @property priority\n   * @protected\n   * @static\n   */\n  s.priority = 0; // high priority, should run sooner\n\n  /**\n   * READ-ONLY. A unique identifying string for this plugin. Used by TweenJS to ensure duplicate plugins are not installed on a tween.\n   * @property ID\n   * @type {String}\n   * @static\n   * @readonly\n   */\n  s.ID = \"MotionGuide\";\n\n  // static methods\n  /**\n   * Installs this plugin for use with TweenJS. Call this once after TweenJS is loaded to enable this plugin.\n   * @method install\n   * @static\n   */\n  s.install = function () {\n    createjs.Tween._installPlugin(MotionGuidePlugin);\n    return createjs.Tween.IGNORE;\n  };\n\n  /**\n   * Called by TweenJS when a new property initializes on a tween.\n   * See {{#crossLink \"SamplePlugin/init\"}}{{/crossLink}} for more info.\n   * @method init\n   * @param {Tween} tween\n   * @param {String} prop\n   * @param {any} value\n   * @return {any}\n   * @static\n   */\n  s.init = function (tween, prop, value) {\n    if (prop == \"guide\") {\n      tween._addPlugin(s);\n    }\n  };\n\n  /**\n   * Called when a new step is added to a tween (ie. a new \"to\" action is added to a tween).\n   * See {{#crossLink \"SamplePlugin/step\"}}{{/crossLink}} for more info.\n   * @method step\n   * @param {Tween} tween\n   * @param {TweenStep} step\n   * @param {Object} props\n   * @static\n   */\n  s.step = function (tween, step, props) {\n    for (var n in props) {\n      if (n !== \"guide\") {\n        continue;\n      }\n      var guideData = step.props.guide;\n      var error = s._solveGuideData(props.guide, guideData);\n      guideData.valid = !error;\n      var end = guideData.endData;\n      tween._injectProp(\"x\", end.x);\n      tween._injectProp(\"y\", end.y);\n      if (error || !guideData.orient) {\n        break;\n      }\n      var initRot = step.prev.props.rotation === undefined ? tween.target.rotation || 0 : step.prev.props.rotation;\n      guideData.startOffsetRot = initRot - guideData.startData.rotation;\n      if (guideData.orient == \"fixed\") {\n        // controlled rotation\n        guideData.endAbsRot = end.rotation + guideData.startOffsetRot;\n        guideData.deltaRotation = 0;\n      } else {\n        // interpreted rotation\n\n        var finalRot = props.rotation === undefined ? tween.target.rotation || 0 : props.rotation;\n        var deltaRot = finalRot - guideData.endData.rotation - guideData.startOffsetRot;\n        var modRot = deltaRot % 360;\n        guideData.endAbsRot = finalRot;\n        switch (guideData.orient) {\n          case \"auto\":\n            guideData.deltaRotation = deltaRot;\n            break;\n          case \"cw\":\n            guideData.deltaRotation = (modRot + 360) % 360 + 360 * Math.abs(deltaRot / 360 | 0);\n            break;\n          case \"ccw\":\n            guideData.deltaRotation = (modRot - 360) % 360 + -360 * Math.abs(deltaRot / 360 | 0);\n            break;\n        }\n      }\n      tween._injectProp(\"rotation\", guideData.endAbsRot);\n    }\n  };\n\n  /**\n   * Called before a property is updated by the tween.\n   * See {{#crossLink \"SamplePlugin/change\"}}{{/crossLink}} for more info.\n   * @method change\n   * @param {Tween} tween\n   * @param {TweenStep} step\n   * @param {String} prop\n   * @param {any} value\n   * @param {Number} ratio\n   * @param {Boolean} end\n   * @return {any}\n   * @static\n   */\n  s.change = function (tween, step, prop, value, ratio, end) {\n    var guideData = step.props.guide;\n    if (!guideData ||\n    // Missing data\n    step.props === step.prev.props ||\n    // In a wait()\n    guideData === step.prev.props.guide // Guide hasn't changed\n    ) {\n      return; // have no business making decisions\n    }\n\n    if (prop === \"guide\" && !guideData.valid ||\n    // this data is broken\n    prop == \"x\" || prop == \"y\" ||\n    // these always get over-written\n    prop === \"rotation\" && guideData.orient // currently over-written\n    ) {\n      return createjs.Tween.IGNORE;\n    }\n    s._ratioToPositionData(ratio, guideData, tween.target);\n  };\n\n  // public methods\n  /**\n   * Provide potentially useful debugging information, like running the error detection system, and rendering the path\n   * defined in the guide data.\n   *\n   * NOTE: you will need to transform your context 2D to the local space of the guide if you wish to line it up.\n   * @param {Object} guideData All the information describing the guide to be followed.\n   * @param {DrawingContext2D} [ctx=undefined] The context to draw the object into.\n   * @param {Array} [higlight=undefined] Array of ratio positions to highlight\n   * @returns {undefined|String}\n   */\n  s.debug = function (guideData, ctx, higlight) {\n    guideData = guideData.guide || guideData;\n\n    // errors\n    var err = s._findPathProblems(guideData);\n    if (err) {\n      console.error(\"MotionGuidePlugin Error found: \\n\" + err);\n    }\n\n    // drawing\n    if (!ctx) {\n      return err;\n    }\n    var i;\n    var path = guideData.path;\n    var pathLength = path.length;\n    var width = 3;\n    var length = 9;\n    ctx.save();\n    //ctx.resetTransform();\n\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"miter\";\n    ctx.beginPath();\n\n    // curve\n    ctx.moveTo(path[0], path[1]);\n    for (i = 2; i < pathLength; i += 4) {\n      ctx.quadraticCurveTo(path[i], path[i + 1], path[i + 2], path[i + 3]);\n    }\n    ctx.strokeStyle = \"black\";\n    ctx.lineWidth = width * 1.5;\n    ctx.stroke();\n    ctx.strokeStyle = \"white\";\n    ctx.lineWidth = width;\n    ctx.stroke();\n    ctx.closePath();\n\n    // highlights\n    var hiCount = higlight.length;\n    if (higlight && hiCount) {\n      var tempStore = {};\n      var tempLook = {};\n      s._solveGuideData(guideData, tempStore);\n      for (var i = 0; i < hiCount; i++) {\n        tempStore.orient = \"fixed\";\n        s._ratioToPositionData(higlight[i], tempStore, tempLook);\n        ctx.beginPath();\n        ctx.moveTo(tempLook.x, tempLook.y);\n        ctx.lineTo(tempLook.x + Math.cos(tempLook.rotation * 0.0174533) * length, tempLook.y + Math.sin(tempLook.rotation * 0.0174533) * length);\n        ctx.strokeStyle = \"black\";\n        ctx.lineWidth = width * 1.5;\n        ctx.stroke();\n        ctx.strokeStyle = \"red\";\n        ctx.lineWidth = width;\n        ctx.stroke();\n        ctx.closePath();\n      }\n    }\n\n    // end draw\n    ctx.restore();\n    return err;\n  };\n\n  // private methods\n  /**\n   * Calculate and store optimization data about the desired path to improve performance and accuracy of positions.\n   * @param {Object} source The guide data provided to the tween call\n   * @param {Object} storage the guide data used by the step calls and plugin to do the job, will be overwritten\n   * @returns {undefined|String} Can return an error if unable to generate the data.\n   * @private\n   */\n  s._solveGuideData = function (source, storage) {\n    var err = undefined;\n    if (err = s.debug(source)) {\n      return err;\n    }\n    var path = storage.path = source.path;\n    var orient = storage.orient = source.orient;\n    storage.subLines = [];\n    storage.totalLength = 0;\n    storage.startOffsetRot = 0;\n    storage.deltaRotation = 0;\n    storage.startData = {\n      ratio: 0\n    };\n    storage.endData = {\n      ratio: 1\n    };\n    storage.animSpan = 1;\n    var pathLength = path.length;\n    var precision = 10;\n    var sx,\n      sy,\n      cx,\n      cy,\n      ex,\n      ey,\n      i,\n      j,\n      len,\n      temp = {};\n    sx = path[0];\n    sy = path[1];\n\n    // get the data for each curve\n    for (i = 2; i < pathLength; i += 4) {\n      cx = path[i];\n      cy = path[i + 1];\n      ex = path[i + 2];\n      ey = path[i + 3];\n      var subLine = {\n        weightings: [],\n        estLength: 0,\n        portion: 0\n      };\n      var subX = sx,\n        subY = sy;\n      // get the distance data for each point\n      for (j = 1; j <= precision; j++) {\n        // we need to evaluate t = 1 not t = 0\n        s._getParamsForCurve(sx, sy, cx, cy, ex, ey, j / precision, false, temp);\n        var dx = temp.x - subX,\n          dy = temp.y - subY;\n        len = Math.sqrt(dx * dx + dy * dy);\n        subLine.weightings.push(len);\n        subLine.estLength += len;\n        subX = temp.x;\n        subY = temp.y;\n      }\n\n      // figure out full lengths\n      storage.totalLength += subLine.estLength;\n\n      // use length to figure out proportional weightings\n      for (j = 0; j < precision; j++) {\n        len = subLine.estLength;\n        subLine.weightings[j] = subLine.weightings[j] / len;\n      }\n      storage.subLines.push(subLine);\n      sx = ex;\n      sy = ey;\n    }\n\n    // use length to figure out proportional weightings\n    len = storage.totalLength;\n    var l = storage.subLines.length;\n    for (i = 0; i < l; i++) {\n      storage.subLines[i].portion = storage.subLines[i].estLength / len;\n    }\n\n    // determine start and end data\n    var startRatio = isNaN(source.start) ? 0 : source.start;\n    var endRatio = isNaN(source.end) ? 1 : source.end;\n    s._ratioToPositionData(startRatio, storage, storage.startData);\n    s._ratioToPositionData(endRatio, storage, storage.endData);\n\n    // this has to be done last else the prev ratios will be out of place\n    storage.startData.ratio = startRatio;\n    storage.endData.ratio = endRatio;\n    storage.animSpan = storage.endData.ratio - storage.startData.ratio;\n  };\n\n  /**\n   * Convert a percentage along the line into, a local line (start, control, end) t-value for calculation.\n   * @param {Number} ratio The (euclidean distance) percentage into the whole curve.\n   * @param {Object} guideData All the information describing the guide to be followed.\n   * @param {Object} output Object to save output properties of x,y, and rotation onto.\n   * @returns {Object} The output object, useful for isolated calls.\n   * @private\n   */\n  s._ratioToPositionData = function (ratio, guideData, output) {\n    var lineSegments = guideData.subLines;\n    var i, l, t, test, target;\n    var look = 0;\n    var precision = 10;\n    var effRatio = ratio * guideData.animSpan + guideData.startData.ratio;\n\n    // find subline\n    l = lineSegments.length;\n    for (i = 0; i < l; i++) {\n      test = lineSegments[i].portion;\n      if (look + test >= effRatio) {\n        target = i;\n        break;\n      }\n      look += test;\n    }\n    if (target === undefined) {\n      target = l - 1;\n      look -= test;\n    }\n\n    // find midline weighting\n    var subLines = lineSegments[target].weightings;\n    var portion = test;\n    l = subLines.length;\n    for (i = 0; i < l; i++) {\n      test = subLines[i] * portion;\n      if (look + test >= effRatio) {\n        break;\n      }\n      look += test;\n    }\n\n    // translate the subline index into a position in the path data\n    target = target * 4 + 2;\n    // take the distance we've covered in our ratio, and scale it to distance into the weightings\n    t = i / precision + (effRatio - look) / test * (1 / precision);\n\n    // position\n    var pathData = guideData.path;\n    s._getParamsForCurve(pathData[target - 2], pathData[target - 1], pathData[target], pathData[target + 1], pathData[target + 2], pathData[target + 3], t, guideData.orient, output);\n    if (guideData.orient) {\n      if (ratio >= 0.99999 && ratio <= 1.00001 && guideData.endAbsRot !== undefined) {\n        output.rotation = guideData.endAbsRot;\n      } else {\n        output.rotation += guideData.startOffsetRot + ratio * guideData.deltaRotation;\n      }\n    }\n    return output;\n  };\n\n  /**\n   * For a given quadratic bezier t-value, what is the position and rotation. Save it onto the output object.\n   * @param {Number} sx Start x.\n   * @param {Number} sy Start y.\n   * @param {Number} cx Control x.\n   * @param {Number} cy Control y.\n   * @param {Number} ex End x.\n   * @param {Number} ey End y.\n   * @param {Number} t T value (parametric distance into curve).\n   * @param {Boolean} orient Save rotation data.\n   * @param {Object} output Object to save output properties of x,y, and rotation onto.\n   * @private\n   */\n  s._getParamsForCurve = function (sx, sy, cx, cy, ex, ey, t, orient, output) {\n    var inv = 1 - t;\n\n    // finding a point on a bezier curve\n    output.x = inv * inv * sx + 2 * inv * t * cx + t * t * ex;\n    output.y = inv * inv * sy + 2 * inv * t * cy + t * t * ey;\n\n    // finding an angle on a bezier curve\n    if (orient) {\n      // convert from radians back to degrees\n      output.rotation = 57.2957795 * Math.atan2((cy - sy) * inv + (ey - cy) * t, (cx - sx) * inv + (ex - cx) * t);\n    }\n  };\n\n  /**\n   * Perform a check to validate path information so plugin can avoid later error checking.\n   * @param {Object} guideData All the information describing the guide to be followed.\n   * @returns {undefined|String} The problem found, or undefined if no problems.\n   * @private\n   */\n  s._findPathProblems = function (guideData) {\n    var path = guideData.path;\n    var valueCount = path && path.length || 0; // ensure this is a number to simplify later logic\n    if (valueCount < 6 || (valueCount - 2) % 4) {\n      var message = \"\\tCannot parse 'path' array due to invalid number of entries in path. \";\n      message += \"There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). \";\n      message += \"See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\\n\\n\";\n      message += \"Only [ \" + valueCount + \" ] values found. Expected: \" + Math.max(Math.ceil((valueCount - 2) / 4) * 4 + 2, 6); //6, 10, 14,...\n      return message;\n    }\n    for (var i = 0; i < valueCount; i++) {\n      if (isNaN(path[i])) {\n        return \"All data in path array must be numeric\";\n      }\n    }\n    var start = guideData.start;\n    if (isNaN(start) && !(start === undefined) /* || start < 0 || start > 1*/) {\n      // outside 0-1 is unpredictable, but not breaking\n      return \"'start' out of bounds. Expected 0 to 1, got: \" + start;\n    }\n    var end = guideData.end;\n    if (isNaN(end) && end !== undefined /* || end < 0 || end > 1*/) {\n      // outside 0-1 is unpredictable, but not breaking\n      return \"'end' out of bounds. Expected 0 to 1, got: \" + end;\n    }\n    var orient = guideData.orient;\n    if (orient) {\n      // mirror the check used elsewhere\n      if (orient != \"fixed\" && orient != \"auto\" && orient != \"cw\" && orient != \"ccw\") {\n        return 'Invalid orientation value. Expected [\"fixed\", \"auto\", \"cw\", \"ccw\", undefined], got: ' + orient;\n      }\n    }\n    return undefined;\n  };\n  createjs.MotionGuidePlugin = MotionGuidePlugin;\n})();\n\n//##############################################################################\n// version.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n(function () {\n  \"use strict\";\n\n  /**\n   * Static class holding library specific information such as the version and buildDate of\n   * the library.\n   * @class TweenJS\n   **/\n  var s = createjs.TweenJS = createjs.TweenJS || {};\n\n  /**\n   * The version string for this release.\n   * @property version\n   * @type String\n   * @static\n   **/\n  s.version = /*=version*/\"1.0.0\"; // injected by build process\n\n  /**\n   * The build date for this release in UTC format.\n   * @property buildDate\n   * @type String\n   * @static\n   **/\n  s.buildDate = /*=date*/\"Thu, 14 Sep 2017 19:47:47 GMT\"; // injected by build process\n})();","map":{"version":3,"names":["window","createjs","extend","subclass","superclass","o","constructor","prototype","promote","prefix","subP","supP","Object","getPrototypeOf","__proto__","n","hasOwnProperty","deprecate","fallbackMethod","name","msg","console","warn","log","apply","arguments","Event","type","bubbles","cancelable","target","currentTarget","eventPhase","timeStamp","Date","getTime","defaultPrevented","propagationStopped","immediatePropagationStopped","removed","p","preventDefault","stopPropagation","stopImmediatePropagation","remove","clone","set","props","toString","EventDispatcher","_listeners","_captureListeners","initialize","addEventListener","on","removeEventListener","off","removeAllEventListeners","hasEventListener","dispatchEvent","_dispatchEvent","willTrigger","listener","useCapture","listeners","arr","push","scope","once","data","handleEvent","evt","call","i","l","length","splice","eventObj","e","parent","top","list","captureListeners","slice","Ticker","RAF_SYNCHED","RAF","TIMEOUT","timingMode","maxDelta","paused","_addEventListener","_inited","init","_startTime","_pausedTime","_ticks","_pausedTicks","_interval","_lastTime","_times","_tickTimes","_timerId","_raf","_setInterval","interval","_setupTick","setInterval","_getInterval","getInterval","_setFPS","value","setFPS","_getFPS","getFPS","defineProperties","get","framerate","_getTime","reset","f","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","getMeasuredTickTime","ticks","ttl","times","Math","min","getMeasuredFPS","runTime","getEventTime","getTicks","pauseable","_handleSynch","_tick","_handleRAF","_handleTimeout","mode","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","time","elapsedTime","event","delta","unshift","pop","w","now","performance","mozNow","msNow","oNow","webkitNow","AbstractTween","EventDispatcher_constructor","ignoreGlobalPause","loop","useTicks","reversed","bounce","timeScale","duration","position","rawPosition","_paused","_next","_prev","_parent","_labels","_labelList","onChange","onComplete","_setPaused","Tween","_register","setPaused","_getPaused","getPaused","_getCurrentLabel","pos","labels","getLabels","label","getCurrentLabel","currentLabel","advance","ignoreActions","setPosition","jump","callback","d","loopCount","prevRawPos","t","end","rev","_updatePosition","_runActions","calculatePosition","sort","a","b","setLabels","addLabel","gotoAndPlay","positionOrLabel","_goto","gotoAndStop","resolve","Number","isNaN","_init","startRawPos","endRawPos","includeStart","_actionHead","tweens","loop0","loop1","t0","t1","_runActionsRange","dir","start","startPos","endPos","AbstractTween_constructor","pluginData","passive","_stepHead","TweenStep","_stepTail","_stepPosition","_actionTail","_plugins","_pluginIds","_injected","override","removeTweens","IGNORE","_tweens","_tweenHead","_tweenTail","tick","tween","next","tweenjs_count","removeAllTweens","hasActiveTweens","_installPlugin","plugin","priority","tail","prev","wait","_addStep","to","ease","step","_appendProps","params","_addAction","_set","play","pause","c","s","_addPlugin","ids","id","ID","plugins","stepNext","ratio","_updateTargetProps","v","v0","v1","p0","p1","proploop","change","undefined","action","ePos","sPos","funct","stepPlugins","initProps","initValue","inject","oldStep","oldProps","stepProps","_cloneProps","cleanProps","_injectProp","TweenAction","index","Timeline","Array","addTween","removeTween","good","updateDuration","Ease","linear","none","amount","getPowIn","pow","getPowOut","getPowInOut","abs","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quartIn","quartOut","quartInOut","quintIn","quintOut","quintInOut","sineIn","cos","PI","sineOut","sin","sineInOut","getBackIn","backIn","getBackOut","backOut","getBackInOut","backInOut","circIn","sqrt","circOut","circInOut","bounceIn","bounceOut","bounceInOut","getElasticIn","amplitude","period","pi2","asin","elasticIn","getElasticOut","elasticOut","getElasticInOut","elasticInOut","MotionGuidePlugin","install","prop","guideData","guide","error","_solveGuideData","valid","endData","x","y","orient","initRot","rotation","startOffsetRot","startData","endAbsRot","deltaRotation","finalRot","deltaRot","modRot","_ratioToPositionData","debug","ctx","higlight","err","_findPathProblems","path","pathLength","width","save","lineCap","lineJoin","beginPath","moveTo","quadraticCurveTo","strokeStyle","lineWidth","stroke","closePath","hiCount","tempStore","tempLook","lineTo","restore","source","storage","subLines","totalLength","animSpan","precision","sx","sy","cx","cy","ex","ey","j","len","temp","subLine","weightings","estLength","portion","subX","subY","_getParamsForCurve","dx","dy","startRatio","endRatio","output","lineSegments","test","look","effRatio","pathData","inv","atan2","valueCount","message","max","ceil","TweenJS","version","buildDate"],"sources":["/Users/canozdemir/Downloads/web-based-navigation-rosbridge/node_modules/latest-createjs/lib/tweenjs/tweenjs.js"],"sourcesContent":["/*!\n* TweenJS\n* Visit http://createjs.com/ for documentation, updates and examples.\n*\n* Copyright (c) 2010 gskinner.com, inc.\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n\n//##############################################################################\n// extend.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Sets up the prototype chain and constructor property for a new class.\n *\n * This should be called right after creating the class constructor.\n *\n * \tfunction MySubClass() {}\n * \tcreatejs.extend(MySubClass, MySuperClass);\n * \tMySubClass.prototype.doSomething = function() { }\n *\n * \tvar foo = new MySubClass();\n * \tconsole.log(foo instanceof MySuperClass); // true\n * \tconsole.log(foo.prototype.constructor === MySubClass); // true\n *\n * @method extend\n * @param {Function} subclass The subclass.\n * @param {Function} superclass The superclass to extend.\n * @return {Function} Returns the subclass's new prototype.\n */\ncreatejs.extend = function(subclass, superclass) {\n\t\"use strict\";\n\n\tfunction o() { this.constructor = subclass; }\n\to.prototype = superclass.prototype;\n\treturn (subclass.prototype = new o());\n};\n\n//##############################################################################\n// promote.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Promotes any methods on the super class that were overridden, by creating an alias in the format `prefix_methodName`.\n * It is recommended to use the super class's name as the prefix.\n * An alias to the super class's constructor is always added in the format `prefix_constructor`.\n * This allows the subclass to call super class methods without using `function.call`, providing better performance.\n *\n * For example, if `MySubClass` extends `MySuperClass`, and both define a `draw` method, then calling `promote(MySubClass, \"MySuperClass\")`\n * would add a `MySuperClass_constructor` method to MySubClass and promote the `draw` method on `MySuperClass` to the\n * prototype of `MySubClass` as `MySuperClass_draw`.\n *\n * This should be called after the class's prototype is fully defined.\n *\n * \tfunction ClassA(name) {\n * \t\tthis.name = name;\n * \t}\n * \tClassA.prototype.greet = function() {\n * \t\treturn \"Hello \"+this.name;\n * \t}\n *\n * \tfunction ClassB(name, punctuation) {\n * \t\tthis.ClassA_constructor(name);\n * \t\tthis.punctuation = punctuation;\n * \t}\n * \tcreatejs.extend(ClassB, ClassA);\n * \tClassB.prototype.greet = function() {\n * \t\treturn this.ClassA_greet()+this.punctuation;\n * \t}\n * \tcreatejs.promote(ClassB, \"ClassA\");\n *\n * \tvar foo = new ClassB(\"World\", \"!?!\");\n * \tconsole.log(foo.greet()); // Hello World!?!\n *\n * @method promote\n * @param {Function} subclass The class to promote super class methods on.\n * @param {String} prefix The prefix to add to the promoted method names. Usually the name of the superclass.\n * @return {Function} Returns the subclass.\n */\ncreatejs.promote = function(subclass, prefix) {\n\t\"use strict\";\n\n\tvar subP = subclass.prototype, supP = (Object.getPrototypeOf&&Object.getPrototypeOf(subP))||subP.__proto__;\n\tif (supP) {\n\t\tsubP[(prefix+=\"_\") + \"constructor\"] = supP.constructor; // constructor is not always innumerable\n\t\tfor (var n in supP) {\n\t\t\tif (subP.hasOwnProperty(n) && (typeof supP[n] == \"function\")) { subP[prefix + n] = supP[n]; }\n\t\t}\n\t}\n\treturn subclass;\n};\n\n//##############################################################################\n// deprecate.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Wraps deprecated methods so they still be used, but throw warnings to developers.\n *\n *\tobj.deprecatedMethod = createjs.deprecate(\"Old Method Name\", obj._fallbackMethod);\n *\n * The recommended approach for deprecated properties is:\n *\n *\ttry {\n *\t\tObj\tect.defineProperties(object, {\n *\t\t\treadyOnlyProp: { get: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }) },\n *\t\t\treadWriteProp: {\n *\t\t\t\tget: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }),\n *\t\t\t\tset: createjs.deprecate(\"readOnlyProp\", function(val) { this.alternateProp = val; })\n *\t\t});\n *\t} catch (e) {}\n *\n * @method deprecate\n * @param {Function} [fallbackMethod=null] A method to call when the deprecated method is used. See the example for how\n * @param {String} [name=null] The name of the method or property to display in the console warning.\n * to deprecate properties.\n * @return {Function} If a fallbackMethod is supplied, returns a closure that will call the fallback method after\n * logging the warning in the console.\n */\ncreatejs.deprecate = function(fallbackMethod, name) {\n\t\"use strict\";\n\treturn function() {\n\t\tvar msg = \"Deprecated property or method '\"+name+\"'. See docs for info.\";\n\t\tconsole && (console.warn ? console.warn(msg) : console.log(msg));\n\t\treturn fallbackMethod && fallbackMethod.apply(this, arguments);\n\t}\n};\n\n//##############################################################################\n// Event.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n// constructor:\n\t/**\n\t * Contains properties and methods shared by all events for use with\n\t * {{#crossLink \"EventDispatcher\"}}{{/crossLink}}.\n\t * \n\t * Note that Event objects are often reused, so you should never\n\t * rely on an event object's state outside of the call stack it was received in.\n\t * @class Event\n\t * @param {String} type The event type.\n\t * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\n\t * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\n\t * @constructor\n\t **/\n\tfunction Event(type, bubbles, cancelable) {\n\t\t\n\t\n\t// public properties:\n\t\t/**\n\t\t * The type of event.\n\t\t * @property type\n\t\t * @type String\n\t\t **/\n\t\tthis.type = type;\n\t\n\t\t/**\n\t\t * The object that generated an event.\n\t\t * @property target\n\t\t * @type Object\n\t\t * @default null\n\t\t * @readonly\n\t\t*/\n\t\tthis.target = null;\n\t\n\t\t/**\n\t\t * The current target that a bubbling event is being dispatched from. For non-bubbling events, this will\n\t\t * always be the same as target. For example, if childObj.parent = parentObj, and a bubbling event\n\t\t * is generated from childObj, then a listener on parentObj would receive the event with\n\t\t * target=childObj (the original target) and currentTarget=parentObj (where the listener was added).\n\t\t * @property currentTarget\n\t\t * @type Object\n\t\t * @default null\n\t\t * @readonly\n\t\t*/\n\t\tthis.currentTarget = null;\n\t\n\t\t/**\n\t\t * For bubbling events, this indicates the current event phase:<OL>\n\t\t * \t<LI> capture phase: starting from the top parent to the target</LI>\n\t\t * \t<LI> at target phase: currently being dispatched from the target</LI>\n\t\t * \t<LI> bubbling phase: from the target to the top parent</LI>\n\t\t * </OL>\n\t\t * @property eventPhase\n\t\t * @type Number\n\t\t * @default 0\n\t\t * @readonly\n\t\t*/\n\t\tthis.eventPhase = 0;\n\t\n\t\t/**\n\t\t * Indicates whether the event will bubble through the display list.\n\t\t * @property bubbles\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.bubbles = !!bubbles;\n\t\n\t\t/**\n\t\t * Indicates whether the default behaviour of this event can be cancelled via\n\t\t * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}}. This is set via the Event constructor.\n\t\t * @property cancelable\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.cancelable = !!cancelable;\n\t\n\t\t/**\n\t\t * The epoch time at which this event was created.\n\t\t * @property timeStamp\n\t\t * @type Number\n\t\t * @default 0\n\t\t * @readonly\n\t\t*/\n\t\tthis.timeStamp = (new Date()).getTime();\n\t\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} has been called\n\t\t * on this event.\n\t\t * @property defaultPrevented\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.defaultPrevented = false;\n\t\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/stopPropagation\"}}{{/crossLink}} or\n\t\t * {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called on this event.\n\t\t * @property propagationStopped\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.propagationStopped = false;\n\t\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called\n\t\t * on this event.\n\t\t * @property immediatePropagationStopped\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.immediatePropagationStopped = false;\n\t\t\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/remove\"}}{{/crossLink}} has been called on this event.\n\t\t * @property removed\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.removed = false;\n\t}\n\tvar p = Event.prototype;\n\n// public methods:\n\t/**\n\t * Sets {{#crossLink \"Event/defaultPrevented\"}}{{/crossLink}} to true if the event is cancelable.\n\t * Mirrors the DOM level 2 event standard. In general, cancelable events that have `preventDefault()` called will\n\t * cancel the default behaviour associated with the event.\n\t * @method preventDefault\n\t **/\n\tp.preventDefault = function() {\n\t\tthis.defaultPrevented = this.cancelable&&true;\n\t};\n\n\t/**\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} to true.\n\t * Mirrors the DOM event standard.\n\t * @method stopPropagation\n\t **/\n\tp.stopPropagation = function() {\n\t\tthis.propagationStopped = true;\n\t};\n\n\t/**\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} and\n\t * {{#crossLink \"Event/immediatePropagationStopped\"}}{{/crossLink}} to true.\n\t * Mirrors the DOM event standard.\n\t * @method stopImmediatePropagation\n\t **/\n\tp.stopImmediatePropagation = function() {\n\t\tthis.immediatePropagationStopped = this.propagationStopped = true;\n\t};\n\t\n\t/**\n\t * Causes the active listener to be removed via removeEventListener();\n\t * \n\t * \t\tmyBtn.addEventListener(\"click\", function(evt) {\n\t * \t\t\t// do stuff...\n\t * \t\t\tevt.remove(); // removes this listener.\n\t * \t\t});\n\t * \n\t * @method remove\n\t **/\n\tp.remove = function() {\n\t\tthis.removed = true;\n\t};\n\t\n\t/**\n\t * Returns a clone of the Event instance.\n\t * @method clone\n\t * @return {Event} a clone of the Event instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new Event(this.type, this.bubbles, this.cancelable);\n\t};\n\t\n\t/**\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\n\t *\n\t * @method set\n\t * @param {Object} props A generic object containing properties to copy to the instance.\n\t * @return {Event} Returns the instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t*/\n\tp.set = function(props) {\n\t\tfor (var n in props) { this[n] = props[n]; }\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Event (type=\"+this.type+\")]\";\n\t};\n\n\tcreatejs.Event = Event;\n}());\n\n//##############################################################################\n// EventDispatcher.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\r\n// constructor:\r\n\t/**\r\n\t * EventDispatcher provides methods for managing queues of event listeners and dispatching events.\r\n\t *\r\n\t * You can either extend EventDispatcher or mix its methods into an existing prototype or instance by using the\r\n\t * EventDispatcher {{#crossLink \"EventDispatcher/initialize\"}}{{/crossLink}} method.\r\n\t * \r\n\t * Together with the CreateJS Event class, EventDispatcher provides an extended event model that is based on the\r\n\t * DOM Level 2 event model, including addEventListener, removeEventListener, and dispatchEvent. It supports\r\n\t * bubbling / capture, preventDefault, stopPropagation, stopImmediatePropagation, and handleEvent.\r\n\t * \r\n\t * EventDispatcher also exposes a {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} method, which makes it easier\r\n\t * to create scoped listeners, listeners that only run once, and listeners with associated arbitrary data. The \r\n\t * {{#crossLink \"EventDispatcher/off\"}}{{/crossLink}} method is merely an alias to\r\n\t * {{#crossLink \"EventDispatcher/removeEventListener\"}}{{/crossLink}}.\r\n\t * \r\n\t * Another addition to the DOM Level 2 model is the {{#crossLink \"EventDispatcher/removeAllEventListeners\"}}{{/crossLink}}\r\n\t * method, which can be used to listeners for all events, or listeners for a specific event. The Event object also \r\n\t * includes a {{#crossLink \"Event/remove\"}}{{/crossLink}} method which removes the active listener.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t * Add EventDispatcher capabilities to the \"MyClass\" class.\r\n\t *\r\n\t *      EventDispatcher.initialize(MyClass.prototype);\r\n\t *\r\n\t * Add an event (see {{#crossLink \"EventDispatcher/addEventListener\"}}{{/crossLink}}).\r\n\t *\r\n\t *      instance.addEventListener(\"eventName\", handlerMethod);\r\n\t *      function handlerMethod(event) {\r\n\t *          console.log(event.target + \" Was Clicked\");\r\n\t *      }\r\n\t *\r\n\t * <b>Maintaining proper scope</b><br />\r\n\t * Scope (ie. \"this\") can be be a challenge with events. Using the {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}}\r\n\t * method to subscribe to events simplifies this.\r\n\t *\r\n\t *      instance.addEventListener(\"click\", function(event) {\r\n\t *          console.log(instance == this); // false, scope is ambiguous.\r\n\t *      });\r\n\t *      \r\n\t *      instance.on(\"click\", function(event) {\r\n\t *          console.log(instance == this); // true, \"on\" uses dispatcher scope by default.\r\n\t *      });\r\n\t * \r\n\t * If you want to use addEventListener instead, you may want to use function.bind() or a similar proxy to manage\r\n\t * scope.\r\n\t *\r\n\t * <b>Browser support</b>\r\n\t * The event model in CreateJS can be used separately from the suite in any project, however the inheritance model\r\n\t * requires modern browsers (IE9+).\r\n\t *      \r\n\t *\r\n\t * @class EventDispatcher\r\n\t * @constructor\r\n\t **/\r\n\tfunction EventDispatcher() {\r\n\t\r\n\t\r\n\t// private properties:\r\n\t\t/**\r\n\t\t * @protected\r\n\t\t * @property _listeners\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis._listeners = null;\r\n\t\t\r\n\t\t/**\r\n\t\t * @protected\r\n\t\t * @property _captureListeners\r\n\t\t * @type Object\r\n\t\t **/\r\n\t\tthis._captureListeners = null;\r\n\t}\r\n\tvar p = EventDispatcher.prototype;\r\n\r\n// static public methods:\r\n\t/**\r\n\t * Static initializer to mix EventDispatcher methods into a target object or prototype.\r\n\t * \r\n\t * \t\tEventDispatcher.initialize(MyClass.prototype); // add to the prototype of the class\r\n\t * \t\tEventDispatcher.initialize(myObject); // add to a specific instance\r\n\t * \r\n\t * @method initialize\r\n\t * @static\r\n\t * @param {Object} target The target object to inject EventDispatcher methods into. This can be an instance or a\r\n\t * prototype.\r\n\t **/\r\n\tEventDispatcher.initialize = function(target) {\r\n\t\ttarget.addEventListener = p.addEventListener;\r\n\t\ttarget.on = p.on;\r\n\t\ttarget.removeEventListener = target.off =  p.removeEventListener;\r\n\t\ttarget.removeAllEventListeners = p.removeAllEventListeners;\r\n\t\ttarget.hasEventListener = p.hasEventListener;\r\n\t\ttarget.dispatchEvent = p.dispatchEvent;\r\n\t\ttarget._dispatchEvent = p._dispatchEvent;\r\n\t\ttarget.willTrigger = p.willTrigger;\r\n\t};\r\n\t\r\n\r\n// public methods:\r\n\t/**\r\n\t * Adds the specified event listener. Note that adding multiple listeners to the same function will result in\r\n\t * multiple callbacks getting fired.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.addEventListener(\"click\", handleClick);\r\n\t *      function handleClick(event) {\r\n\t *         // Click happened.\r\n\t *      }\r\n\t *\r\n\t * @method addEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\r\n\t * the event is dispatched.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t * @return {Function | Object} Returns the listener for chaining or assignment.\r\n\t **/\r\n\tp.addEventListener = function(type, listener, useCapture) {\r\n\t\tvar listeners;\r\n\t\tif (useCapture) {\r\n\t\t\tlisteners = this._captureListeners = this._captureListeners||{};\r\n\t\t} else {\r\n\t\t\tlisteners = this._listeners = this._listeners||{};\r\n\t\t}\r\n\t\tvar arr = listeners[type];\r\n\t\tif (arr) { this.removeEventListener(type, listener, useCapture); }\r\n\t\tarr = listeners[type]; // remove may have deleted the array\r\n\t\tif (!arr) { listeners[type] = [listener];  }\r\n\t\telse { arr.push(listener); }\r\n\t\treturn listener;\r\n\t};\r\n\t\r\n\t/**\r\n\t * A shortcut method for using addEventListener that makes it easier to specify an execution scope, have a listener\r\n\t * only run once, associate arbitrary data with the listener, and remove the listener.\r\n\t * \r\n\t * This method works by creating an anonymous wrapper function and subscribing it with addEventListener.\r\n\t * The wrapper function is returned for use with `removeEventListener` (or `off`).\r\n\t * \r\n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener, or use\r\n\t * {{#crossLink \"Event/remove\"}}{{/crossLink}}. Likewise, each time you call `on` a NEW wrapper function is subscribed, so multiple calls\r\n\t * to `on` with the same params will create multiple listeners.\r\n\t * \r\n\t * <h4>Example</h4>\r\n\t * \r\n\t * \t\tvar listener = myBtn.on(\"click\", handleClick, null, false, {count:3});\r\n\t * \t\tfunction handleClick(evt, data) {\r\n\t * \t\t\tdata.count -= 1;\r\n\t * \t\t\tconsole.log(this == myBtn); // true - scope defaults to the dispatcher\r\n\t * \t\t\tif (data.count == 0) {\r\n\t * \t\t\t\talert(\"clicked 3 times!\");\r\n\t * \t\t\t\tmyBtn.off(\"click\", listener);\r\n\t * \t\t\t\t// alternately: evt.remove();\r\n\t * \t\t\t}\r\n\t * \t\t}\r\n\t * \r\n\t * @method on\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\r\n\t * the event is dispatched.\r\n\t * @param {Object} [scope] The scope to execute the listener in. Defaults to the dispatcher/currentTarget for function listeners, and to the listener itself for object listeners (ie. using handleEvent).\r\n\t * @param {Boolean} [once=false] If true, the listener will remove itself after the first time it is triggered.\r\n\t * @param {*} [data] Arbitrary data that will be included as the second parameter when the listener is called.\r\n\t * @param {Boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t * @return {Function} Returns the anonymous function that was created and assigned as the listener. This is needed to remove the listener later using .removeEventListener.\r\n\t **/\r\n\tp.on = function(type, listener, scope, once, data, useCapture) {\r\n\t\tif (listener.handleEvent) {\r\n\t\t\tscope = scope||listener;\r\n\t\t\tlistener = listener.handleEvent;\r\n\t\t}\r\n\t\tscope = scope||this;\r\n\t\treturn this.addEventListener(type, function(evt) {\r\n\t\t\t\tlistener.call(scope, evt, data);\r\n\t\t\t\tonce&&evt.remove();\r\n\t\t\t}, useCapture);\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the specified event listener.\r\n\t *\r\n\t * <b>Important Note:</b> that you must pass the exact function reference used when the event was added. If a proxy\r\n\t * function, or function closure is used as the callback, the proxy/closure reference must be used - a new proxy or\r\n\t * closure will not work.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      displayObject.removeEventListener(\"click\", handleClick);\r\n\t *\r\n\t * @method removeEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener The listener function or object.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t **/\r\n\tp.removeEventListener = function(type, listener, useCapture) {\r\n\t\tvar listeners = useCapture ? this._captureListeners : this._listeners;\r\n\t\tif (!listeners) { return; }\r\n\t\tvar arr = listeners[type];\r\n\t\tif (!arr) { return; }\r\n\t\tfor (var i=0,l=arr.length; i<l; i++) {\r\n\t\t\tif (arr[i] == listener) {\r\n\t\t\t\tif (l==1) { delete(listeners[type]); } // allows for faster checks.\r\n\t\t\t\telse { arr.splice(i,1); }\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t/**\r\n\t * A shortcut to the removeEventListener method, with the same parameters and return value. This is a companion to the\r\n\t * .on method.\r\n\t * \r\n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener. See \r\n\t * {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} for an example.\r\n\t *\r\n\t * @method off\r\n\t * @param {String} type The string type of the event.\r\n\t * @param {Function | Object} listener The listener function or object.\r\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\r\n\t **/\r\n\tp.off = p.removeEventListener;\r\n\r\n\t/**\r\n\t * Removes all listeners for the specified type, or all listeners of all types.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      // Remove all listeners\r\n\t *      displayObject.removeAllEventListeners();\r\n\t *\r\n\t *      // Remove all click listeners\r\n\t *      displayObject.removeAllEventListeners(\"click\");\r\n\t *\r\n\t * @method removeAllEventListeners\r\n\t * @param {String} [type] The string type of the event. If omitted, all listeners for all types will be removed.\r\n\t **/\r\n\tp.removeAllEventListeners = function(type) {\r\n\t\tif (!type) { this._listeners = this._captureListeners = null; }\r\n\t\telse {\r\n\t\t\tif (this._listeners) { delete(this._listeners[type]); }\r\n\t\t\tif (this._captureListeners) { delete(this._captureListeners[type]); }\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Dispatches the specified event to all listeners.\r\n\t *\r\n\t * <h4>Example</h4>\r\n\t *\r\n\t *      // Use a string event\r\n\t *      this.dispatchEvent(\"complete\");\r\n\t *\r\n\t *      // Use an Event instance\r\n\t *      var event = new createjs.Event(\"progress\");\r\n\t *      this.dispatchEvent(event);\r\n\t *\r\n\t * @method dispatchEvent\r\n\t * @param {Object | String | Event} eventObj An object with a \"type\" property, or a string type.\r\n\t * While a generic object will work, it is recommended to use a CreateJS Event instance. If a string is used,\r\n\t * dispatchEvent will construct an Event instance if necessary with the specified type. This latter approach can\r\n\t * be used to avoid event object instantiation for non-bubbling events that may not have any listeners.\r\n\t * @param {Boolean} [bubbles] Specifies the `bubbles` value when a string was passed to eventObj.\r\n\t * @param {Boolean} [cancelable] Specifies the `cancelable` value when a string was passed to eventObj.\r\n\t * @return {Boolean} Returns false if `preventDefault()` was called on a cancelable event, true otherwise.\r\n\t **/\r\n\tp.dispatchEvent = function(eventObj, bubbles, cancelable) {\r\n\t\tif (typeof eventObj == \"string\") {\r\n\t\t\t// skip everything if there's no listeners and it doesn't bubble:\r\n\t\t\tvar listeners = this._listeners;\r\n\t\t\tif (!bubbles && (!listeners || !listeners[eventObj])) { return true; }\r\n\t\t\teventObj = new createjs.Event(eventObj, bubbles, cancelable);\r\n\t\t} else if (eventObj.target && eventObj.clone) {\r\n\t\t\t// redispatching an active event object, so clone it:\r\n\t\t\teventObj = eventObj.clone();\r\n\t\t}\r\n\t\t\r\n\t\t// TODO: it would be nice to eliminate this. Maybe in favour of evtObj instanceof Event? Or !!evtObj.createEvent\r\n\t\ttry { eventObj.target = this; } catch (e) {} // try/catch allows redispatching of native events\r\n\r\n\t\tif (!eventObj.bubbles || !this.parent) {\r\n\t\t\tthis._dispatchEvent(eventObj, 2);\r\n\t\t} else {\r\n\t\t\tvar top=this, list=[top];\r\n\t\t\twhile (top.parent) { list.push(top = top.parent); }\r\n\t\t\tvar i, l=list.length;\r\n\r\n\t\t\t// capture & atTarget\r\n\t\t\tfor (i=l-1; i>=0 && !eventObj.propagationStopped; i--) {\r\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 1+(i==0));\r\n\t\t\t}\r\n\t\t\t// bubbling\r\n\t\t\tfor (i=1; i<l && !eventObj.propagationStopped; i++) {\r\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 3);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !eventObj.defaultPrevented;\r\n\t};\r\n\r\n\t/**\r\n\t * Indicates whether there is at least one listener for the specified event type.\r\n\t * @method hasEventListener\r\n\t * @param {String} type The string type of the event.\r\n\t * @return {Boolean} Returns true if there is at least one listener for the specified event.\r\n\t **/\r\n\tp.hasEventListener = function(type) {\r\n\t\tvar listeners = this._listeners, captureListeners = this._captureListeners;\r\n\t\treturn !!((listeners && listeners[type]) || (captureListeners && captureListeners[type]));\r\n\t};\r\n\t\r\n\t/**\r\n\t * Indicates whether there is at least one listener for the specified event type on this object or any of its\r\n\t * ancestors (parent, parent's parent, etc). A return value of true indicates that if a bubbling event of the\r\n\t * specified type is dispatched from this object, it will trigger at least one listener.\r\n\t * \r\n\t * This is similar to {{#crossLink \"EventDispatcher/hasEventListener\"}}{{/crossLink}}, but it searches the entire\r\n\t * event flow for a listener, not just this object.\r\n\t * @method willTrigger\r\n\t * @param {String} type The string type of the event.\r\n\t * @return {Boolean} Returns `true` if there is at least one listener for the specified event.\r\n\t **/\r\n\tp.willTrigger = function(type) {\r\n\t\tvar o = this;\r\n\t\twhile (o) {\r\n\t\t\tif (o.hasEventListener(type)) { return true; }\r\n\t\t\to = o.parent;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * @method toString\r\n\t * @return {String} a string representation of the instance.\r\n\t **/\r\n\tp.toString = function() {\r\n\t\treturn \"[EventDispatcher]\";\r\n\t};\r\n\r\n\r\n// private methods:\r\n\t/**\r\n\t * @method _dispatchEvent\r\n\t * @param {Object | Event} eventObj\r\n\t * @param {Object} eventPhase\r\n\t * @protected\r\n\t **/\r\n\tp._dispatchEvent = function(eventObj, eventPhase) {\r\n\t\tvar l, arr, listeners = (eventPhase <= 2) ? this._captureListeners : this._listeners;\r\n\t\tif (eventObj && listeners && (arr = listeners[eventObj.type]) && (l=arr.length)) {\r\n\t\t\ttry { eventObj.currentTarget = this; } catch (e) {}\r\n\t\t\ttry { eventObj.eventPhase = eventPhase|0; } catch (e) {}\r\n\t\t\teventObj.removed = false;\r\n\t\t\t\r\n\t\t\tarr = arr.slice(); // to avoid issues with items being removed or added during the dispatch\r\n\t\t\tfor (var i=0; i<l && !eventObj.immediatePropagationStopped; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (o.handleEvent) { o.handleEvent(eventObj); }\r\n\t\t\t\telse { o(eventObj); }\r\n\t\t\t\tif (eventObj.removed) {\r\n\t\t\t\t\tthis.off(eventObj.type, o, eventPhase==1);\r\n\t\t\t\t\teventObj.removed = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (eventPhase === 2) { this._dispatchEvent(eventObj, 2.1); }\r\n\t};\r\n\r\n\r\n\tcreatejs.EventDispatcher = EventDispatcher;\r\n}());\n\n//##############################################################################\n// Ticker.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * The Ticker provides a centralized tick or heartbeat broadcast at a set interval. Listeners can subscribe to the tick\n\t * event to be notified when a set time interval has elapsed.\n\t *\n\t * Note that the interval that the tick event is called is a target interval, and may be broadcast at a slower interval\n\t * when under high CPU load. The Ticker class uses a static interface (ex. `Ticker.framerate = 30;`) and\n\t * can not be instantiated.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n\t *      function handleTick(event) {\n\t *          // Actions carried out each tick (aka frame)\n\t *          if (!event.paused) {\n\t *              // Actions carried out when the Ticker is not paused.\n\t *          }\n\t *      }\n\t *\n\t * @class Ticker\n\t * @uses EventDispatcher\n\t * @static\n\t **/\n\tfunction Ticker() {\n\t\tthrow \"Ticker cannot be instantiated.\";\n\t}\n\n\n// constants:\n\t/**\n\t * In this mode, Ticker uses the requestAnimationFrame API, but attempts to synch the ticks to target framerate. It\n\t * uses a simple heuristic that compares the time of the RAF return to the target time for the current frame and\n\t * dispatches the tick when the time is within a certain threshold.\n\t *\n\t * This mode has a higher variance for time between frames than {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}},\n\t * but does not require that content be time based as with {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}} while\n\t * gaining the benefits of that API (screen synch, background throttling).\n\t *\n\t * Variance is usually lowest for framerates that are a divisor of the RAF frequency. This is usually 60, so\n\t * framerates of 10, 12, 15, 20, and 30 work well.\n\t *\n\t * Falls back to {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\n\t * supported.\n\t * @property RAF_SYNCHED\n\t * @static\n\t * @type {String}\n\t * @default \"synched\"\n\t * @readonly\n\t **/\n\tTicker.RAF_SYNCHED = \"synched\";\n\n\t/**\n\t * In this mode, Ticker passes through the requestAnimationFrame heartbeat, ignoring the target framerate completely.\n\t * Because requestAnimationFrame frequency is not deterministic, any content using this mode should be time based.\n\t * You can leverage {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} and the {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\n\t * event object's \"delta\" properties to make this easier.\n\t *\n\t * Falls back on {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\n\t * supported.\n\t * @property RAF\n\t * @static\n\t * @type {String}\n\t * @default \"raf\"\n\t * @readonly\n\t **/\n\tTicker.RAF = \"raf\";\n\n\t/**\n\t * In this mode, Ticker uses the setTimeout API. This provides predictable, adaptive frame timing, but does not\n\t * provide the benefits of requestAnimationFrame (screen synch, background throttling).\n\t * @property TIMEOUT\n\t * @static\n\t * @type {String}\n\t * @default \"timeout\"\n\t * @readonly\n\t **/\n\tTicker.TIMEOUT = \"timeout\";\n\n\n// static events:\n\t/**\n\t * Dispatched each tick. The event will be dispatched to each listener even when the Ticker has been paused using\n\t * {{#crossLink \"Ticker/paused:property\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n\t *      function handleTick(event) {\n\t *          console.log(\"Paused:\", event.paused, event.delta);\n\t *      }\n\t *\n\t * @event tick\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @param {Boolean} paused Indicates whether the ticker is currently paused.\n\t * @param {Number} delta The time elapsed in ms since the last tick.\n\t * @param {Number} time The total time in ms since Ticker was initialized.\n\t * @param {Number} runTime The total time in ms that Ticker was not paused since it was initialized. For example,\n\t * \tyou could determine the amount of time that the Ticker has been paused since initialization with `time-runTime`.\n\t * @since 0.6.0\n\t */\n\n\n// public static properties:\n\t/**\n\t * Specifies the timing api (setTimeout or requestAnimationFrame) and mode to use. See\n\t * {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}}, {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}}, and\n\t * {{#crossLink \"Ticker/RAF_SYNCHED:property\"}}{{/crossLink}} for mode details.\n\t * @property timingMode\n\t * @static\n\t * @type {String}\n\t * @default Ticker.TIMEOUT\n\t **/\n\tTicker.timingMode = null;\n\n\t/**\n\t * Specifies a maximum value for the delta property in the tick event object. This is useful when building time\n\t * based animations and systems to prevent issues caused by large time gaps caused by background tabs, system sleep,\n\t * alert dialogs, or other blocking routines. Double the expected frame duration is often an effective value\n\t * (ex. maxDelta=50 when running at 40fps).\n\t * \n\t * This does not impact any other values (ex. time, runTime, etc), so you may experience issues if you enable maxDelta\n\t * when using both delta and other values.\n\t * \n\t * If 0, there is no maximum.\n\t * @property maxDelta\n\t * @static\n\t * @type {number}\n\t * @default 0\n\t */\n\tTicker.maxDelta = 0;\n\t\n\t/**\n\t * When the ticker is paused, all listeners will still receive a tick event, but the <code>paused</code> property\n\t * of the event will be `true`. Also, while paused the `runTime` will not increase. See {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}},\n\t * {{#crossLink \"Ticker/getTime\"}}{{/crossLink}}, and {{#crossLink \"Ticker/getEventTime\"}}{{/crossLink}} for more\n\t * info.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n\t *      createjs.Ticker.paused = true;\n\t *      function handleTick(event) {\n\t *          console.log(event.paused,\n\t *          \tcreatejs.Ticker.getTime(false),\n\t *          \tcreatejs.Ticker.getTime(true));\n\t *      }\n\t *\n\t * @property paused\n\t * @static\n\t * @type {Boolean}\n\t * @default false\n\t **/\n\tTicker.paused = false;\n\n\n// mix-ins:\n\t// EventDispatcher methods:\n\tTicker.removeEventListener = null;\n\tTicker.removeAllEventListeners = null;\n\tTicker.dispatchEvent = null;\n\tTicker.hasEventListener = null;\n\tTicker._listeners = null;\n\tcreatejs.EventDispatcher.initialize(Ticker); // inject EventDispatcher methods.\n\tTicker._addEventListener = Ticker.addEventListener;\n\tTicker.addEventListener = function() {\n\t\t!Ticker._inited&&Ticker.init();\n\t\treturn Ticker._addEventListener.apply(Ticker, arguments);\n\t};\n\n\n// private static properties:\n\t/**\n\t * @property _inited\n\t * @static\n\t * @type {Boolean}\n\t * @private\n\t **/\n\tTicker._inited = false;\n\n\t/**\n\t * @property _startTime\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._startTime = 0;\n\n\t/**\n\t * @property _pausedTime\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._pausedTime=0;\n\n\t/**\n\t * The number of ticks that have passed\n\t * @property _ticks\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._ticks = 0;\n\n\t/**\n\t * The number of ticks that have passed while Ticker has been paused\n\t * @property _pausedTicks\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._pausedTicks = 0;\n\n\t/**\n\t * @property _interval\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._interval = 50;\n\n\t/**\n\t * @property _lastTime\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._lastTime = 0;\n\n\t/**\n\t * @property _times\n\t * @static\n\t * @type {Array}\n\t * @private\n\t **/\n\tTicker._times = null;\n\n\t/**\n\t * @property _tickTimes\n\t * @static\n\t * @type {Array}\n\t * @private\n\t **/\n\tTicker._tickTimes = null;\n\n\t/**\n\t * Stores the timeout or requestAnimationFrame id.\n\t * @property _timerId\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._timerId = null;\n\t\n\t/**\n\t * True if currently using requestAnimationFrame, false if using setTimeout. This may be different than timingMode\n\t * if that property changed and a tick hasn't fired.\n\t * @property _raf\n\t * @static\n\t * @type {Boolean}\n\t * @private\n\t **/\n\tTicker._raf = true;\n\t\n\n// static getter / setters:\n\t/**\n\t * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\n\t * @method _setInterval\n\t * @private\n\t * @static\n\t * @param {Number} interval\n\t **/\n\tTicker._setInterval = function(interval) {\n\t\tTicker._interval = interval;\n\t\tif (!Ticker._inited) { return; }\n\t\tTicker._setupTick();\n\t};\n\t// Ticker.setInterval is @deprecated. Remove for 1.1+\n\tTicker.setInterval = createjs.deprecate(Ticker._setInterval, \"Ticker.setInterval\");\n\n\t/**\n\t * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\n\t * @method _getInterval\n\t * @private\n\t * @static\n\t * @return {Number}\n\t **/\n\tTicker._getInterval = function() {\n\t\treturn Ticker._interval;\n\t};\n\t// Ticker.getInterval is @deprecated. Remove for 1.1+\n\tTicker.getInterval = createjs.deprecate(Ticker._getInterval, \"Ticker.getInterval\");\n\n\t/**\n\t * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\n\t * @method _setFPS\n\t * @private\n\t * @static\n\t * @param {Number} value\n\t **/\n\tTicker._setFPS = function(value) {\n\t\tTicker._setInterval(1000/value);\n\t};\n\t// Ticker.setFPS is @deprecated. Remove for 1.1+\n\tTicker.setFPS = createjs.deprecate(Ticker._setFPS, \"Ticker.setFPS\");\n\n\t/**\n\t * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\n\t * @method _getFPS\n\t * @static\n\t * @private\n\t * @return {Number}\n\t **/\n\tTicker._getFPS = function() {\n\t\treturn 1000/Ticker._interval;\n\t};\n\t// Ticker.getFPS is @deprecated. Remove for 1.1+\n\tTicker.getFPS = createjs.deprecate(Ticker._getFPS, \"Ticker.getFPS\");\n\n\t/**\n\t * Indicates the target time (in milliseconds) between ticks. Default is 50 (20 FPS).\n\t * Note that actual time between ticks may be more than specified depending on CPU load.\n\t * This property is ignored if the ticker is using the `RAF` timing mode.\n\t * @property interval\n\t * @static\n\t * @type {Number}\n\t **/\n\t \n\t/**\n\t * Indicates the target frame rate in frames per second (FPS). Effectively just a shortcut to `interval`, where\n\t * `framerate == 1000/interval`.\n\t * @property framerate\n\t * @static\n\t * @type {Number}\n\t **/\n\ttry {\n\t\tObject.defineProperties(Ticker, {\n\t\t\tinterval: { get: Ticker._getInterval, set: Ticker._setInterval },\n\t\t\tframerate: { get: Ticker._getFPS, set: Ticker._setFPS }\n\t\t});\n\t} catch (e) { console.log(e); }\n\n\n// public static methods:\n\t/**\n\t * Starts the tick. This is called automatically when the first listener is added.\n\t * @method init\n\t * @static\n\t **/\n\tTicker.init = function() {\n\t\tif (Ticker._inited) { return; }\n\t\tTicker._inited = true;\n\t\tTicker._times = [];\n\t\tTicker._tickTimes = [];\n\t\tTicker._startTime = Ticker._getTime();\n\t\tTicker._times.push(Ticker._lastTime = 0);\n\t\tTicker.interval = Ticker._interval;\n\t};\n\t\n\t/**\n\t * Stops the Ticker and removes all listeners. Use init() to restart the Ticker.\n\t * @method reset\n\t * @static\n\t **/\n\tTicker.reset = function() {\n\t\tif (Ticker._raf) {\n\t\t\tvar f = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame;\n\t\t\tf&&f(Ticker._timerId);\n\t\t} else {\n\t\t\tclearTimeout(Ticker._timerId);\n\t\t}\n\t\tTicker.removeAllEventListeners(\"tick\");\n\t\tTicker._timerId = Ticker._times = Ticker._tickTimes = null;\n\t\tTicker._startTime = Ticker._lastTime = Ticker._ticks = Ticker._pausedTime = 0;\n\t\tTicker._inited = false;\n\t};\n\n\t/**\n\t * Returns the average time spent within a tick. This can vary significantly from the value provided by getMeasuredFPS\n\t * because it only measures the time spent within the tick execution stack. \n\t * \n\t * Example 1: With a target FPS of 20, getMeasuredFPS() returns 20fps, which indicates an average of 50ms between \n\t * the end of one tick and the end of the next. However, getMeasuredTickTime() returns 15ms. This indicates that \n\t * there may be up to 35ms of \"idle\" time between the end of one tick and the start of the next.\n\t *\n\t * Example 2: With a target FPS of 30, {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} returns 10fps, which\n\t * indicates an average of 100ms between the end of one tick and the end of the next. However, {{#crossLink \"Ticker/getMeasuredTickTime\"}}{{/crossLink}}\n\t * returns 20ms. This would indicate that something other than the tick is using ~80ms (another script, DOM\n\t * rendering, etc).\n\t * @method getMeasuredTickTime\n\t * @static\n\t * @param {Number} [ticks] The number of previous ticks over which to measure the average time spent in a tick.\n\t * Defaults to the number of ticks per second. To get only the last tick's time, pass in 1.\n\t * @return {Number} The average time spent in a tick in milliseconds.\n\t **/\n\tTicker.getMeasuredTickTime = function(ticks) {\n\t\tvar ttl=0, times=Ticker._tickTimes;\n\t\tif (!times || times.length < 1) { return -1; }\n\n\t\t// by default, calculate average for the past ~1 second:\n\t\tticks = Math.min(times.length, ticks||(Ticker._getFPS()|0));\n\t\tfor (var i=0; i<ticks; i++) { ttl += times[i]; }\n\t\treturn ttl/ticks;\n\t};\n\n\t/**\n\t * Returns the actual frames / ticks per second.\n\t * @method getMeasuredFPS\n\t * @static\n\t * @param {Number} [ticks] The number of previous ticks over which to measure the actual frames / ticks per second.\n\t * Defaults to the number of ticks per second.\n\t * @return {Number} The actual frames / ticks per second. Depending on performance, this may differ\n\t * from the target frames per second.\n\t **/\n\tTicker.getMeasuredFPS = function(ticks) {\n\t\tvar times = Ticker._times;\n\t\tif (!times || times.length < 2) { return -1; }\n\n\t\t// by default, calculate fps for the past ~1 second:\n\t\tticks = Math.min(times.length-1, ticks||(Ticker._getFPS()|0));\n\t\treturn 1000/((times[0]-times[ticks])/ticks);\n\t};\n\n\t/**\n\t * Returns the number of milliseconds that have elapsed since Ticker was initialized via {{#crossLink \"Ticker/init\"}}.\n\t * Returns -1 if Ticker has not been initialized. For example, you could use\n\t * this in a time synchronized animation to determine the exact amount of time that has elapsed.\n\t * @method getTime\n\t * @static\n\t * @param {Boolean} [runTime=false] If true only time elapsed while Ticker was not paused will be returned.\n\t * If false, the value returned will be total time elapsed since the first tick event listener was added.\n\t * @return {Number} Number of milliseconds that have elapsed since Ticker was initialized or -1.\n\t **/\n\tTicker.getTime = function(runTime) {\n\t\treturn Ticker._startTime ? Ticker._getTime() - (runTime ? Ticker._pausedTime : 0) : -1;\n\t};\n\n\t/**\n\t * Similar to the {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} method, but returns the time on the most recent {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\n\t * event object.\n\t * @method getEventTime\n\t * @static\n\t * @param runTime {Boolean} [runTime=false] If true, the runTime property will be returned instead of time.\n\t * @returns {number} The time or runTime property from the most recent tick event or -1.\n\t */\n\tTicker.getEventTime = function(runTime) {\n\t\treturn Ticker._startTime ? (Ticker._lastTime || Ticker._startTime) - (runTime ? Ticker._pausedTime : 0) : -1;\n\t};\n\t\n\t/**\n\t * Returns the number of ticks that have been broadcast by Ticker.\n\t * @method getTicks\n\t * @static\n\t * @param {Boolean} pauseable Indicates whether to include ticks that would have been broadcast\n\t * while Ticker was paused. If true only tick events broadcast while Ticker is not paused will be returned.\n\t * If false, tick events that would have been broadcast while Ticker was paused will be included in the return\n\t * value. The default value is false.\n\t * @return {Number} of ticks that have been broadcast.\n\t **/\n\tTicker.getTicks = function(pauseable) {\n\t\treturn  Ticker._ticks - (pauseable ? Ticker._pausedTicks : 0);\n\t};\n\n\n// private static methods:\n\t/**\n\t * @method _handleSynch\n\t * @static\n\t * @private\n\t **/\n\tTicker._handleSynch = function() {\n\t\tTicker._timerId = null;\n\t\tTicker._setupTick();\n\n\t\t// run if enough time has elapsed, with a little bit of flexibility to be early:\n\t\tif (Ticker._getTime() - Ticker._lastTime >= (Ticker._interval-1)*0.97) {\n\t\t\tTicker._tick();\n\t\t}\n\t};\n\n\t/**\n\t * @method _handleRAF\n\t * @static\n\t * @private\n\t **/\n\tTicker._handleRAF = function() {\n\t\tTicker._timerId = null;\n\t\tTicker._setupTick();\n\t\tTicker._tick();\n\t};\n\n\t/**\n\t * @method _handleTimeout\n\t * @static\n\t * @private\n\t **/\n\tTicker._handleTimeout = function() {\n\t\tTicker._timerId = null;\n\t\tTicker._setupTick();\n\t\tTicker._tick();\n\t};\n\n\t/**\n\t * @method _setupTick\n\t * @static\n\t * @private\n\t **/\n\tTicker._setupTick = function() {\n\t\tif (Ticker._timerId != null) { return; } // avoid duplicates\n\n\t\tvar mode = Ticker.timingMode;\n\t\tif (mode == Ticker.RAF_SYNCHED || mode == Ticker.RAF) {\n\t\t\tvar f = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n\t\t\tif (f) {\n\t\t\t\tTicker._timerId = f(mode == Ticker.RAF ? Ticker._handleRAF : Ticker._handleSynch);\n\t\t\t\tTicker._raf = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tTicker._raf = false;\n\t\tTicker._timerId = setTimeout(Ticker._handleTimeout, Ticker._interval);\n\t};\n\n\t/**\n\t * @method _tick\n\t * @static\n\t * @private\n\t **/\n\tTicker._tick = function() {\n\t\tvar paused = Ticker.paused;\n\t\tvar time = Ticker._getTime();\n\t\tvar elapsedTime = time-Ticker._lastTime;\n\t\tTicker._lastTime = time;\n\t\tTicker._ticks++;\n\t\t\n\t\tif (paused) {\n\t\t\tTicker._pausedTicks++;\n\t\t\tTicker._pausedTime += elapsedTime;\n\t\t}\n\t\t\n\t\tif (Ticker.hasEventListener(\"tick\")) {\n\t\t\tvar event = new createjs.Event(\"tick\");\n\t\t\tvar maxDelta = Ticker.maxDelta;\n\t\t\tevent.delta = (maxDelta && elapsedTime > maxDelta) ? maxDelta : elapsedTime;\n\t\t\tevent.paused = paused;\n\t\t\tevent.time = time;\n\t\t\tevent.runTime = time-Ticker._pausedTime;\n\t\t\tTicker.dispatchEvent(event);\n\t\t}\n\t\t\n\t\tTicker._tickTimes.unshift(Ticker._getTime()-time);\n\t\twhile (Ticker._tickTimes.length > 100) { Ticker._tickTimes.pop(); }\n\n\t\tTicker._times.unshift(time);\n\t\twhile (Ticker._times.length > 100) { Ticker._times.pop(); }\n\t};\n\n\t/**\n\t * @method _getTime\n\t * @static\n\t * @private\n\t **/\n\tvar w=window, now=w.performance.now || w.performance.mozNow || w.performance.msNow || w.performance.oNow || w.performance.webkitNow;\n\tTicker._getTime = function() {\n\t\treturn ((now&&now.call(w.performance))||(new Date().getTime())) - Ticker._startTime;\n\t};\n\n\n\tcreatejs.Ticker = Ticker;\n}());\n\n//##############################################################################\n// AbstractTween.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor\n\t/**\n\t * Base class that both {{#crossLink \"Tween\"}}{{/crossLink}} and {{#crossLink \"Timeline\"}}{{/crossLink}} extend. Should not be instantiated directly.\n\t * @class AbstractTween\n\t * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n\t * Supported props are listed below. These props are set on the corresponding instance properties except where\n\t * specified.\n\t * @param {boolean} [props.useTicks=false]  See the {{#crossLink \"AbstractTween/useTicks:property\"}}{{/crossLink}} property for more information.\n\t * @param {boolean} [props.ignoreGlobalPause=false] See the {{#crossLink \"AbstractTween/ignoreGlobalPause:property\"}}{{/crossLink}} for more information.\n\t * @param {number|boolean} [props.loop=0] See the {{#crossLink \"AbstractTween/loop:property\"}}{{/crossLink}} for more information.\n\t * @param {boolean} [props.reversed=false] See the {{#crossLink \"AbstractTween/reversed:property\"}}{{/crossLink}} for more information.\n\t * @param {boolean} [props.bounce=false] See the {{#crossLink \"AbstractTween/bounce:property\"}}{{/crossLink}} for more information.\n\t * @param {number} [props.timeScale=1] See the {{#crossLink \"AbstractTween/timeScale:property\"}}{{/crossLink}} for more information.\n\t * @param {Function} [props.onChange] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/change:event\"}}{{/crossLink}} event\n\t * @param {Function} [props.onComplete] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/complete:event\"}}{{/crossLink}} event\n\t * @extends EventDispatcher\n\t * @constructor\n\t */\n\tfunction AbstractTween(props) {\n\t\tthis.EventDispatcher_constructor();\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * Causes this tween to continue playing when a global pause is active. For example, if TweenJS is using {{#crossLink \"Ticker\"}}{{/crossLink}},\n\t\t * then setting this to false (the default) will cause this tween to be paused when `Ticker.paused` is set to\n\t\t * `true`. See the {{#crossLink \"Tween/tick\"}}{{/crossLink}} method for more info. Can be set via the `props`\n\t\t * parameter.\n\t\t * @property ignoreGlobalPause\n\t\t * @type Boolean\n\t\t * @default false\n\t\t */\n\t\tthis.ignoreGlobalPause = false;\n\t\n\t\t/**\n\t\t * Indicates the number of times to loop. If set to -1, the tween will loop continuously.\n\t\t *\n\t\t * Note that a tween must loop at _least_ once to see it play in both directions when `{{#crossLink \"AbstractTween/bounce:property\"}}{{/crossLink}}`\n\t\t * is set to `true`.\n\t\t * @property loop\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.loop = 0;\n\t\n\t\t/**\n\t\t * Uses ticks for all durations instead of milliseconds. This also changes the behaviour of some actions (such as `call`).\n\t\t * Changing this value on a running tween could have unexpected results.\n\t\t * @property useTicks\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @readonly\n\t\t */\n\t\tthis.useTicks = false;\n\t\t\n\t\t/**\n\t\t * Causes the tween to play in reverse.\n\t\t * @property reversed\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.reversed = false;\n\t\t\n\t\t/**\n\t\t * Causes the tween to reverse direction at the end of each loop. Each single-direction play-through of the\n\t\t * tween counts as a single bounce. For example, to play a tween once forward, and once back, set the\n\t\t * `{{#crossLink \"AbstractTween/loop:property\"}}{{/crossLink}}` to `1`.\n\t\t * @property bounce\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.bounce = false;\n\t\t\n\t\t/**\n\t\t * Changes the rate at which the tween advances. For example, a `timeScale` value of `2` will double the\n\t\t * playback speed, a value of `0.5` would halve it.\n\t\t * @property timeScale\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t */\n\t\tthis.timeScale = 1;\n\t\n\t\t/**\n\t\t * Indicates the duration of this tween in milliseconds (or ticks if `useTicks` is true), irrespective of `loops`.\n\t\t * This value is automatically updated as you modify the tween. Changing it directly could result in unexpected\n\t\t * behaviour.\n\t\t * @property duration\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @readonly\n\t\t */\n\t\tthis.duration = 0;\n\t\n\t\t/**\n\t\t * The current normalized position of the tween. This will always be a value between 0 and `duration`.\n\t\t * Changing this property directly will have unexpected results, use {{#crossLink \"Tween/setPosition\"}}{{/crossLink}}.\n\t\t * @property position\n\t\t * @type {Object}\n\t\t * @default 0\n\t\t * @readonly\n\t\t */\n\t\tthis.position = 0;\n\t\t\n\t\t/**\n\t\t * The raw tween position. This value will be between `0` and `loops * duration` while the tween is active, or -1 before it activates.\n\t\t * @property rawPosition\n\t\t * @type {Number}\n\t\t * @default -1\n\t\t * @readonly\n\t\t */\n\t\tthis.rawPosition = -1;\n\t\t\n\t\t\n\t// private properties:\n\t\t/**\n\t\t * @property _paused\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @protected\n\t\t */\n\t\tthis._paused = true;\n\t\t\n\t\t/**\n\t\t * @property _next\n\t\t * @type {Tween}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis._next = null;\n\t\t\n\t\t/**\n\t\t * @property _prev\n\t\t * @type {Tween}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis._prev = null;\n\t\t\n\t\t/**\n\t\t * @property _parent\n\t\t * @type {Object}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis._parent = null;\n\n\t\t/**\n\t\t * @property _labels\n\t\t * @type Object\n\t\t * @protected\n\t\t **/\n\t\tthis._labels = null;\n\n\t\t/**\n\t\t * @property _labelList\n\t\t * @type Array[Object]\n\t\t * @protected\n\t\t **/\n\t\tthis._labelList = null;\n\n\t\tif (props) {\n\t\t\tthis.useTicks = !!props.useTicks;\n\t\t\tthis.ignoreGlobalPause = !!props.ignoreGlobalPause;\n\t\t\tthis.loop = props.loop === true ? -1 : (props.loop||0);\n\t\t\tthis.reversed = !!props.reversed;\n\t\t\tthis.bounce = !!props.bounce;\n\t\t\tthis.timeScale = props.timeScale||1;\n\t\t\tprops.onChange && this.addEventListener(\"change\", props.onChange);\n\t\t\tprops.onComplete && this.addEventListener(\"complete\", props.onComplete);\n\t\t}\n\t\t\n\t\t// while `position` is shared, it needs to happen after ALL props are set, so it's handled in _init()\n\t};\n\n\tvar p = createjs.extend(AbstractTween, createjs.EventDispatcher);\n\n// events:\n\t/**\n\t * Dispatched whenever the tween's position changes. It occurs after all tweened properties are updated and actions\n\t * are executed.\n\t * @event change\n\t **/\n\t \n\t/**\n\t * Dispatched when the tween reaches its end and has paused itself. This does not fire until all loops are complete;\n\t * tweens that loop continuously will never fire a complete event.\n\t * @event complete\n\t **/\n\t\n// getter / setters:\n\t\n\t/**\n\t * Use the {{#crossLink \"AbstractTween/paused:property\"}}{{/crossLink}} property instead.\n\t * @method _setPaused\n\t * @param {Boolean} [value=true] Indicates whether the tween should be paused (`true`) or played (`false`).\n\t * @return {AbstractTween} This tween instance (for chaining calls)\n\t * @protected\n\t * @chainable\n\t */\n\tp._setPaused = function(value) {\n\t\tcreatejs.Tween._register(this, value);\n\t\treturn this;\n\t};\n\tp.setPaused = createjs.deprecate(p._setPaused, \"AbstractTween.setPaused\");\n\t\n\t/**\n\t * Use the {{#crossLink \"AbstractTween/paused:property\"}}{{/crossLink}} property instead.\n\t * @method _getPaused\n\t * @protected\n\t */\n\tp._getPaused = function() {\n\t\treturn this._paused;\n\t};\n\tp.getPaused = createjs.deprecate(p._getPaused, \"AbstactTween.getPaused\");\n\t\n\t/**\n\t * Use the {{#crossLink \"AbstractTween/currentLabel:property\"}}{{/crossLink}} property instead.\n\t * @method _getCurrentLabel\n\t * @protected\n\t * @return {String} The name of the current label or null if there is no label\n\t **/\n\tp._getCurrentLabel = function(pos) {\n\t\tvar labels = this.getLabels();\n\t\tif (pos == null) { pos = this.position; }\n\t\tfor (var i = 0, l = labels.length; i<l; i++) { if (pos < labels[i].position) { break; } }\n\t\treturn (i===0) ? null : labels[i-1].label;\n\t};\n\tp.getCurrentLabel = createjs.deprecate(p._getCurrentLabel, \"AbstractTween.getCurrentLabel\");\n\t\n\t/**\n\t * Pauses or unpauses the tween. A paused tween is removed from the global registry and is eligible for garbage\n\t * collection if no other references to it exist.\n\t * @property paused\n\t * @type Boolean\n\t * @readonly\n\t **/\n\t \n\t/**\n\t * Returns the name of the label on or immediately before the current position. For example, given a tween with\n\t * two labels, \"first\" on frame index 4, and \"second\" on frame 8, `currentLabel` would return:\n\t * <UL>\n\t * \t\t<LI>null if the current position is 2.</LI>\n\t * \t\t<LI>\"first\" if the current position is 4.</LI>\n\t * \t\t<LI>\"first\" if the current position is 7.</LI>\n\t * \t\t<LI>\"second\" if the current position is 15.</LI>\n\t * </UL>\n\t * @property currentLabel\n\t * @type String\n\t * @readonly\n\t **/\n\t \n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tpaused: { set: p._setPaused, get: p._getPaused },\n\t\t\tcurrentLabel: { get: p._getCurrentLabel }\n\t\t});\n\t} catch (e) {}\n\n// public methods:\n\t/**\n\t * Advances the tween by a specified amount.\n\t * @method advance\n\t * @param {Number} delta The amount to advance in milliseconds (or ticks if useTicks is true). Negative values are supported.\n\t * @param {Number} [ignoreActions=false] If true, actions will not be executed due to this change in position.\n\t */\n\tp.advance = function(delta, ignoreActions) {\n\t\tthis.setPosition(this.rawPosition+delta*this.timeScale, ignoreActions);\n\t};\n\t\n\t/**\n\t * Advances the tween to a specified position.\n\t * @method setPosition\n\t * @param {Number} rawPosition The raw position to seek to in milliseconds (or ticks if useTicks is true).\n\t * @param {Boolean} [ignoreActions=false] If true, do not run any actions that would be triggered by this operation.\n\t * @param {Boolean} [jump=false] If true, only actions at the new position will be run. If false, actions between the old and new position are run.\n\t * @param {Function} [callback] Primarily for use with MovieClip, this callback is called after properties are updated, but before actions are run.\n\t */\n\tp.setPosition = function(rawPosition, ignoreActions, jump, callback) {\n\t\tvar d=this.duration, loopCount=this.loop, prevRawPos = this.rawPosition;\n\t\tvar loop=0, t=0, end=false;\n\t\t\n\t\t// normalize position:\n\t\tif (rawPosition < 0) { rawPosition = 0; }\n\t\t\n\t\tif (d === 0) {\n\t\t\t// deal with 0 length tweens.\n\t\t\tend = true;\n\t\t\tif (prevRawPos !== -1) { return end; } // we can avoid doing anything else if we're already at 0.\n\t\t} else {\n\t\t\tloop = rawPosition/d|0;\n\t\t\tt = rawPosition-loop*d;\n\t\t\t\n\t\t\tend = (loopCount !== -1 && rawPosition >= loopCount*d+d);\n\t\t\tif (end) { rawPosition = (t=d)*(loop=loopCount)+d; }\n\t\t\tif (rawPosition === prevRawPos) { return end; } // no need to update\n\t\t\t\n\t\t\tvar rev = !this.reversed !== !(this.bounce && loop%2); // current loop is reversed\n\t\t\tif (rev) { t = d-t; }\n\t\t}\n\t\t\n\t\t// set this in advance in case an action modifies position:\n\t\tthis.position = t;\n\t\tthis.rawPosition = rawPosition;\n\t\t\n\t\tthis._updatePosition(jump, end);\n\t\tif (end) { this.paused = true; }\n\t\t\n\t\tcallback&&callback(this);\n\t\t\n\t\tif (!ignoreActions) { this._runActions(prevRawPos, rawPosition, jump, !jump && prevRawPos === -1); }\n\t\t\n\t\tthis.dispatchEvent(\"change\");\n\t\tif (end) { this.dispatchEvent(\"complete\"); }\n\t};\n\t\n\t/**\n\t * Calculates a normalized position based on a raw position. For example, given a tween with a duration of 3000ms set to loop:\n\t * \tconsole.log(myTween.calculatePosition(3700); // 700\n\t * @method calculatePosition\n\t * @param {Number} rawPosition A raw position.\n\t */\n\tp.calculatePosition = function(rawPosition) {\n\t\t// largely duplicated from setPosition, but necessary to avoid having to instantiate generic objects to pass values (end, loop, position) back.\n\t\tvar d=this.duration, loopCount=this.loop, loop=0, t=0;\n\t\t\n\t\tif (d===0) { return 0; }\n\t\tif (loopCount !== -1 && rawPosition >= loopCount*d+d) { t = d; loop = loopCount } // end\n\t\telse if (rawPosition < 0) { t = 0; }\n\t\telse { loop = rawPosition/d|0; t = rawPosition-loop*d;  }\n\t\t\n\t\tvar rev = !this.reversed !== !(this.bounce && loop%2); // current loop is reversed\n\t\treturn rev ? d-t : t;\n\t};\n\t\n\t/**\n\t * Returns a list of the labels defined on this tween sorted by position.\n\t * @method getLabels\n\t * @return {Array[Object]} A sorted array of objects with label and position properties.\n\t **/\n\tp.getLabels = function() {\n\t\tvar list = this._labelList;\n\t\tif (!list) {\n\t\t\tlist = this._labelList = [];\n\t\t\tvar labels = this._labels;\n\t\t\tfor (var n in labels) {\n\t\t\t\tlist.push({label:n, position:labels[n]});\n\t\t\t}\n\t\t\tlist.sort(function (a,b) { return a.position- b.position; });\n\t\t}\n\t\treturn list;\n\t};\n\t\n\n\t/**\n\t * Defines labels for use with gotoAndPlay/Stop. Overwrites any previously set labels.\n\t * @method setLabels\n\t * @param {Object} labels An object defining labels for using {{#crossLink \"Timeline/gotoAndPlay\"}}{{/crossLink}}/{{#crossLink \"Timeline/gotoAndStop\"}}{{/crossLink}}\n\t * in the form `{myLabelName:time}` where time is in milliseconds (or ticks if `useTicks` is `true`).\n\t **/\n\tp.setLabels = function(labels) {\n\t\tthis._labels = labels;\n\t\tthis._labelList = null;\n\t};\n\n\t/**\n\t * Adds a label that can be used with {{#crossLink \"Timeline/gotoAndPlay\"}}{{/crossLink}}/{{#crossLink \"Timeline/gotoAndStop\"}}{{/crossLink}}.\n\t * @method addLabel\n\t * @param {String} label The label name.\n\t * @param {Number} position The position this label represents.\n\t **/\n\tp.addLabel = function(label, position) {\n\t\tif (!this._labels) { this._labels = {}; }\n\t\tthis._labels[label] = position;\n\t\tvar list = this._labelList;\n\t\tif (list) {\n\t\t\tfor (var i= 0,l=list.length; i<l; i++) { if (position < list[i].position) { break; } }\n\t\t\tlist.splice(i, 0, {label:label, position:position});\n\t\t}\n\t};\n\t\n\t/**\n\t * Unpauses this timeline and jumps to the specified position or label.\n\t * @method gotoAndPlay\n\t * @param {String|Number} positionOrLabel The position in milliseconds (or ticks if `useTicks` is `true`)\n\t * or label to jump to.\n\t **/\n\tp.gotoAndPlay = function(positionOrLabel) {\n\t\tthis.paused = false;\n\t\tthis._goto(positionOrLabel);\n\t};\n\n\t/**\n\t * Pauses this timeline and jumps to the specified position or label.\n\t * @method gotoAndStop\n\t * @param {String|Number} positionOrLabel The position in milliseconds (or ticks if `useTicks` is `true`) or label\n\t * to jump to.\n\t **/\n\tp.gotoAndStop = function(positionOrLabel) {\n\t\tthis.paused = true;\n\t\tthis._goto(positionOrLabel);\n\t};\n\t\n\t/**\n\t * If a numeric position is passed, it is returned unchanged. If a string is passed, the position of the\n\t * corresponding frame label will be returned, or `null` if a matching label is not defined.\n\t * @method resolve\n\t * @param {String|Number} positionOrLabel A numeric position value or label string.\n\t **/\n\tp.resolve = function(positionOrLabel) {\n\t\tvar pos = Number(positionOrLabel);\n\t\tif (isNaN(pos)) { pos = this._labels && this._labels[positionOrLabel]; }\n\t\treturn pos;\n\t};\n\t\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t */\n\tp.toString = function() {\n\t\treturn \"[AbstractTween]\";\n\t};\n\n\t/**\n\t * @method clone\n\t * @protected\n\t */\n\tp.clone = function() {\n\t\tthrow(\"AbstractTween can not be cloned.\")\n\t};\n\n\n// private methods:\n\t/**\n\t * Shared logic that executes at the end of the subclass constructor.\n\t * @method _init\n\t * @protected\n\t */\n\tp._init = function(props) {\n\t\tif (!props || !props.paused) { this.paused = false; }\n\t\tif (props&&(props.position!=null)) { this.setPosition(props.position); }\n\t};\n\n\t/**\n\t * @method _updatePosition\n\t * @protected\n\t */\n\tp._updatePosition = function(jump, end) {\n\t\t// abstract.\n\t};\n\t\n\t/**\n\t * @method _goto\n\t * @protected\n\t **/\n\tp._goto = function(positionOrLabel) {\n\t\tvar pos = this.resolve(positionOrLabel);\n\t\tif (pos != null) { this.setPosition(pos, false, true); }\n\t};\n\t\n\t/**\n\t * @method _runActions\n\t * @protected\n\t */\n\tp._runActions = function(startRawPos, endRawPos, jump, includeStart) {\n\t\t// runs actions between startPos & endPos. Separated to support action deferral.\n\t\t\n\t\t//console.log(this.passive === false ? \" > Tween\" : \"Timeline\", \"run\", startRawPos, endRawPos, jump, includeStart);\n\t\t\n\t\t// if we don't have any actions, and we're not a Timeline, then return:\n\t\t// TODO: a cleaner way to handle this would be to override this method in Tween, but I'm not sure it's worth the overhead.\n\t\tif (!this._actionHead && !this.tweens) { return; } \n\t\t\n\t\tvar d=this.duration, reversed=this.reversed, bounce=this.bounce, loopCount=this.loop;\n\t\tvar loop0, loop1, t0, t1;\n\t\t\n\t\tif (d === 0) {\n\t\t\t// deal with 0 length tweens:\n\t\t\tloop0 = loop1 = t0 = t1 = 0;\n\t\t\treversed = bounce = false;\n\t\t} else {\n\t\t\tloop0=startRawPos/d|0;\n\t\t\tloop1=endRawPos/d|0;\n\t\t\tt0=startRawPos-loop0*d;\n\t\t\tt1=endRawPos-loop1*d;\n\t\t}\n\t\t\n\t\t// catch positions that are past the end:\n\t\tif (loopCount !== -1) {\n\t\t\tif (loop1 > loopCount) { t1=d; loop1=loopCount; }\n\t\t\tif (loop0 > loopCount) { t0=d; loop0=loopCount; }\n\t\t}\n\t\t\n\t\t// special cases:\n\t\tif (jump) { return this._runActionsRange(t1, t1, jump, includeStart); } // jump.\n\t\telse if (loop0 === loop1 && t0 === t1 && !jump && !includeStart) { return; } // no actions if the position is identical and we aren't including the start\n\t\telse if (loop0 === -1) { loop0 = t0 = 0; } // correct the -1 value for first advance, important with useTicks.\n\t\t\n\t\tvar dir = (startRawPos <= endRawPos), loop = loop0;\n\t\tdo {\n\t\t\tvar rev = !reversed !== !(bounce && loop % 2);\n\n\t\t\tvar start = (loop === loop0) ? t0 : dir ? 0 : d;\n\t\t\tvar end = (loop === loop1) ? t1 : dir ? d : 0;\n\t\t\t\n\t\t\tif (rev) {\n\t\t\t\tstart = d - start;\n\t\t\t\tend = d - end;\n\t\t\t}\n\t\t\t\n\t\t\tif (bounce && loop !== loop0 && start === end) { /* bounced onto the same time/frame, don't re-execute end actions */ }\n\t\t\telse if (this._runActionsRange(start, end, jump, includeStart || (loop !== loop0 && !bounce))) { return true; }\n\t\t\t\t\n\t\t\tincludeStart = false;\n\t\t} while ((dir && ++loop <= loop1) || (!dir && --loop >= loop1));\n\t};\n\t\n\tp._runActionsRange = function(startPos, endPos, jump, includeStart) {\n\t\t// abstract\n\t};\n\n\tcreatejs.AbstractTween = createjs.promote(AbstractTween, \"EventDispatcher\");\n}());\n\n//##############################################################################\n// Tween.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor\n\t/**\n\t * Tweens properties for a single target. Methods can be chained to create complex animation sequences:\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *\tcreatejs.Tween.get(target)\n\t *\t\t.wait(500)\n\t *\t\t.to({alpha:0, visible:false}, 1000)\n\t *\t\t.call(handleComplete);\n\t *\n\t * Multiple tweens can share a target, however if they affect the same properties there could be unexpected\n\t * behaviour. To stop all tweens on an object, use {{#crossLink \"Tween/removeTweens\"}}{{/crossLink}} or pass `override:true`\n\t * in the props argument.\n\t *\n\t * \tcreatejs.Tween.get(target, {override:true}).to({x:100});\n\t *\n\t * Subscribe to the {{#crossLink \"Tween/change:event\"}}{{/crossLink}} event to be notified when the tween position changes.\n\t *\n\t * \tcreatejs.Tween.get(target, {override:true}).to({x:100}).addEventListener(\"change\", handleChange);\n\t * \tfunction handleChange(event) {\n\t * \t\t// The tween changed.\n\t * \t}\n\t *\n\t * See the {{#crossLink \"Tween/get\"}}{{/crossLink}} method also.\n\t * @class Tween\n\t * @param {Object} target The target object that will have its properties tweened.\n\t * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n\t * Supported props are listed below. These props are set on the corresponding instance properties except where\n\t * specified.\n\t * @param {boolean} [props.useTicks=false]  See the {{#crossLink \"AbstractTween/useTicks:property\"}}{{/crossLink}} property for more information.\n\t * @param {boolean} [props.ignoreGlobalPause=false] See the {{#crossLink \"AbstractTween/ignoreGlobalPause:property\"}}{{/crossLink}} for more information.\n\t * @param {number|boolean} [props.loop=0] See the {{#crossLink \"AbstractTween/loop:property\"}}{{/crossLink}} for more information.\n\t * @param {boolean} [props.reversed=false] See the {{#crossLink \"AbstractTween/reversed:property\"}}{{/crossLink}} for more information.\n\t * @param {boolean} [props.bounce=false] See the {{#crossLink \"AbstractTween/bounce:property\"}}{{/crossLink}} for more information.\n\t * @param {number} [props.timeScale=1] See the {{#crossLink \"AbstractTween/timeScale:property\"}}{{/crossLink}} for more information.\n\t * @param {object} [props.pluginData] See the {{#crossLink \"Tween/pluginData:property\"}}{{/crossLink}} for more information.\n\t * @param {boolean} [props.paused=false] See the {{#crossLink \"AbstractTween/paused:property\"}}{{/crossLink}} for more information.\n\t * @param {number} [props.position=0] The initial position for this tween. See {{#crossLink \"AbstractTween/position:property\"}}{{/crossLink}}\n\t * @param {Function} [props.onChange] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/change:event\"}}{{/crossLink}} event\n\t * @param {Function} [props.onComplete] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/complete:event\"}}{{/crossLink}} event\n\t * @param {boolean} [props.override=false] Removes all existing tweens for the target when set to `true`.\n\t * </UL>\n\t * @extends AbstractTween\n\t * @constructor\n\t */\n\tfunction Tween(target, props) {\n\t\tthis.AbstractTween_constructor(props);\n\t\t\n\t// public properties:\n\t\n\t\t/**\n\t\t * Allows you to specify data that will be used by installed plugins. Each plugin uses this differently, but in general\n\t\t * you specify data by assigning it to a property of `pluginData` with the same name as the plugin.\n\t\t * Note that in many cases, this data is used as soon as the plugin initializes itself for the tween.\n\t\t * As such, this data should be set before the first `to` call in most cases.\n\t\t * @example\n\t\t *\tmyTween.pluginData.SmartRotation = data;\n\t\t * \n\t\t * Most plugins also support a property to disable them for a specific tween. This is typically the plugin name followed by \"_disabled\".\n\t\t * @example\n\t\t *\tmyTween.pluginData.SmartRotation_disabled = true;\n\t\t * \n\t\t * Some plugins also store working data in this object, usually in a property named `_PluginClassName`.\n\t\t * See the documentation for individual plugins for more details.\n\t\t * @property pluginData\n\t\t * @type {Object}\n\t\t */\n\t\tthis.pluginData = null;\n\t\n\t\t/**\n\t\t * The target of this tween. This is the object on which the tweened properties will be changed.\n\t\t * @property target\n\t\t * @type {Object}\n\t\t * @readonly\n\t\t */\n\t\tthis.target = target;\n\t\n\t\t/**\n\t\t * Indicates the tween's current position is within a passive wait.\n\t\t * @property passive\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @readonly\n\t\t **/\n\t\tthis.passive = false;\n\t\t\n\t\t\n\t// private properties:\n\t\n\t\t/**\n\t\t * @property _stepHead\n\t\t * @type {TweenStep}\n\t\t * @protected\n\t\t */\n\t\tthis._stepHead = new TweenStep(null, 0, 0, {}, null, true);\n\t\t\n\t\t/**\n\t\t * @property _stepTail\n\t\t * @type {TweenStep}\n\t\t * @protected\n\t\t */\n\t\tthis._stepTail = this._stepHead;\n\t\t\n\t\t/**\n\t\t * The position within the current step. Used by MovieClip.\n\t\t * @property _stepPosition\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @protected\n\t\t */\n\t\tthis._stepPosition = 0;\n\t\t\n\t\t/**\n\t\t * @property _actionHead\n\t\t * @type {TweenAction}\n\t\t * @protected\n\t\t */\n\t\tthis._actionHead = null;\n\t\t\n\t\t/**\n\t\t * @property _actionTail\n\t\t * @type {TweenAction}\n\t\t * @protected\n\t\t */\n\t\tthis._actionTail = null;\n\t\t\n\t\t/**\n\t\t * Plugins added to this tween instance.\n\t\t * @property _plugins\n\t\t * @type Array[Object]\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis._plugins = null;\n\t\t\n\t\t/**\n\t\t * Hash for quickly looking up added plugins. Null until a plugin is added.\n\t\t * @property _plugins\n\t\t * @type Object\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis._pluginIds = null;\n\t\t\n\t\t/**\n\t\t * Used by plugins to inject new properties.\n\t\t * @property _injected\n\t\t * @type {Object}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis._injected = null;\n\n\t\tif (props) {\n\t\t\tthis.pluginData = props.pluginData;\n\t\t\tif (props.override) { Tween.removeTweens(target); }\n\t\t}\n\t\tif (!this.pluginData) { this.pluginData = {}; }\n\t\t\n\t\tthis._init(props);\n\t};\n\n\tvar p = createjs.extend(Tween, createjs.AbstractTween);\n\n// static properties\n\n\t/**\n\t * Constant returned by plugins to tell the tween not to use default assignment.\n\t * @property IGNORE\n\t * @type Object\n\t * @static\n\t */\n\tTween.IGNORE = {};\n\n\t/**\n\t * @property _listeners\n\t * @type Array[Tween]\n\t * @static\n\t * @protected\n\t */\n\tTween._tweens = [];\n\n\t/**\n\t * @property _plugins\n\t * @type Object\n\t * @static\n\t * @protected\n\t */\n\tTween._plugins = null;\n\t\n\t/**\n\t * @property _tweenHead\n\t * @type Tween\n\t * @static\n\t * @protected\n\t */\n\tTween._tweenHead = null;\n\t\n\t/**\n\t * @property _tweenTail\n\t * @type Tween\n\t * @static\n\t * @protected\n\t */\n\tTween._tweenTail = null;\n\n\n// static methods\t\n\t/**\n\t * Returns a new tween instance. This is functionally identical to using `new Tween(...)`, but may look cleaner\n\t * with the chained syntax of TweenJS.\n\t * <h4>Example</h4>\n\t *\n\t *\tvar tween = createjs.Tween.get(target).to({x:100}, 500);\n\t *\t// equivalent to:\n\t *\tvar tween = new createjs.Tween(target).to({x:100}, 500);\n\t *\n\t * @method get\n\t * @param {Object} target The target object that will have its properties tweened.\n\t * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n\t * Supported props are listed below. These props are set on the corresponding instance properties except where\n\t * specified.\n\t * @param {boolean} [props.useTicks=false]  See the {{#crossLink \"AbstractTween/useTicks:property\"}}{{/crossLink}} property for more information.\n\t * @param {boolean} [props.ignoreGlobalPause=false] See the {{#crossLink \"AbstractTween/ignoreGlobalPause:property\"}}{{/crossLink}} for more information.\n\t * @param {number|boolean} [props.loop=0] See the {{#crossLink \"AbstractTween/loop:property\"}}{{/crossLink}} for more information.\n\t * @param {boolean} [props.reversed=false] See the {{#crossLink \"AbstractTween/reversed:property\"}}{{/crossLink}} for more information.\n\t * @param {boolean} [props.bounce=false] See the {{#crossLink \"AbstractTween/bounce:property\"}}{{/crossLink}} for more information.\n\t * @param {number} [props.timeScale=1] See the {{#crossLink \"AbstractTween/timeScale:property\"}}{{/crossLink}} for more information.\n\t * @param {object} [props.pluginData] See the {{#crossLink \"Tween/pluginData:property\"}}{{/crossLink}} for more information.\n\t * @param {boolean} [props.paused=false] See the {{#crossLink \"AbstractTween/paused:property\"}}{{/crossLink}} for more information.\n\t * @param {number} [props.position=0] The initial position for this tween. See {{#crossLink \"AbstractTween/position:property\"}}{{/crossLink}}\n\t * @param {Function} [props.onChange] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/change:event\"}}{{/crossLink}} event\n\t * @param {Function} [props.onComplete] Adds the specified function as a listener to the {{#crossLink \"AbstractTween/complete:event\"}}{{/crossLink}} event\n\t * @param {boolean} [props.override=false] Removes all existing tweens for the target when set to `true`.\n\t * @return {Tween} A reference to the created tween.\n\t * @static\n\t */\n\tTween.get = function(target, props) {\n\t\treturn new Tween(target, props);\n\t};\n\n\t/**\n\t * Advances all tweens. This typically uses the {{#crossLink \"Ticker\"}}{{/crossLink}} class, but you can call it\n\t * manually if you prefer to use your own \"heartbeat\" implementation.\n\t * @method tick\n\t * @param {Number} delta The change in time in milliseconds since the last tick. Required unless all tweens have\n\t * `useTicks` set to true.\n\t * @param {Boolean} paused Indicates whether a global pause is in effect. Tweens with {{#crossLink \"Tween/ignoreGlobalPause:property\"}}{{/crossLink}}\n\t * will ignore this, but all others will pause if this is `true`.\n\t * @static\n\t */\n\tTween.tick = function(delta, paused) {\n\t\tvar tween = Tween._tweenHead;\n\t\twhile (tween) {\n\t\t\tvar next = tween._next; // in case it completes and wipes its _next property\n\t\t\tif ((paused && !tween.ignoreGlobalPause) || tween._paused) { /* paused */ }\n\t\t\telse { tween.advance(tween.useTicks?1:delta); }\n\t\t\ttween = next;\n\t\t}\n\t};\n\n\t/**\n\t * Handle events that result from Tween being used as an event handler. This is included to allow Tween to handle\n\t * {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}} events from the createjs {{#crossLink \"Ticker\"}}{{/crossLink}}.\n\t * No other events are handled in Tween.\n\t * @method handleEvent\n\t * @param {Object} event An event object passed in by the {{#crossLink \"EventDispatcher\"}}{{/crossLink}}. Will\n\t * usually be of type \"tick\".\n\t * @private\n\t * @static\n\t * @since 0.4.2\n\t */\n\tTween.handleEvent = function(event) {\n\t\tif (event.type === \"tick\") {\n\t\t\tthis.tick(event.delta, event.paused);\n\t\t}\n\t};\n\n\t/**\n\t * Removes all existing tweens for a target. This is called automatically by new tweens if the `override`\n\t * property is `true`.\n\t * @method removeTweens\n\t * @param {Object} target The target object to remove existing tweens from.\n\t * @static\n\t */\n\tTween.removeTweens = function(target) {\n\t\tif (!target.tweenjs_count) { return; }\n\t\tvar tween = Tween._tweenHead;\n\t\twhile (tween) {\n\t\t\tvar next = tween._next;\n\t\t\tif (tween.target === target) { Tween._register(tween, true); }\n\t\t\ttween = next;\n\t\t}\n\t\ttarget.tweenjs_count = 0;\n\t};\n\n\t/**\n\t * Stop and remove all existing tweens.\n\t * @method removeAllTweens\n\t * @static\n\t * @since 0.4.1\n\t */\n\tTween.removeAllTweens = function() {\n\t\tvar tween = Tween._tweenHead;\n\t\twhile (tween) {\n\t\t\tvar next = tween._next;\n\t\t\ttween._paused = true;\n\t\t\ttween.target&&(tween.target.tweenjs_count = 0);\n\t\t\ttween._next = tween._prev = null;\n\t\t\ttween = next;\n\t\t}\n\t\tTween._tweenHead = Tween._tweenTail = null;\n\t};\n\n\t/**\n\t * Indicates whether there are any active tweens on the target object (if specified) or in general.\n\t * @method hasActiveTweens\n\t * @param {Object} [target] The target to check for active tweens. If not specified, the return value will indicate\n\t * if there are any active tweens on any target.\n\t * @return {Boolean} Indicates if there are active tweens.\n\t * @static\n\t */\n\tTween.hasActiveTweens = function(target) {\n\t\tif (target) { return !!target.tweenjs_count; }\n\t\treturn !!Tween._tweenHead;\n\t};\n\n\t/**\n\t * Installs a plugin, which can modify how certain properties are handled when tweened. See the {{#crossLink \"SamplePlugin\"}}{{/crossLink}}\n\t * for an example of how to write TweenJS plugins. Plugins should generally be installed via their own `install` method, in order to provide\n\t * the plugin with an opportunity to configure itself.\n\t * @method _installPlugin\n\t * @param {Object} plugin The plugin to install\n\t * @static\n\t * @protected\n\t */\n\tTween._installPlugin = function(plugin) {\n\t\tvar priority = (plugin.priority = plugin.priority||0), arr = (Tween._plugins = Tween._plugins || []);\n\t\tfor (var i=0,l=arr.length;i<l;i++) {\n\t\t\tif (priority < arr[i].priority) { break; }\n\t\t}\n\t\tarr.splice(i,0,plugin);\n\t};\n\n\t/**\n\t * Registers or unregisters a tween with the ticking system.\n\t * @method _register\n\t * @param {Tween} tween The tween instance to register or unregister.\n\t * @param {Boolean} paused If `false`, the tween is registered. If `true` the tween is unregistered.\n\t * @static\n\t * @protected\n\t */\n\tTween._register = function(tween, paused) {\n\t\tvar target = tween.target;\n\t\tif (!paused && tween._paused) {\n\t\t\t// TODO: this approach might fail if a dev is using sealed objects\n\t\t\tif (target) { target.tweenjs_count = target.tweenjs_count ? target.tweenjs_count+1 : 1; }\n\t\t\tvar tail = Tween._tweenTail;\n\t\t\tif (!tail) { Tween._tweenHead = Tween._tweenTail = tween; }\n\t\t\telse {\n\t\t\t\tTween._tweenTail = tail._next = tween;\n\t\t\t\ttween._prev = tail;\n\t\t\t}\n\t\t\tif (!Tween._inited && createjs.Ticker) { createjs.Ticker.addEventListener(\"tick\", Tween); Tween._inited = true; }\n\t\t} else if (paused && !tween._paused) {\n\t\t\tif (target) { target.tweenjs_count--; }\n\t\t\tvar next = tween._next, prev = tween._prev;\n\t\t\t\n\t\t\tif (next) { next._prev = prev; }\n\t\t\telse { Tween._tweenTail = prev; } // was tail\n\t\t\tif (prev) { prev._next = next; }\n\t\t\telse { Tween._tweenHead = next; } // was head.\n\t\t\t\n\t\t\ttween._next = tween._prev = null;\n\t\t}\n\t\ttween._paused = paused;\n\t};\n\n\n// events:\n\n// public methods:\n\t/**\n\t * Adds a wait (essentially an empty tween).\n\t * <h4>Example</h4>\n\t *\n\t *\t//This tween will wait 1s before alpha is faded to 0.\n\t *\tcreatejs.Tween.get(target).wait(1000).to({alpha:0}, 1000);\n\t *\n\t * @method wait\n\t * @param {Number} duration The duration of the wait in milliseconds (or in ticks if `useTicks` is true).\n\t * @param {Boolean} [passive=false] Tween properties will not be updated during a passive wait. This\n\t * is mostly useful for use with {{#crossLink \"Timeline\"}}{{/crossLink}} instances that contain multiple tweens\n\t * affecting the same target at different times.\n\t * @return {Tween} This tween instance (for chaining calls).\n\t * @chainable\n\t **/\n\tp.wait = function(duration, passive) {\n\t\tif (duration > 0) { this._addStep(+duration, this._stepTail.props, null, passive); }\n\t\treturn this;\n\t};\n\n\t/**\n\t * Adds a tween from the current values to the specified properties. Set duration to 0 to jump to these value.\n\t * Numeric properties will be tweened from their current value in the tween to the target value. Non-numeric\n\t * properties will be set at the end of the specified duration.\n\t * <h4>Example</h4>\n\t *\n\t *\tcreatejs.Tween.get(target).to({alpha:0, visible:false}, 1000);\n\t *\n\t * @method to\n\t * @param {Object} props An object specifying property target values for this tween (Ex. `{x:300}` would tween the x\n\t * property of the target to 300).\n\t * @param {Number} [duration=0] The duration of the tween in milliseconds (or in ticks if `useTicks` is true).\n\t * @param {Function} [ease=\"linear\"] The easing function to use for this tween. See the {{#crossLink \"Ease\"}}{{/crossLink}}\n\t * class for a list of built-in ease functions.\n\t * @return {Tween} This tween instance (for chaining calls).\n\t * @chainable\n\t */\n\tp.to = function(props, duration, ease) {\n\t\tif (duration == null || duration < 0) { duration = 0; }\n\t\tvar step = this._addStep(+duration, null, ease);\n\t\tthis._appendProps(props, step);\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Adds a label that can be used with {{#crossLink \"Tween/gotoAndPlay\"}}{{/crossLink}}/{{#crossLink \"Tween/gotoAndStop\"}}{{/crossLink}}\n\t * at the current point in the tween. For example:\n\t * \n\t * \tvar tween = createjs.Tween.get(foo)\n\t * \t\t\t\t\t.to({x:100}, 1000)\n\t * \t\t\t\t\t.label(\"myLabel\")\n\t * \t\t\t\t\t.to({x:200}, 1000);\n\t * // ...\n\t * tween.gotoAndPlay(\"myLabel\"); // would play from 1000ms in.\n\t * \n\t * @method addLabel\n\t * @param {String} label The label name.\n\t * @return {Tween} This tween instance (for chaining calls).\n\t * @chainable\n\t **/\n\tp.label = function(name) {\n\t\tthis.addLabel(name, this.duration);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Adds an action to call the specified function.\n\t * <h4>Example</h4>\n\t *\n\t * \t//would call myFunction() after 1 second.\n\t * \tcreatejs.Tween.get().wait(1000).call(myFunction);\n\t *\n\t * @method call\n\t * @param {Function} callback The function to call.\n\t * @param {Array} [params]. The parameters to call the function with. If this is omitted, then the function\n\t * will be called with a single param pointing to this tween.\n\t * @param {Object} [scope]. The scope to call the function in. If omitted, it will be called in the target's scope.\n\t * @return {Tween} This tween instance (for chaining calls).\n\t * @chainable\n\t */\n\tp.call = function(callback, params, scope) {\n\t\treturn this._addAction(scope||this.target, callback, params||[this]);\n\t};\n\n\t/**\n\t * Adds an action to set the specified props on the specified target. If `target` is null, it will use this tween's\n\t * target. Note that for properties on the target object, you should consider using a zero duration {{#crossLink \"Tween/to\"}}{{/crossLink}}\n\t * operation instead so the values are registered as tweened props.\n\t * <h4>Example</h4>\n\t *\n\t *\tmyTween.wait(1000).set({visible:false}, foo);\n\t *\n\t * @method set\n\t * @param {Object} props The properties to set (ex. `{visible:false}`).\n\t * @param {Object} [target] The target to set the properties on. If omitted, they will be set on the tween's target.\n\t * @return {Tween} This tween instance (for chaining calls).\n\t * @chainable\n\t */\n\tp.set = function(props, target) {\n\t\treturn this._addAction(target||this.target, this._set, [props]);\n\t};\n\n\t/**\n\t * Adds an action to play (unpause) the specified tween. This enables you to sequence multiple tweens.\n\t * <h4>Example</h4>\n\t *\n\t *\tmyTween.to({x:100}, 500).play(otherTween);\n\t *\n\t * @method play\n\t * @param {Tween} [tween] The tween to play. Defaults to this tween.\n\t * @return {Tween} This tween instance (for chaining calls).\n\t * @chainable\n\t */\n\tp.play = function(tween) {\n\t\treturn this._addAction(tween||this, this._set, [{paused:false}]);\n\t};\n\n\t/**\n\t * Adds an action to pause the specified tween.\n\t * \n\t * \tmyTween.pause(otherTween).to({alpha:1}, 1000).play(otherTween);\n\t * \n\t * Note that this executes at the end of a tween update, so the tween may advance beyond the time the pause\n\t * action was inserted at. For example:\n\t * \n\t * myTween.to({foo:0}, 1000).pause().to({foo:1}, 1000);\n\t * \n\t * At 60fps the tween will advance by ~16ms per tick, if the tween above was at 999ms prior to the current tick, it\n\t * will advance to 1015ms (15ms into the second \"step\") and then pause.\n\t * \n\t * @method pause\n\t * @param {Tween} [tween] The tween to pause. Defaults to this tween.\n\t * @return {Tween} This tween instance (for chaining calls)\n\t * @chainable\n\t */\n\tp.pause = function(tween) {\n\t\treturn this._addAction(tween||this, this._set, [{paused:true}]);\n\t};\n\n\t// tiny api (primarily for tool output):\n\tp.w = p.wait;\n\tp.t = p.to;\n\tp.c = p.call;\n\tp.s = p.set;\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t */\n\tp.toString = function() {\n\t\treturn \"[Tween]\";\n\t};\n\n\t/**\n\t * @method clone\n\t * @protected\n\t */\n\tp.clone = function() {\n\t\tthrow(\"Tween can not be cloned.\")\n\t};\n\n\n// private methods:\n\t/**\n\t * Adds a plugin to this tween.\n\t * @method _addPlugin\n\t * @param {Object} plugin\n\t * @protected\n\t */\n\tp._addPlugin = function(plugin) {\n\t\tvar ids = this._pluginIds || (this._pluginIds = {}), id = plugin.ID;\n\t\tif (!id || ids[id]) { return; } // already added\n\t\t\n\t\tids[id] = true;\n\t\tvar plugins = this._plugins || (this._plugins = []), priority = plugin.priority || 0;\n\t\tfor (var i=0,l=plugins.length; i<l; i++) {\n\t\t\tif (priority < plugins[i].priority) {\n\t\t\t\tplugins.splice(i,0,plugin);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tplugins.push(plugin);\n\t};\n\t\n\t// Docced in AbstractTween\n\tp._updatePosition = function(jump, end) {\n\t\tvar step = this._stepHead.next, t=this.position, d=this.duration;\n\t\tif (this.target && step) {\n\t\t\t// find our new step index:\n\t\t\tvar stepNext = step.next;\n\t\t\twhile (stepNext && stepNext.t <= t) { step = step.next; stepNext = step.next; }\n\t\t\tvar ratio = end ? d === 0 ? 1 : t/d : (t-step.t)/step.d; // TODO: revisit this.\n\t\t\tthis._updateTargetProps(step, ratio, end);\n\t\t}\n\t\tthis._stepPosition = step ? t-step.t : 0;\n\t};\n\t\n\t/**\n\t * @method _updateTargetProps\n\t * @param {Object} step\n\t * @param {Number} ratio\n\t * @param {Boolean} end Indicates to plugins that the full tween has ended.\n\t * @protected\n\t */\n\tp._updateTargetProps = function(step, ratio, end) {\n\t\tif (this.passive = !!step.passive) { return; } // don't update props.\n\t\t\n\t\tvar v, v0, v1, ease;\n\t\tvar p0 = step.prev.props;\n\t\tvar p1 = step.props;\n\t\tif (ease = step.ease) { ratio = ease(ratio,0,1,1); }\n\t\t\n\t\tvar plugins = this._plugins;\n\t\tproploop : for (var n in p0) {\n\t\t\tv0 = p0[n];\n\t\t\tv1 = p1[n];\n\t\t\t\n\t\t\t// values are different & it is numeric then interpolate:\n\t\t\tif (v0 !== v1 && (typeof(v0) === \"number\")) {\n\t\t\t\tv = v0+(v1-v0)*ratio;\n\t\t\t} else {\n\t\t\t\tv = ratio >= 1 ? v1 : v0;\n\t\t\t}\n\t\t\t\n\t\t\tif (plugins) {\n\t\t\t\tfor (var i=0,l=plugins.length;i<l;i++) {\n\t\t\t\t\tvar value = plugins[i].change(this, step, n, v, ratio, end);\n\t\t\t\t\tif (value === Tween.IGNORE) { continue proploop; }\n\t\t\t\t\tif (value !== undefined) { v = value; }\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.target[n] = v;\n\t\t}\n\n\t};\n\t\n\t/**\n\t * @method _runActionsRange\n\t * @param {Number} startPos\n\t * @param {Number} endPos\n\t * @param {Boolean} includeStart\n\t * @protected\n\t */\n\tp._runActionsRange = function(startPos, endPos, jump, includeStart) {\n\t\tvar rev = startPos > endPos;\n\t\tvar action = rev ? this._actionTail : this._actionHead;\n\t\tvar ePos = endPos, sPos = startPos;\n\t\tif (rev) { ePos=startPos; sPos=endPos; }\n\t\tvar t = this.position;\n\t\twhile (action) {\n\t\t\tvar pos = action.t;\n\t\t\tif (pos === endPos || (pos > sPos && pos < ePos) || (includeStart && pos === startPos)) {\n\t\t\t\taction.funct.apply(action.scope, action.params);\n\t\t\t\tif (t !== this.position) { return true; }\n\t\t\t}\n\t\t\taction = rev ? action.prev : action.next;\n\t\t}\n\t};\n\n\t/**\n\t * @method _appendProps\n\t * @param {Object} props\n\t * @protected\n\t */\n\tp._appendProps = function(props, step, stepPlugins) {\n\t\tvar initProps = this._stepHead.props, target = this.target, plugins = Tween._plugins;\n\t\tvar n, i, value, initValue, inject;\n\t\tvar oldStep = step.prev, oldProps = oldStep.props;\n\t\tvar stepProps = step.props || (step.props = this._cloneProps(oldProps));\n\t\tvar cleanProps = {}; // TODO: is there some way to avoid this additional object?\n\n\t\tfor (n in props) {\n\t\t\tif (!props.hasOwnProperty(n)) { continue; }\n\t\t\tcleanProps[n] = stepProps[n] = props[n];\n\n\t\t\tif (initProps[n] !== undefined) { continue; }\n\n\t\t\tinitValue = undefined; // accessing missing properties on DOMElements when using CSSPlugin is INSANELY expensive, so we let the plugin take a first swing at it.\n\t\t\tif (plugins) {\n\t\t\t\tfor (i = plugins.length-1; i >= 0; i--) {\n\t\t\t\t\tvalue = plugins[i].init(this, n, initValue);\n\t\t\t\t\tif (value !== undefined) { initValue = value; }\n\t\t\t\t\tif (initValue === Tween.IGNORE) {\n\t\t\t\t\t\tdelete(stepProps[n]);\n\t\t\t\t\t\tdelete(cleanProps[n]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (initValue !== Tween.IGNORE) {\n\t\t\t\tif (initValue === undefined) { initValue = target[n]; }\n\t\t\t\toldProps[n] = (initValue === undefined) ? null : initValue;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor (n in cleanProps) {\n\t\t\tvalue = props[n];\n\n\t\t\t// propagate old value to previous steps:\n\t\t\tvar o, prev=oldStep;\n\t\t\twhile ((o = prev) && (prev = o.prev)) {\n\t\t\t\tif (prev.props === o.props) { continue; } // wait step\n\t\t\t\tif (prev.props[n] !== undefined) { break; } // already has a value, we're done.\n\t\t\t\tprev.props[n] = oldProps[n];\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (stepPlugins !== false && (plugins = this._plugins)) {\n\t\t\tfor (i = plugins.length-1; i >= 0; i--) {\n\t\t\t\tplugins[i].step(this, step, cleanProps);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (inject = this._injected) {\n\t\t\tthis._injected = null;\n\t\t\tthis._appendProps(inject, step, false);\n\t\t}\n\t};\n\t\n\t/**\n\t * Used by plugins to inject properties onto the current step. Called from within `Plugin.step` calls.\n\t * For example, a plugin dealing with color, could read a hex color, and inject red, green, and blue props into the tween.\n\t * See the SamplePlugin for more info.\n\t * @method _injectProp\n\t * @param {String} name\n\t * @param {Object} value\n\t * @protected\n\t */\n\tp._injectProp = function(name, value) {\n\t\tvar o = this._injected || (this._injected = {});\n\t\to[name] = value;\n\t};\n\n\t/**\n\t * @method _addStep\n\t * @param {Number} duration\n\t * @param {Object} props\n\t * @param {Function} ease\n\t * @param {Boolean} passive\n\t * @protected\n\t */\n\tp._addStep = function(duration, props, ease, passive) {\n\t\tvar step = new TweenStep(this._stepTail, this.duration, duration, props, ease, passive||false);\n\t\tthis.duration += duration;\n\t\treturn this._stepTail = (this._stepTail.next = step);\n\t};\n\n\t/**\n\t * @method _addAction\n\t * @param {Object} scope\n\t * @param {Function} funct\n\t * @param {Array} params\n\t * @protected\n\t */\n\tp._addAction = function(scope, funct, params) {\n\t\tvar action = new TweenAction(this._actionTail, this.duration, scope, funct, params);\n\t\tif (this._actionTail) { this._actionTail.next = action; }\n\t\telse { this._actionHead = action; }\n\t\tthis._actionTail = action;\n\t\treturn this;\n\t};\n\n\t/**\n\t * @method _set\n\t * @param {Object} props\n\t * @protected\n\t */\n\tp._set = function(props) {\n\t\tfor (var n in props) {\n\t\t\tthis[n] = props[n];\n\t\t}\n\t};\n\n\t/**\n\t * @method _cloneProps\n\t * @param {Object} props\n\t * @protected\n\t */\n\tp._cloneProps = function(props) {\n\t\tvar o = {};\n\t\tfor (var n in props) { o[n] = props[n]; }\n\t\treturn o;\n\t};\n\n\tcreatejs.Tween = createjs.promote(Tween, \"AbstractTween\");\n\t\n\tfunction TweenStep(prev, t, d, props, ease, passive) {\n\t\tthis.next = null;\n\t\tthis.prev = prev;\n\t\tthis.t = t;\n\t\tthis.d = d;\n\t\tthis.props = props;\n\t\tthis.ease = ease;\n\t\tthis.passive = passive;\n\t\tthis.index = prev ? prev.index+1 : 0;\n\t};\n\t\n\tfunction TweenAction(prev, t, scope, funct, params) {\n\t\tthis.next = null;\n\t\tthis.prev = prev;\n\t\tthis.t = t;\n\t\tthis.d = 0;\n\t\tthis.scope = scope;\n\t\tthis.funct = funct;\n\t\tthis.params = params;\n\t};\n}());\n\n//##############################################################################\n// Timeline.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n\n(function() {\n\t\"use strict\";\n\t\n\n// constructor\t\n\t/**\n\t * The Timeline class synchronizes multiple tweens and allows them to be controlled as a group. Please note that if a\n\t * timeline is looping, the tweens on it may appear to loop even if the \"loop\" property of the tween is false.\n\t * \n\t * NOTE: Timeline currently also accepts a param list in the form: `tweens, labels, props`. This is for backwards\n\t * compatibility only and will be removed in the future. Include tweens and labels as properties on the props object.\n\t * @class Timeline\n\t * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n\t * Supported props are listed below. These props are set on the corresponding instance properties except where\n\t * specified.<UL>\n\t *    <LI> `useTicks`</LI>\n\t *    <LI> `ignoreGlobalPause`</LI>\n\t *    <LI> `loop`</LI>\n\t *    <LI> `reversed`</LI>\n\t *    <LI> `bounce`</LI>\n\t *    <LI> `timeScale`</LI>\n\t *    <LI> `paused`</LI>\n\t *    <LI> `position`: indicates the initial position for this tween.</LI>\n\t *    <LI> `onChange`: adds the specified function as a listener to the `change` event</LI>\n\t *    <LI> `onComplete`: adds the specified function as a listener to the `complete` event</LI>\n\t * </UL>\n\t * @extends AbstractTween\n\t * @constructor\n\t **/\n\tfunction Timeline(props) {\n\t\tvar tweens, labels;\n\t\t// handle old params (tweens, labels, props):\n\t\t// TODO: deprecated.\n\t\tif (props instanceof Array || (props == null && arguments.length > 1)) {\n\t\t\ttweens = props;\n\t\t\tlabels = arguments[1];\n\t\t\tprops = arguments[2];\n\t\t} else if (props) {\n\t\t\ttweens = props.tweens;\n\t\t\tlabels = props.labels;\n\t\t}\n\t\t\n\t\tthis.AbstractTween_constructor(props);\n\n\t// private properties:\n\t\t/**\n\t\t * The array of tweens in the timeline. It is *strongly* recommended that you use\n\t\t * {{#crossLink \"Tween/addTween\"}}{{/crossLink}} and {{#crossLink \"Tween/removeTween\"}}{{/crossLink}},\n\t\t * rather than accessing this directly, but it is included for advanced uses.\n\t\t * @property tweens\n\t\t * @type Array\n\t\t **/\n\t\tthis.tweens = [];\n\t\t\n\t\tif (tweens) { this.addTween.apply(this, tweens); }\n\t\tthis.setLabels(labels);\n\t\t\n\t\tthis._init(props);\n\t};\n\t\n\tvar p = createjs.extend(Timeline, createjs.AbstractTween);\n\n\t\n// events:\n\t// docced in AbstractTween.\n\n\n// public methods:\n\t/**\n\t * Adds one or more tweens (or timelines) to this timeline. The tweens will be paused (to remove them from the\n\t * normal ticking system) and managed by this timeline. Adding a tween to multiple timelines will result in\n\t * unexpected behaviour.\n\t * @method addTween\n\t * @param {Tween} ...tween The tween(s) to add. Accepts multiple arguments.\n\t * @return {Tween} The first tween that was passed in.\n\t **/\n\tp.addTween = function(tween) {\n\t\tif (tween._parent) { tween._parent.removeTween(tween); }\n\t\t\n\t\tvar l = arguments.length;\n\t\tif (l > 1) {\n\t\t\tfor (var i=0; i<l; i++) { this.addTween(arguments[i]); }\n\t\t\treturn arguments[l-1];\n\t\t} else if (l === 0) { return null; }\n\t\t\n\t\tthis.tweens.push(tween);\n\t\ttween._parent = this;\n\t\ttween.paused = true;\n\t\tvar d = tween.duration;\n\t\tif (tween.loop > 0) { d *= tween.loop+1; }\n\t\tif (d > this.duration) { this.duration = d; }\n\t\t\n\t\tif (this.rawPosition >= 0) { tween.setPosition(this.rawPosition); }\n\t\treturn tween;\n\t};\n\n\t/**\n\t * Removes one or more tweens from this timeline.\n\t * @method removeTween\n\t * @param {Tween} ...tween The tween(s) to remove. Accepts multiple arguments.\n\t * @return Boolean Returns `true` if all of the tweens were successfully removed.\n\t **/\n\tp.removeTween = function(tween) {\n\t\tvar l = arguments.length;\n\t\tif (l > 1) {\n\t\t\tvar good = true;\n\t\t\tfor (var i=0; i<l; i++) { good = good && this.removeTween(arguments[i]); }\n\t\t\treturn good;\n\t\t} else if (l === 0) { return true; }\n\n\t\tvar tweens = this.tweens;\n\t\tvar i = tweens.length;\n\t\twhile (i--) {\n\t\t\tif (tweens[i] === tween) {\n\t\t\t\ttweens.splice(i, 1);\n\t\t\t\ttween._parent = null;\n\t\t\t\tif (tween.duration >= this.duration) { this.updateDuration(); }\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * Recalculates the duration of the timeline. The duration is automatically updated when tweens are added or removed,\n\t * but this method is useful if you modify a tween after it was added to the timeline.\n\t * @method updateDuration\n\t **/\n\tp.updateDuration = function() {\n\t\tthis.duration = 0;\n\t\tfor (var i=0,l=this.tweens.length; i<l; i++) {\n\t\t\tvar tween = this.tweens[i];\n\t\t\tvar d = tween.duration;\n\t\t\tif (tween.loop > 0) { d *= tween.loop+1; }\n\t\t\tif (d > this.duration) { this.duration = d; }\n\t\t}\n\t};\n\n\t/**\n\t* Returns a string representation of this object.\n\t* @method toString\n\t* @return {String} a string representation of the instance.\n\t**/\n\tp.toString = function() {\n\t\treturn \"[Timeline]\";\n\t};\n\n\t/**\n\t * @method clone\n\t * @protected\n\t **/\n\tp.clone = function() {\n\t\tthrow(\"Timeline can not be cloned.\")\n\t};\n\n// private methods:\n\t\n\t// Docced in AbstractTween\n\tp._updatePosition = function(jump, end) {\n\t\tvar t = this.position;\n\t\tfor (var i=0, l=this.tweens.length; i<l; i++) {\n\t\t\tthis.tweens[i].setPosition(t, true, jump); // actions will run after all the tweens update.\n\t\t}\n\t};\n\t\n\t// Docced in AbstractTween\n\tp._runActionsRange = function(startPos, endPos, jump, includeStart) {\n\t\t//console.log(\"\trange\", startPos, endPos, jump, includeStart);\n\t\tvar t = this.position;\n\t\tfor (var i=0, l=this.tweens.length; i<l; i++) {\n\t\t\tthis.tweens[i]._runActions(startPos, endPos, jump, includeStart);\n\t\t\tif (t !== this.position) { return true; } // an action changed this timeline's position.\n\t\t}\n\t};\n\n\n\tcreatejs.Timeline = createjs.promote(Timeline, \"AbstractTween\");\n\n}());\n\n//##############################################################################\n// Ease.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\t/**\n\t * The Ease class provides a collection of easing functions for use with TweenJS. It does not use the standard 4 param\n\t * easing signature. Instead it uses a single param which indicates the current linear ratio (0 to 1) of the tween.\n\t *\n\t * Most methods on Ease can be passed directly as easing functions:\n\t *\n\t *      Tween.get(target).to({x:100}, 500, Ease.linear);\n\t *\n\t * However, methods beginning with \"get\" will return an easing function based on parameter values:\n\t *\n\t *      Tween.get(target).to({y:200}, 500, Ease.getPowIn(2.2));\n\t *\n\t * Please see the <a href=\"http://www.createjs.com/Demos/TweenJS/Tween_SparkTable\">spark table demo</a> for an\n\t * overview of the different ease types on <a href=\"http://tweenjs.com\">TweenJS.com</a>.\n\t *\n\t * <em>Equations derived from work by Robert Penner.</em>\n\t * @class Ease\n\t * @static\n\t **/\n\tfunction Ease() {\n\t\tthrow \"Ease cannot be instantiated.\";\n\t}\n\n\n// static methods and properties\n\t/**\n\t * @method linear\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.linear = function(t) { return t; };\n\n\t/**\n\t * Identical to linear.\n\t * @method none\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.none = Ease.linear;\n\n\t/**\n\t * Mimics the simple -100 to 100 easing in Adobe Flash/Animate.\n\t * @method get\n\t * @param {Number} amount A value from -1 (ease in) to 1 (ease out) indicating the strength and direction of the ease.\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.get = function(amount) {\n\t\tif (amount < -1) { amount = -1; }\n\t\telse if (amount > 1) { amount = 1; }\n\t\treturn function(t) {\n\t\t\tif (amount==0) { return t; }\n\t\t\tif (amount<0) { return t*(t*-amount+1+amount); }\n\t\t\treturn t*((2-t)*amount+(1-amount));\n\t\t};\n\t};\n\n\t/**\n\t * Configurable exponential ease.\n\t * @method getPowIn\n\t * @param {Number} pow The exponent to use (ex. 3 would return a cubic ease).\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getPowIn = function(pow) {\n\t\treturn function(t) {\n\t\t\treturn Math.pow(t,pow);\n\t\t};\n\t};\n\n\t/**\n\t * Configurable exponential ease.\n\t * @method getPowOut\n\t * @param {Number} pow The exponent to use (ex. 3 would return a cubic ease).\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getPowOut = function(pow) {\n\t\treturn function(t) {\n\t\t\treturn 1-Math.pow(1-t,pow);\n\t\t};\n\t};\n\n\t/**\n\t * Configurable exponential ease.\n\t * @method getPowInOut\n\t * @param {Number} pow The exponent to use (ex. 3 would return a cubic ease).\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getPowInOut = function(pow) {\n\t\treturn function(t) {\n\t\t\tif ((t*=2)<1) return 0.5*Math.pow(t,pow);\n\t\t\treturn 1-0.5*Math.abs(Math.pow(2-t,pow));\n\t\t};\n\t};\n\n\t/**\n\t * @method quadIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quadIn = Ease.getPowIn(2);\n\t/**\n\t * @method quadOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quadOut = Ease.getPowOut(2);\n\t/**\n\t * @method quadInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quadInOut = Ease.getPowInOut(2);\n\n\t/**\n\t * @method cubicIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.cubicIn = Ease.getPowIn(3);\n\t/**\n\t * @method cubicOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.cubicOut = Ease.getPowOut(3);\n\t/**\n\t * @method cubicInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.cubicInOut = Ease.getPowInOut(3);\n\n\t/**\n\t * @method quartIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quartIn = Ease.getPowIn(4);\n\t/**\n\t * @method quartOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quartOut = Ease.getPowOut(4);\n\t/**\n\t * @method quartInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quartInOut = Ease.getPowInOut(4);\n\n\t/**\n\t * @method quintIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quintIn = Ease.getPowIn(5);\n\t/**\n\t * @method quintOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quintOut = Ease.getPowOut(5);\n\t/**\n\t * @method quintInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.quintInOut = Ease.getPowInOut(5);\n\n\t/**\n\t * @method sineIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.sineIn = function(t) {\n\t\treturn 1-Math.cos(t*Math.PI/2);\n\t};\n\n\t/**\n\t * @method sineOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.sineOut = function(t) {\n\t\treturn Math.sin(t*Math.PI/2);\n\t};\n\n\t/**\n\t * @method sineInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.sineInOut = function(t) {\n\t\treturn -0.5*(Math.cos(Math.PI*t) - 1);\n\t};\n\n\t/**\n\t * Configurable \"back in\" ease.\n\t * @method getBackIn\n\t * @param {Number} amount The strength of the ease.\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getBackIn = function(amount) {\n\t\treturn function(t) {\n\t\t\treturn t*t*((amount+1)*t-amount);\n\t\t};\n\t};\n\t/**\n\t * @method backIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.backIn = Ease.getBackIn(1.7);\n\n\t/**\n\t * Configurable \"back out\" ease.\n\t * @method getBackOut\n\t * @param {Number} amount The strength of the ease.\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getBackOut = function(amount) {\n\t\treturn function(t) {\n\t\t\treturn (--t*t*((amount+1)*t + amount) + 1);\n\t\t};\n\t};\n\t/**\n\t * @method backOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.backOut = Ease.getBackOut(1.7);\n\n\t/**\n\t * Configurable \"back in out\" ease.\n\t * @method getBackInOut\n\t * @param {Number} amount The strength of the ease.\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getBackInOut = function(amount) {\n\t\tamount*=1.525;\n\t\treturn function(t) {\n\t\t\tif ((t*=2)<1) return 0.5*(t*t*((amount+1)*t-amount));\n\t\t\treturn 0.5*((t-=2)*t*((amount+1)*t+amount)+2);\n\t\t};\n\t};\n\t/**\n\t * @method backInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.backInOut = Ease.getBackInOut(1.7);\n\n\t/**\n\t * @method circIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.circIn = function(t) {\n\t\treturn -(Math.sqrt(1-t*t)- 1);\n\t};\n\n\t/**\n\t * @method circOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.circOut = function(t) {\n\t\treturn Math.sqrt(1-(--t)*t);\n\t};\n\n\t/**\n\t * @method circInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.circInOut = function(t) {\n\t\tif ((t*=2) < 1) return -0.5*(Math.sqrt(1-t*t)-1);\n\t\treturn 0.5*(Math.sqrt(1-(t-=2)*t)+1);\n\t};\n\n\t/**\n\t * @method bounceIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.bounceIn = function(t) {\n\t\treturn 1-Ease.bounceOut(1-t);\n\t};\n\n\t/**\n\t * @method bounceOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.bounceOut = function(t) {\n\t\tif (t < 1/2.75) {\n\t\t\treturn (7.5625*t*t);\n\t\t} else if (t < 2/2.75) {\n\t\t\treturn (7.5625*(t-=1.5/2.75)*t+0.75);\n\t\t} else if (t < 2.5/2.75) {\n\t\t\treturn (7.5625*(t-=2.25/2.75)*t+0.9375);\n\t\t} else {\n\t\t\treturn (7.5625*(t-=2.625/2.75)*t +0.984375);\n\t\t}\n\t};\n\n\t/**\n\t * @method bounceInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.bounceInOut = function(t) {\n\t\tif (t<0.5) return Ease.bounceIn (t*2) * .5;\n\t\treturn Ease.bounceOut(t*2-1)*0.5+0.5;\n\t};\n\n\t/**\n\t * Configurable elastic ease.\n\t * @method getElasticIn\n\t * @param {Number} amplitude\n\t * @param {Number} period\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getElasticIn = function(amplitude,period) {\n\t\tvar pi2 = Math.PI*2;\n\t\treturn function(t) {\n\t\t\tif (t==0 || t==1) return t;\n\t\t\tvar s = period/pi2*Math.asin(1/amplitude);\n\t\t\treturn -(amplitude*Math.pow(2,10*(t-=1))*Math.sin((t-s)*pi2/period));\n\t\t};\n\t};\n\t/**\n\t * @method elasticIn\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.elasticIn = Ease.getElasticIn(1,0.3);\n\n\t/**\n\t * Configurable elastic ease.\n\t * @method getElasticOut\n\t * @param {Number} amplitude\n\t * @param {Number} period\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getElasticOut = function(amplitude,period) {\n\t\tvar pi2 = Math.PI*2;\n\t\treturn function(t) {\n\t\t\tif (t==0 || t==1) return t;\n\t\t\tvar s = period/pi2 * Math.asin(1/amplitude);\n\t\t\treturn (amplitude*Math.pow(2,-10*t)*Math.sin((t-s)*pi2/period )+1);\n\t\t};\n\t};\n\t/**\n\t * @method elasticOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.elasticOut = Ease.getElasticOut(1,0.3);\n\n\t/**\n\t * Configurable elastic ease.\n\t * @method getElasticInOut\n\t * @param {Number} amplitude\n\t * @param {Number} period\n\t * @static\n\t * @return {Function}\n\t **/\n\tEase.getElasticInOut = function(amplitude,period) {\n\t\tvar pi2 = Math.PI*2;\n\t\treturn function(t) {\n\t\t\tvar s = period/pi2 * Math.asin(1/amplitude);\n\t\t\tif ((t*=2)<1) return -0.5*(amplitude*Math.pow(2,10*(t-=1))*Math.sin( (t-s)*pi2/period ));\n\t\t\treturn amplitude*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*pi2/period)*0.5+1;\n\t\t};\n\t};\n\t/**\n\t * @method elasticInOut\n\t * @param {Number} t\n\t * @static\n\t * @return {Number}\n\t **/\n\tEase.elasticInOut = Ease.getElasticInOut(1,0.3*1.5);\n\n\tcreatejs.Ease = Ease;\n\n}());\n\n//##############################################################################\n// MotionGuidePlugin.js\n//##############################################################################\n\nwindow.createjs = window.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\t/**\n\t * A TweenJS plugin for working with motion guides. Defined paths which objects can follow or orient along.\n\t *\n\t * To use the plugin, install the plugin after TweenJS has loaded. To define a path, add\n\t *\n\t * \t\tcreatejs.MotionGuidePlugin.install();\n\t *\n\t * <h4>Example</h4>\n\t *\n\t * \t\t// Using a Motion Guide\n\t * \t\tcreatejs.Tween.get(target).to({guide:{ path:[0,0, 0,200,200,200, 200,0,0,0] }},7000);\n\t * \t\t// Visualizing the line\n\t * \t\tgraphics.moveTo(0,0).curveTo(0,200,200,200).curveTo(200,0,0,0);\n\t *\n\t * Each path needs pre-computation to ensure there's fast performance. Because of the pre-computation there's no\n\t * built in support for path changes mid tween. These are the Guide Object's properties:<UL>\n\t * \t\t<LI> path: Required, Array : The x/y points used to draw the path with a moveTo and 1 to n curveTo calls.</LI>\n\t * \t\t<LI> start: Optional, 0-1 : Initial position, default 0 except for when continuing along the same path.</LI>\n\t * \t\t<LI> end: Optional, 0-1 : Final position, default 1 if not specified.</LI>\n\t * \t\t<LI> orient: Optional, string : \"fixed\"/\"auto\"/\"cw\"/\"ccw\"<UL>\n\t *\t\t\t\t<LI>\"fixed\" forces the object to face down the path all movement (relative to start rotation),</LI>\n\t * \t\t\t\t<LI>\"auto\" rotates the object along the path relative to the line.</LI>\n\t * \t\t\t\t<LI>\"cw\"/\"ccw\" force clockwise or counter clockwise rotations including Adobe Flash/Animate-like\n\t * \t\t\t\tbehaviour. This may override your end rotation value.</LI>\n\t * \t\t</UL></LI>\n\t * </UL>\n\t * Guide objects should not be shared between tweens even if all properties are identical, the library stores\n\t * information on these objects in the background and sharing them can cause unexpected behaviour. Values\n\t * outside 0-1 range of tweens will be a \"best guess\" from the appropriate part of the defined curve.\n\t *\n\t * @class MotionGuidePlugin\n\t * @constructor\n\t */\n\tfunction MotionGuidePlugin() {\n\t\tthrow(\"MotionGuidePlugin cannot be instantiated.\")\n\t}\n\tvar s = MotionGuidePlugin;\n\n\n// static properties:\n\t/**\n\t * @property priority\n\t * @protected\n\t * @static\n\t */\n\ts.priority = 0; // high priority, should run sooner\n\n\t/**\n\t * READ-ONLY. A unique identifying string for this plugin. Used by TweenJS to ensure duplicate plugins are not installed on a tween.\n\t * @property ID\n\t * @type {String}\n\t * @static\n\t * @readonly\n\t */\n\ts.ID = \"MotionGuide\";\n\n// static methods\n\t/**\n\t * Installs this plugin for use with TweenJS. Call this once after TweenJS is loaded to enable this plugin.\n\t * @method install\n\t * @static\n\t */\n\ts.install = function() {\n\t\tcreatejs.Tween._installPlugin(MotionGuidePlugin);\n\t\treturn createjs.Tween.IGNORE;\n\t};\n\n\t/**\n\t * Called by TweenJS when a new property initializes on a tween.\n\t * See {{#crossLink \"SamplePlugin/init\"}}{{/crossLink}} for more info.\n\t * @method init\n\t * @param {Tween} tween\n\t * @param {String} prop\n\t * @param {any} value\n\t * @return {any}\n\t * @static\n\t */\n\ts.init = function(tween, prop, value) {\n\t\tif(prop == \"guide\") {\n\t\t\ttween._addPlugin(s);\n\t\t}\n\t};\n\n\t/**\n\t * Called when a new step is added to a tween (ie. a new \"to\" action is added to a tween).\n\t * See {{#crossLink \"SamplePlugin/step\"}}{{/crossLink}} for more info.\n\t * @method step\n\t * @param {Tween} tween\n\t * @param {TweenStep} step\n\t * @param {Object} props\n\t * @static\n\t */\n\ts.step = function(tween, step, props) {\n\t\tfor (var n in props) {\n\t\t\tif(n !== \"guide\") { continue; }\n\n\t\t\tvar guideData = step.props.guide;\n\t\t\tvar error = s._solveGuideData(props.guide, guideData);\n\t\t\tguideData.valid = !error;\n\n\t\t\tvar end = guideData.endData;\n\t\t\ttween._injectProp(\"x\", end.x);\n\t\t\ttween._injectProp(\"y\", end.y);\n\n\t\t\tif(error || !guideData.orient) { break; }\n\n\t\t\tvar initRot = step.prev.props.rotation === undefined ? (tween.target.rotation || 0) : step.prev.props.rotation;\n\n\t\t\tguideData.startOffsetRot = initRot - guideData.startData.rotation;\n\n\t\t\tif(guideData.orient == \"fixed\") {\n\t\t\t\t// controlled rotation\n\t\t\t\tguideData.endAbsRot = end.rotation + guideData.startOffsetRot;\n\t\t\t\tguideData.deltaRotation = 0;\n\t\t\t} else {\n\t\t\t\t// interpreted rotation\n\n\t\t\t\tvar finalRot = props.rotation === undefined ? (tween.target.rotation || 0) : props.rotation;\n\t\t\t\tvar deltaRot = (finalRot - guideData.endData.rotation) - guideData.startOffsetRot;\n\t\t\t\tvar modRot = deltaRot % 360;\n\n\t\t\t\tguideData.endAbsRot = finalRot;\n\n\t\t\t\tswitch(guideData.orient) {\n\t\t\t\t\tcase \"auto\":\n\t\t\t\t\t\tguideData.deltaRotation = deltaRot;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"cw\":\n\t\t\t\t\t\tguideData.deltaRotation = ((modRot + 360) % 360) + (360 * Math.abs((deltaRot/360) |0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ccw\":\n\t\t\t\t\t\tguideData.deltaRotation = ((modRot - 360) % 360) + (-360 * Math.abs((deltaRot/360) |0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttween._injectProp(\"rotation\", guideData.endAbsRot);\n\t\t}\n\t};\n\n\t/**\n\t * Called before a property is updated by the tween.\n\t * See {{#crossLink \"SamplePlugin/change\"}}{{/crossLink}} for more info.\n\t * @method change\n\t * @param {Tween} tween\n\t * @param {TweenStep} step\n\t * @param {String} prop\n\t * @param {any} value\n\t * @param {Number} ratio\n\t * @param {Boolean} end\n\t * @return {any}\n\t * @static\n\t */\n\ts.change = function(tween, step, prop, value, ratio, end) {\n\t\tvar guideData = step.props.guide;\n\n\t\tif(\n\t\t\t\t!guideData ||\t\t\t\t\t\t\t// Missing data\n\t\t\t\t(step.props === step.prev.props) || \t// In a wait()\n\t\t\t\t(guideData === step.prev.props.guide) \t// Guide hasn't changed\n\t\t) {\n\t\t\treturn; // have no business making decisions\n\t\t}\n\t\tif(\n\t\t\t\t(prop === \"guide\" && !guideData.valid) ||\t\t// this data is broken\n\t\t\t\t(prop == \"x\" || prop == \"y\") ||\t\t\t\t\t// these always get over-written\n\t\t\t\t(prop === \"rotation\" && guideData.orient)\t\t// currently over-written\n\t\t){\n\t\t\treturn createjs.Tween.IGNORE;\n\t\t}\n\n\t\ts._ratioToPositionData(ratio, guideData, tween.target);\n\t};\n\n// public methods\n\t/**\n\t * Provide potentially useful debugging information, like running the error detection system, and rendering the path\n\t * defined in the guide data.\n\t *\n\t * NOTE: you will need to transform your context 2D to the local space of the guide if you wish to line it up.\n\t * @param {Object} guideData All the information describing the guide to be followed.\n\t * @param {DrawingContext2D} [ctx=undefined] The context to draw the object into.\n\t * @param {Array} [higlight=undefined] Array of ratio positions to highlight\n\t * @returns {undefined|String}\n\t */\n\ts.debug = function(guideData, ctx, higlight) {\n\t\tguideData = guideData.guide || guideData;\n\n\t\t// errors\n\t\tvar err = s._findPathProblems(guideData);\n\t\tif(err) {\n\t\t\tconsole.error(\"MotionGuidePlugin Error found: \\n\" + err);\n\t\t}\n\n\t\t// drawing\n\t\tif(!ctx){ return err; }\n\n\t\tvar i;\n\t\tvar path = guideData.path;\n\t\tvar pathLength = path.length;\n\t\tvar width = 3;\n\t\tvar length = 9;\n\n\t\tctx.save();\n\t\t//ctx.resetTransform();\n\n\t\tctx.lineCap = \"round\";\n\t\tctx.lineJoin = \"miter\";\n\t\tctx.beginPath();\n\n\t\t// curve\n\t\tctx.moveTo(path[0], path[1]);\n\t\tfor(i=2; i < pathLength; i+=4) {\n\t\t\tctx.quadraticCurveTo(\n\t\t\t\tpath[i], path[i+1],\n\t\t\t\tpath[i+2], path[i+3]\n\t\t\t);\n\t\t}\n\n\t\tctx.strokeStyle = \"black\";\n\t\tctx.lineWidth = width*1.5;\n\t\tctx.stroke();\n\t\tctx.strokeStyle = \"white\";\n\t\tctx.lineWidth = width;\n\t\tctx.stroke();\n\t\tctx.closePath();\n\n\t\t// highlights\n\t\tvar hiCount = higlight.length;\n\t\tif(higlight && hiCount) {\n\t\t\tvar tempStore = {};\n\t\t\tvar tempLook = {};\n\t\t\ts._solveGuideData(guideData, tempStore);\n\n\t\t\tfor(var i=0; i<hiCount; i++){\n\t\t\t\ttempStore.orient = \"fixed\";\n\t\t\t\ts._ratioToPositionData(higlight[i], tempStore, tempLook);\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.moveTo(tempLook.x, tempLook.y);\n\t\t\t\tctx.lineTo(\n\t\t\t\t\ttempLook.x + Math.cos(tempLook.rotation * 0.0174533) * length,\n\t\t\t\t\ttempLook.y + Math.sin(tempLook.rotation * 0.0174533) * length\n\t\t\t\t);\n\n\t\t\t\tctx.strokeStyle = \"black\";\n\t\t\t\tctx.lineWidth = width*1.5;\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.strokeStyle = \"red\";\n\t\t\t\tctx.lineWidth = width;\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}\n\n\t\t// end draw\n\t\tctx.restore();\n\n\t\treturn err;\n\t};\n\n// private methods\n\t/**\n\t * Calculate and store optimization data about the desired path to improve performance and accuracy of positions.\n\t * @param {Object} source The guide data provided to the tween call\n\t * @param {Object} storage the guide data used by the step calls and plugin to do the job, will be overwritten\n\t * @returns {undefined|String} Can return an error if unable to generate the data.\n\t * @private\n\t */\n\ts._solveGuideData = function(source, storage) {\n\t\tvar err = undefined;\n\t\tif(err = s.debug(source)) { return err; }\n\n\t\tvar path = storage.path = source.path;\n\t\tvar orient = storage.orient = source.orient;\n\t\tstorage.subLines = [];\n\t\tstorage.totalLength = 0;\n\t\tstorage.startOffsetRot = 0;\n\t\tstorage.deltaRotation = 0;\n\t\tstorage.startData = {ratio: 0};\n\t\tstorage.endData = {ratio: 1};\n\t\tstorage.animSpan = 1;\n\n\t\tvar pathLength = path.length;\n\n\t\tvar precision = 10;\n\t\tvar sx,sy, cx,cy, ex,ey, i,j, len, temp = {};\n\n\t\tsx = path[0];\t\tsy = path[1];\n\n\t\t// get the data for each curve\n\t\tfor(i=2; i < pathLength; i+=4) {\n\t\t\tcx = path[i];\t\t\tcy = path[i+1];\n\t\t\tex = path[i+2];\t\t\tey = path[i+3];\n\n\t\t\tvar subLine = {\n\t\t\t\tweightings: [],\n\t\t\t\testLength: 0,\n\t\t\t\tportion: 0\n\t\t\t};\n\n\t\t\tvar subX = sx, subY = sy;\n\t\t\t// get the distance data for each point\n\t\t\tfor(j=1; j <= precision;j++) {\t// we need to evaluate t = 1 not t = 0\n\t\t\t\ts._getParamsForCurve(sx,sy, cx,cy, ex,ey, j/precision, false, temp);\n\n\t\t\t\tvar dx = temp.x - subX, dy = temp.y - subY;\n\t\t\t\tlen = Math.sqrt(dx*dx + dy*dy);\n\t\t\t\tsubLine.weightings.push(len);\n\t\t\t\tsubLine.estLength += len;\n\n\t\t\t\tsubX = temp.x;\n\t\t\t\tsubY = temp.y;\n\t\t\t}\n\n\t\t\t// figure out full lengths\n\t\t\tstorage.totalLength += subLine.estLength;\n\n\t\t\t// use length to figure out proportional weightings\n\t\t\tfor(j=0; j < precision; j++) {\n\t\t\t\tlen = subLine.estLength;\n\t\t\t\tsubLine.weightings[j] = subLine.weightings[j] / len;\n\t\t\t}\n\n\t\t\tstorage.subLines.push(subLine);\n\t\t\tsx = ex;\n\t\t\tsy = ey;\n\t\t}\n\n\t\t// use length to figure out proportional weightings\n\t\tlen = storage.totalLength;\n\t\tvar l = storage.subLines.length;\n\t\tfor(i=0; i<l; i++) {\n\t\t\tstorage.subLines[i].portion = storage.subLines[i].estLength / len;\n\t\t}\n\n\t\t// determine start and end data\n\t\tvar startRatio = isNaN(source.start) ? 0 : source.start;\n\t\tvar endRatio = isNaN(source.end) ? 1 : source.end;\n\t\ts._ratioToPositionData(startRatio, storage, storage.startData);\n\t\ts._ratioToPositionData(endRatio, storage, storage.endData);\n\n\t\t// this has to be done last else the prev ratios will be out of place\n\t\tstorage.startData.ratio = startRatio;\n\t\tstorage.endData.ratio = endRatio;\n\t\tstorage.animSpan = storage.endData.ratio - storage.startData.ratio;\n\t};\n\n\t/**\n\t * Convert a percentage along the line into, a local line (start, control, end) t-value for calculation.\n\t * @param {Number} ratio The (euclidean distance) percentage into the whole curve.\n\t * @param {Object} guideData All the information describing the guide to be followed.\n\t * @param {Object} output Object to save output properties of x,y, and rotation onto.\n\t * @returns {Object} The output object, useful for isolated calls.\n\t * @private\n\t */\n\ts._ratioToPositionData = function(ratio, guideData, output) {\n\t\tvar lineSegments = guideData.subLines;\n\n\t\tvar i,l, t, test, target;\n\n\t\tvar look = 0;\n\t\tvar precision = 10;\n\t\tvar effRatio = (ratio * guideData.animSpan) + guideData.startData.ratio;\n\n\t\t// find subline\n\t\tl = lineSegments.length;\n\t\tfor(i=0; i<l; i++) {\n\t\t\ttest = lineSegments[i].portion;\n\t\t\tif(look + test >= effRatio){ target = i; break; }\n\t\t\tlook += test;\n\t\t}\n\t\tif(target === undefined) { target = l-1;  look -= test; }\n\n\t\t// find midline weighting\n\t\tvar subLines = lineSegments[target].weightings;\n\t\tvar portion = test;\n\t\tl = subLines.length;\n\t\tfor(i=0; i<l; i++) {\n\t\t\ttest = subLines[i] * portion;\n\t\t\tif(look + test >= effRatio){ break; }\n\t\t\tlook += test;\n\t\t}\n\n\t\t// translate the subline index into a position in the path data\n\t\ttarget = (target*4) + 2;\n\t\t// take the distance we've covered in our ratio, and scale it to distance into the weightings\n\t\tt = (i/precision) + (((effRatio-look) / test) * (1/precision));\n\n\t\t// position\n\t\tvar pathData = guideData.path;\n\t\ts._getParamsForCurve(\n\t\t\tpathData[target-2],\t\t\tpathData[target-1],\n\t\t\tpathData[target],\t\t\tpathData[target+1],\n\t\t\tpathData[target+2],\t\t\tpathData[target+3],\n\t\t\tt,\n\t\t\tguideData.orient,\n\t\t\toutput\n\t\t);\n\n\t\tif(guideData.orient) {\n\t\t\tif(ratio >= 0.99999 && ratio <= 1.00001 && guideData.endAbsRot !== undefined) {\n\t\t\t\toutput.rotation = guideData.endAbsRot;\n\t\t\t} else {\n\t\t\t\toutput.rotation += guideData.startOffsetRot + (ratio * guideData.deltaRotation);\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t};\n\n\t/**\n\t * For a given quadratic bezier t-value, what is the position and rotation. Save it onto the output object.\n\t * @param {Number} sx Start x.\n\t * @param {Number} sy Start y.\n\t * @param {Number} cx Control x.\n\t * @param {Number} cy Control y.\n\t * @param {Number} ex End x.\n\t * @param {Number} ey End y.\n\t * @param {Number} t T value (parametric distance into curve).\n\t * @param {Boolean} orient Save rotation data.\n\t * @param {Object} output Object to save output properties of x,y, and rotation onto.\n\t * @private\n\t */\n\ts._getParamsForCurve = function(sx,sy, cx,cy, ex,ey, t, orient, output) {\n\t\tvar inv = 1 - t;\n\n\t\t// finding a point on a bezier curve\n\t\toutput.x =\tinv*inv * sx + 2 * inv * t * cx + t*t * ex;\n\t\toutput.y =\tinv*inv * sy + 2 * inv * t * cy + t*t * ey;\n\n\t\t// finding an angle on a bezier curve\n\t\tif(orient) {\n\t\t\t// convert from radians back to degrees\n\t\t\toutput.rotation = 57.2957795 * Math.atan2(\n\t\t\t\t(cy - sy)*inv + (ey - cy)*t,\n\t\t\t\t(cx - sx)*inv + (ex - cx)*t\n\t\t\t);\n\t\t}\n\t};\n\n\t/**\n\t * Perform a check to validate path information so plugin can avoid later error checking.\n\t * @param {Object} guideData All the information describing the guide to be followed.\n\t * @returns {undefined|String} The problem found, or undefined if no problems.\n\t * @private\n\t */\n\ts._findPathProblems = function(guideData) {\n\t\tvar path = guideData.path;\n\t\tvar valueCount = (path && path.length) || 0;\t// ensure this is a number to simplify later logic\n\t\tif(valueCount < 6 || (valueCount-2) % 4) {\n\t\t\tvar message =\t\"\\tCannot parse 'path' array due to invalid number of entries in path. \";\n\t\t\tmessage +=\t\t\"There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). \";\n\t\t\tmessage +=\t\t\"See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\\n\\n\";\n\t\t\tmessage +=\t\t\"Only [ \"+ valueCount +\" ] values found. Expected: \"+ Math.max(Math.ceil((valueCount-2)/4)*4+2, 6); //6, 10, 14,...\n\t\t\treturn message;\n\t\t}\n\n\t\tfor(var i=0; i<valueCount; i++) {\n\t\t\tif(isNaN(path[i])){\n\t\t\t\treturn \"All data in path array must be numeric\";\n\t\t\t}\n\t\t}\n\n\t\tvar start = guideData.start;\n\t\tif(isNaN(start) && !(start === undefined)/* || start < 0 || start > 1*/) {\t// outside 0-1 is unpredictable, but not breaking\n\t\t\treturn \"'start' out of bounds. Expected 0 to 1, got: \"+ start;\n\t\t}\n\t\tvar end = guideData.end;\n\t\tif(isNaN(end) && (end !== undefined)/* || end < 0 || end > 1*/) {\t// outside 0-1 is unpredictable, but not breaking\n\t\t\treturn \"'end' out of bounds. Expected 0 to 1, got: \"+ end;\n\t\t}\n\n\t\tvar orient = guideData.orient;\n\t\tif(orient) { // mirror the check used elsewhere\n\t\t\tif(orient != \"fixed\" && orient != \"auto\" && orient != \"cw\" && orient != \"ccw\") {\n\t\t\t\treturn 'Invalid orientation value. Expected [\"fixed\", \"auto\", \"cw\", \"ccw\", undefined], got: '+ orient;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t};\n\n\tcreatejs.MotionGuidePlugin = MotionGuidePlugin;\n\n}());\n\n//##############################################################################\n// version.js\n//##############################################################################\n\nwindow.createjs = window.createjs || {};\n\n(function() {\n\t\"use strict\";\n\n\t/**\n\t * Static class holding library specific information such as the version and buildDate of\n\t * the library.\n\t * @class TweenJS\n\t **/\n\tvar s = createjs.TweenJS = createjs.TweenJS || {};\n\n\t/**\n\t * The version string for this release.\n\t * @property version\n\t * @type String\n\t * @static\n\t **/\n\ts.version = /*=version*/\"1.0.0\"; // injected by build process\n\n\t/**\n\t * The build date for this release in UTC format.\n\t * @property buildDate\n\t * @type String\n\t * @static\n\t **/\n\ts.buildDate = /*=date*/\"Thu, 14 Sep 2017 19:47:47 GMT\"; // injected by build process\n\n})();\n"],"mappings":"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CA;AACA;AACA;IACE,IAAI,CAACC,UAAU,GAAG,CAAC;;IAEnB;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACJ,OAAO,GAAG,CAAC,CAACA,OAAO;;IAExB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,UAAU,GAAG,CAAC,CAACA,UAAU;;IAE9B;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACI,SAAS,GAAI,IAAIC,IAAI,CAAC,CAAC,CAAEC,OAAO,CAAC,CAAC;;IAEvC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,gBAAgB,GAAG,KAAK;;IAE7B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,kBAAkB,GAAG,KAAK;;IAE/B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,2BAA2B,GAAG,KAAK;;IAExC;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,OAAO,GAAG,KAAK;EACrB;EACA,IAAIC,CAAC,GAAGd,KAAK,CAACnB,SAAS;;EAExB;EACC;AACD;AACA;AACA;AACA;AACA;EACCiC,CAAC,CAACC,cAAc,GAAG,YAAW;IAC7B,IAAI,CAACL,gBAAgB,GAAG,IAAI,CAACP,UAAU,IAAE,IAAI;EAC9C,CAAC;;EAED;AACD;AACA;AACA;AACA;EACCW,CAAC,CAACE,eAAe,GAAG,YAAW;IAC9B,IAAI,CAACL,kBAAkB,GAAG,IAAI;EAC/B,CAAC;;EAED;AACD;AACA;AACA;AACA;AACA;EACCG,CAAC,CAACG,wBAAwB,GAAG,YAAW;IACvC,IAAI,CAACL,2BAA2B,GAAG,IAAI,CAACD,kBAAkB,GAAG,IAAI;EAClE,CAAC;;EAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCG,CAAC,CAACI,MAAM,GAAG,YAAW;IACrB,IAAI,CAACL,OAAO,GAAG,IAAI;EACpB,CAAC;;EAED;AACD;AACA;AACA;AACA;EACCC,CAAC,CAACK,KAAK,GAAG,YAAW;IACpB,OAAO,IAAInB,KAAK,CAAC,IAAI,CAACC,IAAI,EAAE,IAAI,CAACC,OAAO,EAAE,IAAI,CAACC,UAAU,CAAC;EAC3D,CAAC;;EAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;EACCW,CAAC,CAACM,GAAG,GAAG,UAASC,KAAK,EAAE;IACvB,KAAK,IAAIhC,CAAC,IAAIgC,KAAK,EAAE;MAAE,IAAI,CAAChC,CAAC,CAAC,GAAGgC,KAAK,CAAChC,CAAC,CAAC;IAAE;IAC3C,OAAO,IAAI;EACZ,CAAC;;EAED;AACD;AACA;AACA;AACA;EACCyB,CAAC,CAACQ,QAAQ,GAAG,YAAW;IACvB,OAAO,eAAe,GAAC,IAAI,CAACrB,IAAI,GAAC,IAAI;EACtC,CAAC;EAED1B,QAAQ,CAACyB,KAAK,GAAGA,KAAK;AACvB,CAAC,EAAC,CAAC;;AAEH;AACA;AACA;;AAEA1B,MAAM,CAACC,QAAQ,GAAGD,MAAM,CAACC,QAAQ,IAAE,CAAC,CAAC;AAEpC,aAAW;EACX,YAAY;;EAGb;EACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC,SAASgD,eAAeA,CAAA,EAAG;IAG3B;IACC;AACF;AACA;AACA;AACA;IACE,IAAI,CAACC,UAAU,GAAG,IAAI;;IAEtB;AACF;AACA;AACA;AACA;IACE,IAAI,CAACC,iBAAiB,GAAG,IAAI;EAC9B;EACA,IAAIX,CAAC,GAAGS,eAAe,CAAC1C,SAAS;;EAElC;EACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC0C,eAAe,CAACG,UAAU,GAAG,UAAStB,MAAM,EAAE;IAC7CA,MAAM,CAACuB,gBAAgB,GAAGb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AQ,CAACtC,OAAO,GAAG,KAAK;QACzB;MACD;IACD;IACA,IAAIP,UAAU,KAAK,CAAC,EAAE;MAAE,IAAI,CAAC4B,cAAc,CAACiB,QAAQ,EAAE,GAAG,CAAC;IAAE;EAC7D,CAAC;EAGD5E,QAAQ,CAACgD,eAAe,GAAGA,eAAe;AAC3C,CAAC,EAAC,CAAC;;AAEH;AACA;AACA;;AAEAjD,MAAM,CAACC,QAAQ,GAAGD,MAAM,CAACC,QAAQ,IAAE,CAAC,CAAC;AAEpC,aAAW;EACX,YAAY;;EAGb;EACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC,SAASmF,MAAMA,CAAA,EAAG;IACjB,MAAM,gCAAgC;EACvC;;EAGD;EACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCA,MAAM,CAACC,WAAW,GAAG,SAAS;;EAE9B;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCD,MAAM,CAACE,GAAG,GAAG,KAAK;;EAElB;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCF,MAAM,CAACG,OAAO,GAAG,SAAS;;EAG3B;EACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAGA;EACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCH,MAAM,CAACI,UAAU,GAAG,IAAI;;EAExB;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCJ,MAAM,CAACK,QAAQ,GAAG,CAAC;;EAEnB;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCL,MAA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,aAAW;EACX,YAAY;;EAGb;EACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC,SAASiK,aAAaA,CAACnH,KAAK,EAAE;IAC7B,IAAI,CAACoH,2BAA2B,CAAC,CAAC;;IAEnC;IACC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,iBAAiB,GAAG,KAAK;;IAE9B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,IAAI,GAAG,CAAC;;IAEb;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,QAAQ,GAAG,KAAK;;IAErB;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,QAAQ,GAAG,KAAK;;IAErB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,MAAM,GAAG,KAAK;;IAEnB;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,SAAS,GAAG,CAAC;;IAElB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,QAAQ,GAAG,CAAC;;IAEjB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,QAAQ,GAAG,CAAC;;IAEjB;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC;;IAGtB;IACC;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,OAAO,GAAG,IAAI;;IAEnB;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,KAAK,GAAG,IAAI;;IAEjB;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,KAAK,GAAG,IAAI;;IAEjB;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,OAAO,GAAG,IAAI;;IAEnB;AACF;AACA;AACA;AACA;IACE,IAAI,CAACC,OAAO,GAAG,IAAI;;IAEnB;AACF;AACA;AACA;AACA;IACE,IAAI,CAACC,UA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC,SAASqL,KAAKA,CAACxJ,MAAM,EAAEiB,KAAK,EAAE;IAC7B,IAAI,CAAC4L,yBAAyB,CAAC5L,KAAK,CAAC;;IAEtC;;IAEC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAAC6L,UAAU,GAAG,IAAI;;IAEtB;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAAC9M,MAAM,GAAGA,MAAM;;IAEpB;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAAC+M,OAAO,GAAG,KAAK;;IAGrB;;IAEC;AACF;AACA;AACA;AACA;IACE,IAAI,CAACC,SAAS,GAAG,IAAIC,SAAS,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;;IAE1D;AACF;AACA;AACA;AACA;IACE,IAAI,CAACC,SAAS,GAAG,IAAI,CAACF,SAAS;;IAE/B;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACG,aAAa,GAAG,CAAC;;IAEtB;AACF;AACA;AACA;AACA;IACE,IAAI,CAACjB,WAAW,GAAG,IAAI;;IAEvB;AACF;AACA;AACA;AACA;IACE,IAAI,CAACkB,WAAW,GAAG,IAAI;;IAEvB;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,QAAQ,GAAG,IAAI;;IAEpB;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,UAAU,GAAG,IAAI;;IAEtB;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,SAAS,GAAG,IAAI;IAErB,IAAItM,KAAK,EAAE;MACV,IAAI,CAAC6L,UAAU,GAAG7L,KAAK,CAAC6L,UAAU;MAClC,IAAI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"},"metadata":{},"sourceType":"script"}