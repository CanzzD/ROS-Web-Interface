(this["webpackJsonpreact-ros-robot"]=this["webpackJsonpreact-ros-robot"]||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var o=n(6),c=n(1),s=n.n(c),a=n(22),i=n.n(a),r=(n(53),n(54),n(0)),l=n(2),O=n(3),j=n(4),h=n(24),R=n(46),b=n(13),u=n(69),d=n(70),E={ROSBRIDGE_SERVER_IP:"10.211.55.4",ROSBRIDGE_SERVER_PORT:"9090",RECONNECTION_TIMER:3e3,CMD_VEL_TOPIC:"/cmd_vel",ODOM_TOPIC:"/odom",POSE_TOPIC:"/amcl_pose"},_=n(40),v=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={ros:null,x:0,y:0,orientation:0,linear_velocity:0,angular_velocity:0},e.init_connection(),e}return Object(l.a)(n,[{key:"init_connection",value:function(){var e=this;this.state.ros=new window.ROSLIB.Ros,console.log(this.state.ros),this.state.ros.on("connection",(function(){console.log("connection established in Teleoperation Component!"),e.setState({connected:!0})})),this.state.ros.on("close",(function(){console.log("connection is closed!"),e.setState({connected:!1}),setTimeout((function(){try{e.state.ros.connect("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT)}catch(t){console.log("connection problem ")}}),E.RECONNECTION_TIMER)}));try{this.state.ros.connect("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT)}catch(t){console.log("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT),console.log("connection problem ")}}},{key:"componentDidMount",value:function(){this.getRobotState()}},{key:"getRobotState",value:function(){var e=this;new window.ROSLIB.Topic({ros:this.state.ros,name:E.POSE_TOPIC,messageType:"geometry_msgs/PoseWithCovarianceStamped"}).subscribe((function(t){e.setState({x:t.pose.pose.position.x.toFixed(2)}),e.setState({y:t.pose.pose.position.y.toFixed(2)}),e.setState({orientation:e.getOrientationFromQuaternion(t.pose.pose.orientation).toFixed(2)})})),new window.ROSLIB.Topic({ros:this.state.ros,name:E.ODOM_TOPIC,messageType:"nav_msgs/Odometry"}).subscribe((function(t){e.setState({linear_velocity:t.twist.twist.linear.x.toFixed(2)}),e.setState({angular_velocity:t.twist.twist.angular.z.toFixed(2)})}))}},{key:"getOrientationFromQuaternion",value:function(e){var t=new _.b(e.x,e.y,e.z,e.w);return(new _.a).setFromQuaternion(t)._z*(180/Math.PI)}},{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(u.a,{children:Object(o.jsxs)(d.a,{children:[Object(o.jsx)("h4",{className:"mt-4",children:"Position"}),Object(o.jsxs)("p",{className:"mt-0",children:["x: ",this.state.x]}),Object(o.jsxs)("p",{className:"mt-0",children:["y: ",this.state.y]}),Object(o.jsxs)("p",{className:"mt-0",children:["Orientation: ",this.state.orientation]})]})}),Object(o.jsx)(u.a,{children:Object(o.jsxs)(d.a,{children:[Object(o.jsx)("h4",{className:"mt-4",children:"Velocities"}),Object(o.jsxs)("p",{className:"mt-0",children:["Linear Velocity: ",this.state.linear_velocity]}),Object(o.jsxs)("p",{className:"mt-0",children:["Angular Velocity: ",this.state.angular_velocity]})]})})]})}}]),n}(s.a.Component),S=n(12),p=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={ros:null},e.view_map=e.view_map.bind(Object(S.a)(e)),e}return Object(l.a)(n,[{key:"init_connection",value:function(){this.state.ros=new window.ROSLIB.Ros,console.log("Map:"+this.state.ros);try{this.state.ros.connect("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT)}catch(e){console.log("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT),console.log("cannot connect to the WS robot. Try again after 1 second")}}},{key:"componentDidMount",value:function(){this.init_connection(),console.log("Map: componentDidMount"+this.state.ros),this.view_map()}},{key:"view_map",value:function(){var e=new window.ROS2D.Viewer({divID:"nav_div",width:640,height:480});new window.NAV2D.OccupancyGridClientNav({ros:this.state.ros,rootObject:e.scene,viewer:e,serverName:"/move_base",withOrientation:!0})}},{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{id:"nav_div",children:"Viewer"})})}}]),n}(c.Component),m=n(71),x=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={connected:!1,ros:null},e.init_connection(),e}return Object(l.a)(n,[{key:"init_connection",value:function(){var e=this;this.state.ros=new window.ROSLIB.Ros,console.log(this.state.ros),this.state.ros.on("connection",(function(){console.log("connection established!"),e.setState({connected:!0})})),this.state.ros.on("close",(function(){console.log("connection is closed!"),e.setState({connected:!1}),setTimeout((function(){try{e.state.ros.connect("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT)}catch(t){console.log("connection problem ")}}),E.RECONNECTION_TIMER)}));try{this.state.ros.connect("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT)}catch(t){console.log("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT),console.log("connection problem ")}}},{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)(m.a,{className:"text-center m-3",variant:this.state.connected?"success":"danger",children:this.state.connected?"Robot Connected":"Robot Disconnected"})})}}]),n}(s.a.Component),y=n(45),w=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={ros:null},e.init_connection(),e.handleMove=e.handleMove.bind(Object(S.a)(e)),e.handleStop=e.handleStop.bind(Object(S.a)(e)),e}return Object(l.a)(n,[{key:"init_connection",value:function(){var e=this;this.state.ros=new window.ROSLIB.Ros,console.log(this.state.ros),this.state.ros.on("connection",(function(){console.log("connection established!"),e.setState({connected:!0})})),this.state.ros.on("close",(function(){console.log("connection is closed!"),e.setState({connected:!1}),setTimeout((function(){try{e.state.ros.connect("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT)}catch(t){console.log("connection problem ")}}),E.RECONNECTION_TIMER)}));try{this.state.ros.connect("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT)}catch(t){console.log("ws://"+E.ROSBRIDGE_SERVER_IP+":"+E.ROSBRIDGE_SERVER_PORT),console.log("connection problem ")}}},{key:"handleMove",value:function(e){console.log("handle move");var t=new window.ROSLIB.Topic({ros:this.state.ros,name:E.CMD_VEL_TOPIC,messageType:"geometry_msgs/Twist"}),n=new window.ROSLIB.Message({linear:{x:e.y/50,y:0,z:0},angular:{x:0,y:0,z:-e.x/50}});t.publish(n)}},{key:"handleStop",value:function(e){console.log("stop");var t=new window.ROSLIB.Topic({ros:this.state.ros,name:E.CMD_VEL_TOPIC,messageType:"geometry_msgs/Twist"}),n=new window.ROSLIB.Message({linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:0}});t.publish(n)}},{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)(y.Joystick,{size:100,sticky:!0,baseColor:"#EEEEEE",stickColor:"#BBBBBB",move:this.handleMove,stop:this.handleStop})})}}]),n}(c.Component),I=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(o.jsx)("main",{children:Object(o.jsxs)(h.a,{children:[Object(o.jsx)("h1",{className:"text-center mt-3",children:"Robot Kontrol Sayfas\u0131"}),Object(o.jsx)(u.a,{children:Object(o.jsx)(d.a,{children:Object(o.jsx)(x,{})})}),Object(o.jsxs)(u.a,{children:[Object(o.jsx)(d.a,{children:Object(o.jsx)(w,{})}),Object(o.jsxs)(d.a,{children:[Object(o.jsx)("h1",{children:"MAP"}),Object(o.jsx)(p,{children:"/"})]})]}),Object(o.jsx)(u.a,{children:Object(o.jsx)(d.a,{children:Object(o.jsx)(v,{})})})]})})}}]),n}(s.a.Component),f=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Hakk\u0131nda"}),Object(o.jsx)("p",{children:"Ros i\xe7in Web Aray\xfcz \xc7al\u0131\u015fmas\u0131"})]})}}]),n}(s.a.Component),g=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(o.jsx)(h.a,{children:Object(o.jsx)(R.a,{children:Object(o.jsxs)(b.c,{children:[Object(o.jsx)(b.a,{path:"/",exact:!0,component:I}),Object(o.jsx)(b.a,{path:"/about",exact:!0,component:f})]})})})}}]),n}(s.a.Component),T=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(o.jsx)(h.a,{className:"text-center",children:Object(o.jsx)("p",{children:"BIRFEN ELECTR\u0130C \xa9 2023"})})}}]),n}(s.a.Component),B=n(35),C=n(29),P=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(o.jsx)(C.a,{bg:"dark",expand:"lg",variant:"dark",className:"bg-body-tertiary",collapseOnSelect:!0,children:Object(o.jsxs)(h.a,{children:[Object(o.jsx)(C.a.Brand,{href:"#home",children:"React ROS Robot Aray\xfcz\xfc"}),Object(o.jsx)(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(o.jsx)(C.a.Collapse,{id:"basic-navbar-nav",children:Object(o.jsxs)(B.a,{className:"me-auto",children:[Object(o.jsx)(B.a.Link,{href:"/",children:"Anasayfa"}),Object(o.jsx)(B.a.Link,{href:"/About",children:"Hakk\u0131nda"})]})})]})})}}]),n}(s.a.Component);var D=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(P,{}),Object(o.jsx)(g,{}),Object(o.jsx)(T,{})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),s(e),a(e)}))};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(D,{})}),document.getElementById("root")),k()}},[[67,1,2]]]);
//# sourceMappingURL=main.2799f07a.chunk.js.map